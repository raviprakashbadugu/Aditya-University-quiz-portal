var Kk=Object.defineProperty;var Yk=(e,t,n)=>t in e?Kk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _p=(e,t,n)=>Yk(e,typeof t!="symbol"?t+"":t,n);function Jk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fC={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=Symbol.for("react.transitional.element"),Xk=Symbol.for("react.fragment");function dC(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:Wk,type:e,key:r,ref:t!==void 0?t:null,props:n}}Hd.Fragment=Xk;Hd.jsx=dC;Hd.jsxs=dC;fC.exports=Hd;var O=fC.exports,hC={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=Symbol.for("react.transitional.element"),Qk=Symbol.for("react.portal"),Zk=Symbol.for("react.fragment"),eU=Symbol.for("react.strict_mode"),tU=Symbol.for("react.profiler"),nU=Symbol.for("react.consumer"),rU=Symbol.for("react.context"),iU=Symbol.for("react.forward_ref"),oU=Symbol.for("react.suspense"),aU=Symbol.for("react.memo"),pC=Symbol.for("react.lazy"),sU=Symbol.for("react.activity"),n_=Symbol.iterator;function lU(e){return e===null||typeof e!="object"?null:(e=n_&&e[n_]||e["@@iterator"],typeof e=="function"?e:null)}var mC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,gC={};function bs(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}bs.prototype.isReactComponent={};bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yC(){}yC.prototype=bs.prototype;function ry(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}var iy=ry.prototype=new yC;iy.constructor=ry;vC(iy,bs.prototype);iy.isPureReactComponent=!0;var r_=Array.isArray;function Lm(){}var Re={H:null,A:null,T:null,S:null},bC=Object.prototype.hasOwnProperty;function oy(e,t,n){var r=n.ref;return{$$typeof:ny,type:e,key:t,ref:r!==void 0?r:null,props:n}}function uU(e,t){return oy(e.type,t,e.props)}function ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===ny}function cU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var i_=/\/+/g;function wp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cU(""+e.key):t.toString(36)}function fU(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lm,Lm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function pa(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ny:case Qk:a=!0;break;case pC:return a=e._init,pa(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+wp(e,0):r,r_(i)?(n="",a!=null&&(n=a.replace(i_,"$&/")+"/"),pa(i,t,n,"",function(u){return u})):i!=null&&(ay(i)&&(i=uU(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(i_,"$&/")+"/")+a)),t.push(i)),1;a=0;var s=r===""?".":r+":";if(r_(e))for(var l=0;l<e.length;l++)r=e[l],o=s+wp(r,l),a+=pa(r,t,n,o,i);else if(l=lU(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=s+wp(r,l++),a+=pa(r,t,n,o,i);else if(o==="object"){if(typeof e.then=="function")return pa(fU(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Wu(e,t,n){if(e==null)return e;var r=[],i=0;return pa(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var o_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hU={map:Wu,forEach:function(e,t,n){Wu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wu(e,function(){t++}),t},toArray:function(e){return Wu(e,function(t){return t})||[]},only:function(e){if(!ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Activity=sU;ee.Children=hU;ee.Component=bs;ee.Fragment=Zk;ee.Profiler=tU;ee.PureComponent=ry;ee.StrictMode=eU;ee.Suspense=oU;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;ee.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};ee.cache=function(e){return function(){return e.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=vC({},e.props),i=e.key;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)!bC.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return oy(e.type,i,r)};ee.createContext=function(e){return e={$$typeof:rU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:nU,_context:e},e};ee.createElement=function(e,t,n){var r,i={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)bC.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return oy(e,o,i)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:iU,render:e}};ee.isValidElement=ay;ee.lazy=function(e){return{$$typeof:pC,_payload:{_status:-1,_result:e},_init:dU}};ee.memo=function(e,t){return{$$typeof:aU,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Re.T,n={};Re.T=n;try{var r=e(),i=Re.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Lm,o_)}catch(o){o_(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),Re.T=t}};ee.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};ee.use=function(e){return Re.H.use(e)};ee.useActionState=function(e,t,n){return Re.H.useActionState(e,t,n)};ee.useCallback=function(e,t){return Re.H.useCallback(e,t)};ee.useContext=function(e){return Re.H.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};ee.useEffect=function(e,t){return Re.H.useEffect(e,t)};ee.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};ee.useId=function(){return Re.H.useId()};ee.useImperativeHandle=function(e,t,n){return Re.H.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Re.H.useMemo(e,t)};ee.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};ee.useReducer=function(e,t,n){return Re.H.useReducer(e,t,n)};ee.useRef=function(e){return Re.H.useRef(e)};ee.useState=function(e){return Re.H.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Re.H.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Re.H.useTransition()};ee.version="19.2.4";hC.exports=ee;var E=hC.exports;const _C=or(E),pU=Jk({__proto__:null,default:_C},[E]);var wC={exports:{}},Gd={},SC={exports:{}},EC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,$){var B=k.length;k.push($);e:for(;0<B;){var j=B-1>>>1,X=k[j];if(0<i(X,$))k[j]=$,k[B]=X,B=j;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],B=k.pop();if(B!==$){k[0]=B;e:for(var j=0,X=k.length,ke=X>>>1;j<ke;){var je=2*(j+1)-1,It=k[je],Ue=je+1,Sn=k[Ue];if(0>i(It,B))Ue<X&&0>i(Sn,It)?(k[j]=Sn,k[Ue]=B,j=Ue):(k[j]=It,k[je]=B,j=je);else if(Ue<X&&0>i(Sn,B))k[j]=Sn,k[Ue]=B,j=Ue;else break e}}return $}function i(k,$){var B=k.sortIndex-$.sortIndex;return B!==0?B:k.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=k)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function A(k){if(g=!1,S(k),!v)if(n(l)!==null)v=!0,T||(T=!0,P());else{var $=n(u);$!==null&&Z(A,$.startTime-k)}}var T=!1,x=-1,R=5,C=-1;function I(){return y?!0:!(e.unstable_now()-C<R)}function N(){if(y=!1,T){var k=e.unstable_now();C=k;var $=!0;try{e:{v=!1,g&&(g=!1,_(x),x=-1),m=!0;var B=h;try{t:{for(S(k),d=n(l);d!==null&&!(d.expirationTime>k&&I());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var X=j(d.expirationTime<=k);if(k=e.unstable_now(),typeof X=="function"){d.callback=X,S(k),$=!0;break t}d===n(l)&&r(l),S(k)}else r(l);d=n(l)}if(d!==null)$=!0;else{var ke=n(u);ke!==null&&Z(A,ke.startTime-k),$=!1}}break e}finally{d=null,h=B,m=!1}$=void 0}}finally{$?P():T=!1}}}var P;if(typeof w=="function")P=function(){w(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=N,P=function(){H.postMessage(null)}}else P=function(){b(N,0)};function Z(k,$){x=b(function(){k(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var B=h;h=$;try{return k()}finally{h=B}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var B=h;h=k;try{return $()}finally{h=B}},e.unstable_scheduleCallback=function(k,$,B){var j=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?j+B:j):B=j,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,k={id:c++,callback:$,priorityLevel:k,startTime:B,expirationTime:X,sortIndex:-1},B>j?(k.sortIndex=B,t(u,k),n(l)===null&&k===n(u)&&(g?(_(x),x=-1):g=!0,Z(A,B-j))):(k.sortIndex=X,t(l,k),v||m||(v=!0,T||(T=!0,P()))),k},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(k){var $=h;return function(){var B=h;h=$;try{return k.apply(this,arguments)}finally{h=B}}}})(EC);SC.exports=EC;var mU=SC.exports,TC={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vU=E;function AC(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mi(){}var Dt={d:{f:mi,r:function(){throw Error(AC(522))},D:mi,C:mi,L:mi,m:mi,X:mi,S:mi,M:mi},p:0,findDOMNode:null},gU=Symbol.for("react.portal");function yU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gU,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var yl=vU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(AC(299));return yU(e,t,null,n)};Bt.flushSync=function(e){var t=yl.T,n=Dt.p;try{if(yl.T=null,Dt.p=2,e)return e()}finally{yl.T=t,Dt.p=n,Dt.d.f()}};Bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};Bt.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};Bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Vd(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&Dt.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Vd(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};Bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Vd(n,t.crossOrigin);Dt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Vd(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};Bt.requestFormReset=function(e){Dt.d.r(e)};Bt.unstable_batchedUpdates=function(e,t){return e(t)};Bt.useFormState=function(e,t,n){return yl.H.useFormState(e,t,n)};Bt.useFormStatus=function(){return yl.H.useHostTransitionStatus()};Bt.version="19.2.4";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(e){console.error(e)}}xC(),TC.exports=Bt;var sy=TC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=mU,CC=E,bU=sy;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function OC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IC(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a_(e){if(yu(e)!==e)throw Error(D(188))}function _U(e){var t=e.alternate;if(!t){if(t=yu(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return a_(i),e;if(o===r)return a_(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function MC(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=MC(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,wU=Symbol.for("react.element"),Xu=Symbol.for("react.transitional.element"),ll=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),NC=Symbol.for("react.consumer"),kr=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),qm=Symbol.for("react.activity"),SU=Symbol.for("react.memo_cache_sentinel"),s_=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=s_&&e[s_]||e["@@iterator"],typeof e=="function"?e:null)}var EU=Symbol.for("react.client.reference");function Hm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===EU?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case Bm:return"Profiler";case PC:return"StrictMode";case $m:return"Suspense";case zm:return"SuspenseList";case qm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ll:return"Portal";case kr:return e.displayName||"Context";case NC:return(e._context.displayName||"Context")+".Consumer";case ly:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uy:return t=e.displayName||null,t!==null?t:Hm(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return Hm(e(t))}catch{}}return null}var ul=Array.isArray,W=CC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=bU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ao={pending:!1,data:null,method:null,action:null},Gm=[],Ea=-1;function Er(e){return{current:e}}function ct(e){0>Ea||(e.current=Gm[Ea],Gm[Ea]=null,Ea--)}function Ae(e,t){Ea++,Gm[Ea]=e.current,e.current=t}var yr=Er(null),kl=Er(null),Di=Er(null),ff=Er(null);function df(e,t){switch(Ae(Di,t),Ae(kl,e),Ae(yr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hw(t),e=ZO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(yr),Ae(yr,e)}function Qa(){ct(yr),ct(kl),ct(Di)}function Vm(e){e.memoizedState!==null&&Ae(ff,e);var t=yr.current,n=ZO(t,e.type);t!==n&&(Ae(kl,e),Ae(yr,n))}function hf(e){kl.current===e&&(ct(yr),ct(kl)),ff.current===e&&(ct(ff),Fl._currentValue=Ao)}var Sp,l_;function uo(e){if(Sp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sp=t&&t[1]||"",l_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sp+e+l_}var Ep=!1;function Tp(e,t){if(!e||Ep)return"";Ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{Ep=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?uo(n):""}function TU(e,t){switch(e.tag){case 26:case 27:case 5:return uo(e.type);case 16:return uo("Lazy");case 13:return e.child!==t&&t!==null?uo("Suspense Fallback"):uo("Suspense");case 19:return uo("SuspenseList");case 0:case 15:return Tp(e.type,!1);case 11:return Tp(e.type.render,!1);case 1:return Tp(e.type,!0);case 31:return uo("Activity");default:return""}}function u_(e){try{var t="",n=null;do t+=TU(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var jm=Object.prototype.hasOwnProperty,cy=tt.unstable_scheduleCallback,Ap=tt.unstable_cancelCallback,AU=tt.unstable_shouldYield,xU=tt.unstable_requestPaint,hn=tt.unstable_now,CU=tt.unstable_getCurrentPriorityLevel,DC=tt.unstable_ImmediatePriority,kC=tt.unstable_UserBlockingPriority,pf=tt.unstable_NormalPriority,OU=tt.unstable_LowPriority,UC=tt.unstable_IdlePriority,RU=tt.log,IU=tt.unstable_setDisableYieldValue,bu=null,pn=null;function Oi(e){if(typeof RU=="function"&&IU(e),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(bu,e)}catch{}}var mn=Math.clz32?Math.clz32:NU,MU=Math.log,PU=Math.LN2;function NU(e){return e>>>=0,e===0?32:31-(MU(e)/PU|0)|0}var Qu=256,Zu=262144,ec=4194304;function co(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jd(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s!==0?(r=s&~o,r!==0?i=co(r):(a&=s,a!==0?i=co(a):n||(n=s&~e,n!==0&&(i=co(n))))):(s=r&~o,s!==0?i=co(s):a!==0?i=co(a):n||(n=r&~e,n!==0&&(i=co(n)))),i===0?0:t!==0&&t!==i&&!(t&o)&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function _u(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function DU(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(){var e=ec;return ec<<=1,!(ec&62914560)&&(ec=4194304),e}function xp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kU(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-mn(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var m=h[c];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&BC(e,r,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(a&~t))}function BC(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-mn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function $C(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function zC(e,t){var n=t&-t;return n=n&42?1:fy(n),n&(e.suspendedLanes|t)?0:n}function fy(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dy(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function qC(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:cR(e.type))}function c_(e,t){var n=de.p;try{return de.p=e,t()}finally{de.p=n}}var Xi=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xi,Xt="__reactProps$"+Xi,_s="__reactContainer$"+Xi,Fm="__reactEvents$"+Xi,UU="__reactListeners$"+Xi,LU="__reactHandles$"+Xi,f_="__reactResources$"+Xi,Su="__reactMarker$"+Xi;function hy(e){delete e[Et],delete e[Xt],delete e[Fm],delete e[UU],delete e[LU]}function Ta(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_s]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yw(e);e!==null;){if(n=e[Et])return n;e=yw(e)}return t}e=n,n=e.parentNode}return null}function ws(e){if(e=e[Et]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function $a(e){var t=e[f_];return t||(t=e[f_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Su]=!0}var HC=new Set,GC={};function Fo(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(GC[e]=t,e=0;e<t.length;e++)HC.add(t[e])}var BU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),d_={},h_={};function $U(e){return jm.call(h_,e)?!0:jm.call(d_,e)?!1:BU.test(e)?h_[e]=!0:(d_[e]=!0,!1)}function qc(e,t,n){if($U(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function tc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ar(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zU(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Km(e){if(!e._valueTracker){var t=VC(e)?"checked":"value";e._valueTracker=zU(e,t,""+e[t])}}function jC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qU=/[\n"\\]/g;function Mn(e){return e.replace(qU,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ym(e,t,n,r,i,o,a,s){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+On(t)):e.value!==""+On(t)&&(e.value=""+On(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Jm(e,a,On(t)):n!=null?Jm(e,a,On(n)):r!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+On(s):e.removeAttribute("name")}function FC(e,t,n,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Km(e);return}n=n!=null?""+On(n):"",t=t!=null?""+On(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Km(e)}function Jm(e,t,n){t==="number"&&mf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function KC(e,t,n){if(t!=null&&(t=""+On(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+On(n):""}function YC(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(D(92));if(ul(r)){if(1<r.length)throw Error(D(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=On(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Km(e)}function es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var HU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function p_(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||HU.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function JC(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&p_(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&p_(e,o,t[o])}function py(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(e){return VU.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ur(){}var Wm=null;function my(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,qa=null;function m_(e){var t=ws(e);if(t&&(e=t.stateNode)){var n=e[Xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ym(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Xt]||null;if(!i)throw Error(D(90));Ym(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&jC(r)}break e;case"textarea":KC(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var Cp=!1;function WC(e,t,n){if(Cp)return e(t,n);Cp=!0;try{var r=e(t);return r}finally{if(Cp=!1,(Aa!==null||qa!==null)&&(rh(),Aa&&(t=Aa,e=qa,qa=Aa=null,m_(t),e)))for(t=0;t<e.length;t++)m_(e[t])}}function Ul(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Xt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=!1;if(Vr)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Xm=!1}var Ri=null,vy=null,Gc=null;function XC(){if(Gc)return Gc;var e,t=vy,n=t.length,r,i="value"in Ri?Ri.value:Ri.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Gc=i.slice(e,1<r?1-r:void 0)}function Vc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nc(){return!0}function v_(){return!1}function Qt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nc:v_,this.isPropagationStopped=v_,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),t}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=Qt(Ko),Eu=Ie({},Ko,{view:0,detail:0}),jU=Qt(Eu),Op,Rp,js,Kd=Ie({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(Op=e.screenX-js.screenX,Rp=e.screenY-js.screenY):Rp=Op=0,js=e),Op)},movementY:function(e){return"movementY"in e?e.movementY:Rp}}),g_=Qt(Kd),FU=Ie({},Kd,{dataTransfer:0}),KU=Qt(FU),YU=Ie({},Eu,{relatedTarget:0}),Ip=Qt(YU),JU=Ie({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),WU=Qt(JU),XU=Ie({},Ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QU=Qt(XU),ZU=Ie({},Ko,{data:0}),y_=Qt(ZU),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n2[e])?!!t[e]:!1}function gy(){return r2}var i2=Ie({},Eu,{key:function(e){if(e.key){var t=e2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(e){return e.type==="keypress"?Vc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o2=Qt(i2),a2=Ie({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=Qt(a2),s2=Ie({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),l2=Qt(s2),u2=Ie({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),c2=Qt(u2),f2=Ie({},Kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d2=Qt(f2),h2=Ie({},Ko,{newState:0,oldState:0}),p2=Qt(h2),m2=[9,13,27,32],yy=Vr&&"CompositionEvent"in window,bl=null;Vr&&"documentMode"in document&&(bl=document.documentMode);var v2=Vr&&"TextEvent"in window&&!bl,QC=Vr&&(!yy||bl&&8<bl&&11>=bl),__=" ",w_=!1;function ZC(e,t){switch(e){case"keyup":return m2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function g2(e,t){switch(e){case"compositionend":return e1(t);case"keypress":return t.which!==32?null:(w_=!0,__);case"textInput":return e=t.data,e===__&&w_?null:e;default:return null}}function y2(e,t){if(xa)return e==="compositionend"||!yy&&ZC(e,t)?(e=XC(),Gc=vy=Ri=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QC&&t.locale!=="ko"?null:t.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b2[e.type]:t==="textarea"}function t1(e,t,n,r){Aa?qa?qa.push(r):qa=[r]:Aa=r,t=Nf(t,"onChange"),0<t.length&&(n=new Fd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _l=null,Ll=null;function _2(e){WO(e,0)}function Yd(e){var t=cl(e);if(jC(t))return e}function E_(e,t){if(e==="change")return t}var n1=!1;if(Vr){var Mp;if(Vr){var Pp="oninput"in document;if(!Pp){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Pp=typeof T_.oninput=="function"}Mp=Pp}else Mp=!1;n1=Mp&&(!document.documentMode||9<document.documentMode)}function A_(){_l&&(_l.detachEvent("onpropertychange",r1),Ll=_l=null)}function r1(e){if(e.propertyName==="value"&&Yd(Ll)){var t=[];t1(t,Ll,e,my(e)),WC(_2,t)}}function w2(e,t,n){e==="focusin"?(A_(),_l=t,Ll=n,_l.attachEvent("onpropertychange",r1)):e==="focusout"&&A_()}function S2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(Ll)}function E2(e,t){if(e==="click")return Yd(t)}function T2(e,t){if(e==="input"||e==="change")return Yd(t)}function A2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:A2;function Bl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jm.call(t,i)||!yn(e[i],t[i]))return!1}return!0}function x_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C_(e,t){var n=x_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x_(n)}}function i1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mf(e.document)}return t}function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var x2=Vr&&"documentMode"in document&&11>=document.documentMode,Ca=null,Qm=null,wl=null,Zm=!1;function O_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||Ca==null||Ca!==mf(r)||(r=Ca,"selectionStart"in r&&by(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Bl(wl,r)||(wl=r,r=Nf(Qm,"onSelect"),0<r.length&&(t=new Fd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ca)))}function oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oa={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionrun:oo("Transition","TransitionRun"),transitionstart:oo("Transition","TransitionStart"),transitioncancel:oo("Transition","TransitionCancel"),transitionend:oo("Transition","TransitionEnd")},Np={},a1={};Vr&&(a1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yo(e){if(Np[e])return Np[e];if(!Oa[e])return e;var t=Oa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a1)return Np[e]=t[n];return e}var s1=Yo("animationend"),l1=Yo("animationiteration"),u1=Yo("animationstart"),C2=Yo("transitionrun"),O2=Yo("transitionstart"),R2=Yo("transitioncancel"),c1=Yo("transitionend"),f1=new Map,ev="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ev.push("scrollEnd");function ar(e,t){f1.set(e,t),Fo(t,[e])}var vf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Ra=0,_y=0;function Jd(){for(var e=Ra,t=_y=Ra=0;t<e;){var n=xn[t];xn[t++]=null;var r=xn[t];xn[t++]=null;var i=xn[t];xn[t++]=null;var o=xn[t];if(xn[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&d1(n,i,o)}}function Wd(e,t,n,r){xn[Ra++]=e,xn[Ra++]=t,xn[Ra++]=n,xn[Ra++]=r,_y|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function wy(e,t,n,r){return Wd(e,t,n,r),gf(e)}function Jo(e,t){return Wd(e,null,null,t),gf(e)}function d1(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-mn(n),e=o.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),o):null}function gf(e){if(50<Il)throw Il=0,wv=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function I2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new I2(e,t,n,r)}function Sy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function h1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jc(e,t,n,r,i,o){var a=0;if(r=e,typeof e=="function")Sy(e)&&(a=1);else if(typeof e=="string")a=kL(e,n,yr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case qm:return e=an(31,n,t,i),e.elementType=qm,e.lanes=o,e;case Sa:return xo(n.children,i,o,t);case PC:a=8,i|=24;break;case Bm:return e=an(12,n,t,i|2),e.elementType=Bm,e.lanes=o,e;case $m:return e=an(13,n,t,i),e.elementType=$m,e.lanes=o,e;case zm:return e=an(19,n,t,i),e.elementType=zm,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kr:a=10;break e;case NC:a=9;break e;case ly:a=11;break e;case uy:a=14;break e;case vi:a=16,r=null;break e}a=29,n=Error(D(130,e===null?"null":typeof e,"")),r=null}return t=an(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function xo(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function Dp(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function p1(e){var t=an(18,null,null,0);return t.stateNode=e,t}function kp(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var R_=new WeakMap;function Pn(e,t){if(typeof e=="object"&&e!==null){var n=R_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:u_(t)},R_.set(e,t),t)}return{value:e,source:t,stack:u_(t)}}var Ma=[],Pa=0,yf=null,$l=0,Rn=[],In=0,ji=null,dr=1,hr="";function Mr(e,t){Ma[Pa++]=$l,Ma[Pa++]=yf,yf=e,$l=t}function m1(e,t,n){Rn[In++]=dr,Rn[In++]=hr,Rn[In++]=ji,ji=e;var r=dr;e=hr;var i=32-mn(r)-1;r&=~(1<<i),n+=1;var o=32-mn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,dr=1<<32-mn(t)+i|n<<i|r,hr=o+e}else dr=1<<o|n<<i|r,hr=e}function Ey(e){e.return!==null&&(Mr(e,1),m1(e,1,0))}function Ty(e){for(;e===yf;)yf=Ma[--Pa],Ma[Pa]=null,$l=Ma[--Pa],Ma[Pa]=null;for(;e===ji;)ji=Rn[--In],Rn[In]=null,hr=Rn[--In],Rn[In]=null,dr=Rn[--In],Rn[In]=null}function v1(e,t){Rn[In++]=dr,Rn[In++]=hr,Rn[In++]=ji,dr=t.id,hr=t.overflow,ji=e}var Tt=null,Oe=null,ae=!1,ki=null,Nn=!1,tv=Error(D(519));function Fi(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Pn(t,e)),tv}function I_(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Et]=e,t[Xt]=r,n){case"dialog":ne("cancel",t),ne("close",t);break;case"iframe":case"object":case"embed":ne("load",t);break;case"video":case"audio":for(n=0;n<Vl.length;n++)ne(Vl[n],t);break;case"source":ne("error",t);break;case"img":case"image":case"link":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"input":ne("invalid",t),FC(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ne("invalid",t);break;case"textarea":ne("invalid",t),YC(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||QO(t.textContent,n)?(r.popover!=null&&(ne("beforetoggle",t),ne("toggle",t)),r.onScroll!=null&&ne("scroll",t),r.onScrollEnd!=null&&ne("scrollend",t),r.onClick!=null&&(t.onclick=Ur),t=!0):t=!1,t||Fi(e,!0)}function M_(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Tt=Tt.return}}function na(e){if(e!==Tt)return!1;if(!ae)return M_(e),ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||xv(e.type,e.memoizedProps)),n=!n),n&&Oe&&Fi(e),M_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Oe=gw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Oe=gw(e)}else t===27?(t=Oe,Qi(e.type)?(e=Iv,Iv=null,Oe=e):Oe=t):Oe=Tt?Un(e.stateNode.nextSibling):null;return!0}function Do(){Oe=Tt=null,ae=!1}function Up(){var e=ki;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),ki=null),e}function zl(e){ki===null?ki=[e]:ki.push(e)}var nv=Er(null),Wo=null,Lr=null;function wi(e,t,n){Ae(nv,t._currentValue),t._currentValue=n}function qr(e){e._currentValue=nv.current,ct(nv)}function rv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iv(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),rv(o.return,n,e),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),rv(a,n,e),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Ss(e,t,n,r){e=null;for(var i=t,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(D(387));if(a=a.memoizedProps,a!==null){var s=i.type;yn(i.pendingProps.value,a.value)||(e!==null?e.push(s):e=[s])}}else if(i===ff.current){if(a=i.alternate,a===null)throw Error(D(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}i=i.return}e!==null&&iv(t,e,n,r),t.flags|=262144}function bf(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ko(e){Wo=e,Lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return g1(Wo,e)}function rc(e,t){return Wo===null&&ko(e),g1(e,t)}function g1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Lr===null){if(e===null)throw Error(D(308));Lr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Lr=Lr.next=t;return n}var M2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},P2=tt.unstable_scheduleCallback,N2=tt.unstable_NormalPriority,Je={$$typeof:kr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ay(){return{controller:new M2,data:new Map,refCount:0}}function Tu(e){e.refCount--,e.refCount===0&&P2(N2,function(){e.controller.abort()})}var Sl=null,ov=0,ts=0,Ha=null;function D2(e,t){if(Sl===null){var n=Sl=[];ov=0,ts=Wy(),Ha={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ov++,t.then(P_,P_),t}function P_(){if(--ov===0&&Sl!==null){Ha!==null&&(Ha.status="fulfilled");var e=Sl;Sl=null,ts=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function k2(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var N_=W.S;W.S=function(e,t){MO=hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&D2(e,t),N_!==null&&N_(e,t)};var Co=Er(null);function xy(){var e=Co.current;return e!==null?e:be.pooledCache}function Fc(e,t){t===null?Ae(Co,Co.current):Ae(Co,t.pool)}function y1(){var e=xy();return e===null?null:{parent:Je._currentValue,pool:e}}var Es=Error(D(460)),Cy=Error(D(474)),Xd=Error(D(542)),_f={then:function(){}};function D_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function b1(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ur,Ur),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,U_(e),e;default:if(typeof t.status=="string")t.then(Ur,Ur);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,U_(e),e}throw Oo=t,Es}}function fo(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Oo=n,Es):n}}var Oo=null;function k_(){if(Oo===null)throw Error(D(459));var e=Oo;return Oo=null,e}function U_(e){if(e===Es||e===Xd)throw Error(D(483))}var Ga=null,ql=0;function ic(e){var t=ql;return ql+=1,Ga===null&&(Ga=[]),b1(Ga,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oc(e,t){throw t.$$typeof===wU?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _1(e){function t(b,_){if(e){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function r(b){for(var _=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(b,_){return b=zr(b,_),b.index=0,b.sibling=null,b}function o(b,_,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=67108866,_):w):(b.flags|=67108866,_)):(b.flags|=1048576,_)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function s(b,_,w,S){return _===null||_.tag!==6?(_=Dp(w,b.mode,S),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,S){var A=w.type;return A===Sa?c(b,_,w.props.children,S,w.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&fo(A)===_.type)?(_=i(_,w.props),Fs(_,w),_.return=b,_):(_=jc(w.type,w.key,w.props,null,b.mode,S),Fs(_,w),_.return=b,_)}function u(b,_,w,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=kp(w,b.mode,S),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function c(b,_,w,S,A){return _===null||_.tag!==7?(_=xo(w,b.mode,S,A),_.return=b,_):(_=i(_,w),_.return=b,_)}function d(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Dp(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return w=jc(_.type,_.key,_.props,null,b.mode,w),Fs(w,_),w.return=b,w;case ll:return _=kp(_,b.mode,w),_.return=b,_;case vi:return _=fo(_),d(b,_,w)}if(ul(_)||Gs(_))return _=xo(_,b.mode,w,null),_.return=b,_;if(typeof _.then=="function")return d(b,ic(_),w);if(_.$$typeof===kr)return d(b,rc(b,_),w);oc(b,_)}return null}function h(b,_,w,S){var A=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return A!==null?null:s(b,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:return w.key===A?l(b,_,w,S):null;case ll:return w.key===A?u(b,_,w,S):null;case vi:return w=fo(w),h(b,_,w,S)}if(ul(w)||Gs(w))return A!==null?null:c(b,_,w,S,null);if(typeof w.then=="function")return h(b,_,ic(w),S);if(w.$$typeof===kr)return h(b,_,rc(b,w),S);oc(b,w)}return null}function m(b,_,w,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(w)||null,s(_,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xu:return b=b.get(S.key===null?w:S.key)||null,l(_,b,S,A);case ll:return b=b.get(S.key===null?w:S.key)||null,u(_,b,S,A);case vi:return S=fo(S),m(b,_,w,S,A)}if(ul(S)||Gs(S))return b=b.get(w)||null,c(_,b,S,A,null);if(typeof S.then=="function")return m(b,_,w,ic(S),A);if(S.$$typeof===kr)return m(b,_,w,rc(_,S),A);oc(_,S)}return null}function v(b,_,w,S){for(var A=null,T=null,x=_,R=_=0,C=null;x!==null&&R<w.length;R++){x.index>R?(C=x,x=null):C=x.sibling;var I=h(b,x,w[R],S);if(I===null){x===null&&(x=C);break}e&&x&&I.alternate===null&&t(b,x),_=o(I,_,R),T===null?A=I:T.sibling=I,T=I,x=C}if(R===w.length)return n(b,x),ae&&Mr(b,R),A;if(x===null){for(;R<w.length;R++)x=d(b,w[R],S),x!==null&&(_=o(x,_,R),T===null?A=x:T.sibling=x,T=x);return ae&&Mr(b,R),A}for(x=r(x);R<w.length;R++)C=m(x,b,R,w[R],S),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?R:C.key),_=o(C,_,R),T===null?A=C:T.sibling=C,T=C);return e&&x.forEach(function(N){return t(b,N)}),ae&&Mr(b,R),A}function g(b,_,w,S){if(w==null)throw Error(D(151));for(var A=null,T=null,x=_,R=_=0,C=null,I=w.next();x!==null&&!I.done;R++,I=w.next()){x.index>R?(C=x,x=null):C=x.sibling;var N=h(b,x,I.value,S);if(N===null){x===null&&(x=C);break}e&&x&&N.alternate===null&&t(b,x),_=o(N,_,R),T===null?A=N:T.sibling=N,T=N,x=C}if(I.done)return n(b,x),ae&&Mr(b,R),A;if(x===null){for(;!I.done;R++,I=w.next())I=d(b,I.value,S),I!==null&&(_=o(I,_,R),T===null?A=I:T.sibling=I,T=I);return ae&&Mr(b,R),A}for(x=r(x);!I.done;R++,I=w.next())I=m(x,b,R,I.value,S),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?R:I.key),_=o(I,_,R),T===null?A=I:T.sibling=I,T=I);return e&&x.forEach(function(P){return t(b,P)}),ae&&Mr(b,R),A}function y(b,_,w,S){if(typeof w=="object"&&w!==null&&w.type===Sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:e:{for(var A=w.key;_!==null;){if(_.key===A){if(A=w.type,A===Sa){if(_.tag===7){n(b,_.sibling),S=i(_,w.props.children),S.return=b,b=S;break e}}else if(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&fo(A)===_.type){n(b,_.sibling),S=i(_,w.props),Fs(S,w),S.return=b,b=S;break e}n(b,_);break}else t(b,_);_=_.sibling}w.type===Sa?(S=xo(w.props.children,b.mode,S,w.key),S.return=b,b=S):(S=jc(w.type,w.key,w.props,null,b.mode,S),Fs(S,w),S.return=b,b=S)}return a(b);case ll:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),S=i(_,w.children||[]),S.return=b,b=S;break e}else{n(b,_);break}else t(b,_);_=_.sibling}S=kp(w,b.mode,S),S.return=b,b=S}return a(b);case vi:return w=fo(w),y(b,_,w,S)}if(ul(w))return v(b,_,w,S);if(Gs(w)){if(A=Gs(w),typeof A!="function")throw Error(D(150));return w=A.call(w),g(b,_,w,S)}if(typeof w.then=="function")return y(b,_,ic(w),S);if(w.$$typeof===kr)return y(b,_,rc(b,w),S);oc(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),S=i(_,w),S.return=b,b=S):(n(b,_),S=Dp(w,b.mode,S),S.return=b,b=S),a(b)):n(b,_)}return function(b,_,w,S){try{ql=0;var A=y(b,_,w,S);return Ga=null,A}catch(x){if(x===Es||x===Xd)throw x;var T=an(29,x,null,b.mode);return T.lanes=S,T.return=b,T}finally{}}}var Uo=_1(!0),w1=_1(!1),gi=!1;function Oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Li(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=gf(e),d1(e,null,n),t}return Wd(e,r,t,n),gf(e)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$C(e,n)}}function Lp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var sv=!1;function Tl(){if(sv){var e=Ha;if(e!==null)throw e}}function Al(e,t,n,r){sv=!1;var i=e.updateQueue;gi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(oe&h)===h:(r&h)===h){h!==0&&h===ts&&(sv=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,g=s;h=t;var y=n;switch(g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(y,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(y,d,h):v,h==null)break e;d=Ie({},d,h);break e;case 2:gi=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),Yi|=a,e.lanes=a,e.memoizedState=d}}function S1(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function E1(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)S1(n[e],t)}var ns=Er(null),wf=Er(0);function L_(e,t){e=Yr,Ae(wf,e),Ae(ns,t),Yr=e|t.baseLanes}function lv(){Ae(wf,Yr),Ae(ns,ns.current)}function Ry(){Yr=wf.current,ct(ns),ct(wf)}var bn=Er(null),kn=null;function Si(e){var t=e.alternate;Ae(He,He.current&1),Ae(bn,e),kn===null&&(t===null||ns.current!==null||t.memoizedState!==null)&&(kn=e)}function uv(e){Ae(He,He.current),Ae(bn,e),kn===null&&(kn=e)}function T1(e){e.tag===22?(Ae(He,He.current),Ae(bn,e),kn===null&&(kn=e)):Ei()}function Ei(){Ae(He,He.current),Ae(bn,bn.current)}function on(e){ct(bn),kn===e&&(kn=null),ct(He)}var He=Er(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ov(n)||Rv(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jr=0,te=null,ge=null,Ke=null,Ef=!1,Va=!1,Lo=!1,Tf=0,Hl=0,ja=null,U2=0;function Le(){throw Error(D(321))}function Iy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function My(e,t,n,r,i,o){return jr=o,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?tO:Hy,Lo=!1,o=n(r,i),Lo=!1,Va&&(o=x1(t,n,r,i)),A1(e),o}function A1(e){W.H=Gl;var t=ge!==null&&ge.next!==null;if(jr=0,Ke=ge=te=null,Ef=!1,Hl=0,ja=null,t)throw Error(D(300));e===null||We||(e=e.dependencies,e!==null&&bf(e)&&(We=!0))}function x1(e,t,n,r){te=e;var i=0;do{if(Va&&(ja=null),Hl=0,Va=!1,25<=i)throw Error(D(301));if(i+=1,Ke=ge=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=nO,o=t(n,r)}while(Va);return o}function L2(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Au(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(te.flags|=1024),t}function Py(){var e=Tf!==0;return Tf=0,e}function Ny(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Dy(e){if(Ef){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ef=!1}jr=0,Ke=ge=te=null,Va=!1,Hl=Tf=0,ja=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ge(){if(ge===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Ke===null?te.memoizedState:Ke.next;if(t!==null)Ke=t,ge=e;else{if(e===null)throw te.alternate===null?Error(D(467)):Error(D(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(e){var t=Hl;return Hl+=1,ja===null&&(ja=[]),e=b1(ja,e,t),t=te,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?tO:Hy),e}function Zd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Au(e);if(e.$$typeof===kr)return At(e)}throw Error(D(438,String(e)))}function ky(e){var t=null,n=te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qd(),te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=SU;return t.index++,n}function Fr(e,t){return typeof t=="function"?t(e):t}function Kc(e){var t=Ge();return Uy(t,ge,e)}function Uy(e,t,n){var r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var s=a=null,l=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(oe&d)===d:(jr&d)===d){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ts&&(c=!0);else if((jr&h)===h){u=u.next,h===ts&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,a=o):l=l.next=d,te.lanes|=h,Yi|=h;d=u.action,Lo&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,a=o):l=l.next=h,te.lanes|=d,Yi|=d;u=u.next}while(u!==null&&u!==t);if(l===null?a=o:l.next=s,!yn(o,e.memoizedState)&&(We=!0,c&&(n=Ha,n!==null)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Bp(e){var t=Ge(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);yn(o,t.memoizedState)||(We=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function C1(e,t,n){var r=te,i=Ge(),o=ae;if(o){if(n===void 0)throw Error(D(407));n=n()}else n=t();var a=!yn((ge||i).memoizedState,n);if(a&&(i.memoizedState=n,We=!0),i=i.queue,Ly(I1.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,rs(9,{destroy:void 0},R1.bind(null,r,i,n,t),null),be===null)throw Error(D(349));o||jr&127||O1(r,t,n)}return n}function O1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t=Qd(),te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R1(e,t,n,r){t.value=n,t.getSnapshot=r,M1(t)&&P1(e)}function I1(e,t,n){return n(function(){M1(t)&&P1(e)})}function M1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function P1(e){var t=Jo(e,2);t!==null&&Wt(t,e,2)}function cv(e){var t=Mt();if(typeof e=="function"){var n=e;if(e=n(),Lo){Oi(!0);try{n()}finally{Oi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t}function N1(e,t,n,r){return e.baseState=n,Uy(e,ge,typeof r=="function"?r:Fr)}function B2(e,t,n,r,i){if(th(e))throw Error(D(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};W.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,D1(t,o)):(o.next=n.next,t.pending=n.next=o)}}function D1(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=W.T,a={};W.T=a;try{var s=n(i,r),l=W.S;l!==null&&l(a,s),B_(e,t,s)}catch(u){fv(e,t,u)}finally{o!==null&&a.types!==null&&(o.types=a.types),W.T=o}}else try{o=n(i,r),B_(e,t,o)}catch(u){fv(e,t,u)}}function B_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){$_(e,t,r)},function(r){return fv(e,t,r)}):$_(e,t,n)}function $_(e,t,n){t.status="fulfilled",t.value=n,k1(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,D1(e,n)))}function fv(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,k1(t),t=t.next;while(t!==r)}e.action=null}function k1(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function U1(e,t){return t}function z_(e,t){if(ae){var n=be.formState;if(n!==null){e:{var r=te;if(ae){if(Oe){t:{for(var i=Oe,o=Nn;i.nodeType!==8;){if(!o){i=null;break t}if(i=Un(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Oe=Un(i.nextSibling),r=i.data==="F!";break e}}Fi(r)}r=!1}r&&(t=n[0])}}return n=Mt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U1,lastRenderedState:t},n.queue=r,n=Q1.bind(null,te,r),r.dispatch=n,r=cv(!1),o=qy.bind(null,te,!1,r.queue),r=Mt(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=B2.bind(null,te,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function q_(e){var t=Ge();return L1(t,ge,e)}function L1(e,t,n){if(t=Uy(e,t,U1)[0],e=Kc(Fr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Au(t)}catch(a){throw a===Es?Xd:a}else r=t;t=Ge();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(te.flags|=2048,rs(9,{destroy:void 0},$2.bind(null,i,n),null)),[r,o,e]}function $2(e,t){e.action=t}function H_(e){var t=Ge(),n=ge;if(n!==null)return L1(t,n,e);Ge(),t=t.memoizedState,n=Ge();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function rs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=te.updateQueue,t===null&&(t=Qd(),te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function B1(){return Ge().memoizedState}function Yc(e,t,n,r){var i=Mt();te.flags|=e,i.memoizedState=rs(1|t,{destroy:void 0},n,r===void 0?null:r)}function eh(e,t,n,r){var i=Ge();r=r===void 0?null:r;var o=i.memoizedState.inst;ge!==null&&r!==null&&Iy(r,ge.memoizedState.deps)?i.memoizedState=rs(t,o,n,r):(te.flags|=e,i.memoizedState=rs(1|t,o,n,r))}function G_(e,t){Yc(8390656,8,e,t)}function Ly(e,t){eh(2048,8,e,t)}function z2(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=Qd(),te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function $1(e){var t=Ge().memoizedState;return z2({ref:t,nextImpl:e}),function(){if(ce&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function z1(e,t){return eh(4,2,e,t)}function q1(e,t){return eh(4,4,e,t)}function H1(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G1(e,t,n){n=n!=null?n.concat([e]):null,eh(4,4,H1.bind(null,t,e),n)}function By(){}function V1(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Iy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function j1(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Iy(t,r[1]))return r[0];if(r=e(),Lo){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[r,t],r}function $y(e,t,n){return n===void 0||jr&1073741824&&!(oe&261930)?e.memoizedState=t:(e.memoizedState=n,e=NO(),te.lanes|=e,Yi|=e,n)}function F1(e,t,n,r){return yn(n,t)?n:ns.current!==null?(e=$y(e,n,r),yn(e,t)||(We=!0),e):!(jr&42)||jr&1073741824&&!(oe&261930)?(We=!0,e.memoizedState=n):(e=NO(),te.lanes|=e,Yi|=e,t)}function K1(e,t,n,r,i){var o=de.p;de.p=o!==0&&8>o?o:8;var a=W.T,s={};W.T=s,qy(e,!1,t,n);try{var l=i(),u=W.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=k2(l,r);xl(e,t,c,vn(e))}else xl(e,t,r,vn(e))}catch(d){xl(e,t,{then:function(){},status:"rejected",reason:d},vn())}finally{de.p=o,a!==null&&s.types!==null&&(a.types=s.types),W.T=a}}function q2(){}function dv(e,t,n,r){if(e.tag!==5)throw Error(D(476));var i=Y1(e).queue;K1(e,i,t,Ao,n===null?q2:function(){return J1(e),n(r)})}function Y1(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ao,baseState:Ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:Ao},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function J1(e){var t=Y1(e);t.next===null&&(t=e.alternate.memoizedState),xl(e,t.next.queue,{},vn())}function zy(){return At(Fl)}function W1(){return Ge().memoizedState}function X1(){return Ge().memoizedState}function H2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vn();e=Ui(n);var r=Li(t,e,n);r!==null&&(Wt(r,t,n),El(r,t,n)),t={cache:Ay()},e.payload=t;return}t=t.return}}function G2(e,t,n){var r=vn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},th(e)?Z1(t,n):(n=wy(e,t,n,r),n!==null&&(Wt(n,e,r),eO(n,t,r)))}function Q1(e,t,n){var r=vn();xl(e,t,n,r)}function xl(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(th(e))Z1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,yn(s,a))return Wd(e,t,i,0),be===null&&Jd(),!1}catch{}finally{}if(n=wy(e,t,i,r),n!==null)return Wt(n,e,r),eO(n,t,r),!0}return!1}function qy(e,t,n,r){if(r={lane:2,revertLane:Wy(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},th(e)){if(t)throw Error(D(479))}else t=wy(e,n,r,2),t!==null&&Wt(t,e,2)}function th(e){var t=e.alternate;return e===te||t!==null&&t===te}function Z1(e,t){Va=Ef=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eO(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$C(e,n)}}var Gl={readContext:At,use:Zd,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Gl.useEffectEvent=Le;var tO={readContext:At,use:Zd,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:G_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yc(4194308,4,H1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){Yc(4,2,e,t)},useMemo:function(e,t){var n=Mt();t=t===void 0?null:t;var r=e();if(Lo){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mt();if(n!==void 0){var i=n(t);if(Lo){Oi(!0);try{n(t)}finally{Oi(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=G2.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=cv(e);var t=e.queue,n=Q1.bind(null,te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:By,useDeferredValue:function(e,t){var n=Mt();return $y(n,e,t)},useTransition:function(){var e=cv(!1);return e=K1.bind(null,te,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=te,i=Mt();if(ae){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),be===null)throw Error(D(349));oe&127||O1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,G_(I1.bind(null,r,o,e),[e]),r.flags|=2048,rs(9,{destroy:void 0},R1.bind(null,r,o,n,t),null),n},useId:function(){var e=Mt(),t=be.identifierPrefix;if(ae){var n=hr,r=dr;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=U2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zy,useFormState:z_,useActionState:z_,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qy.bind(null,te,!0,n),n.dispatch=t,[e,t]},useMemoCache:ky,useCacheRefresh:function(){return Mt().memoizedState=H2.bind(null,te)},useEffectEvent:function(e){var t=Mt(),n={impl:e};return t.memoizedState=n,function(){if(ce&2)throw Error(D(440));return n.impl.apply(void 0,arguments)}}},Hy={readContext:At,use:Zd,useCallback:V1,useContext:At,useEffect:Ly,useImperativeHandle:G1,useInsertionEffect:z1,useLayoutEffect:q1,useMemo:j1,useReducer:Kc,useRef:B1,useState:function(){return Kc(Fr)},useDebugValue:By,useDeferredValue:function(e,t){var n=Ge();return F1(n,ge.memoizedState,e,t)},useTransition:function(){var e=Kc(Fr)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Au(e),t]},useSyncExternalStore:C1,useId:W1,useHostTransitionStatus:zy,useFormState:q_,useActionState:q_,useOptimistic:function(e,t){var n=Ge();return N1(n,ge,e,t)},useMemoCache:ky,useCacheRefresh:X1};Hy.useEffectEvent=$1;var nO={readContext:At,use:Zd,useCallback:V1,useContext:At,useEffect:Ly,useImperativeHandle:G1,useInsertionEffect:z1,useLayoutEffect:q1,useMemo:j1,useReducer:Bp,useRef:B1,useState:function(){return Bp(Fr)},useDebugValue:By,useDeferredValue:function(e,t){var n=Ge();return ge===null?$y(n,e,t):F1(n,ge.memoizedState,e,t)},useTransition:function(){var e=Bp(Fr)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Au(e),t]},useSyncExternalStore:C1,useId:W1,useHostTransitionStatus:zy,useFormState:H_,useActionState:H_,useOptimistic:function(e,t){var n=Ge();return ge!==null?N1(n,ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ky,useCacheRefresh:X1};nO.useEffectEvent=$1;function $p(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hv={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vn(),i=Ui(r);i.payload=t,n!=null&&(i.callback=n),t=Li(e,i,r),t!==null&&(Wt(t,e,r),El(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vn(),i=Ui(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Li(e,i,r),t!==null&&(Wt(t,e,r),El(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),r=Ui(n);r.tag=2,t!=null&&(r.callback=t),t=Li(e,r,n),t!==null&&(Wt(t,e,n),El(t,e,n))}};function V_(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,o):!0}function j_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hv.enqueueReplaceState(t,t.state,null)}function Bo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ie({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function rO(e){vf(e)}function iO(e){console.error(e)}function oO(e){vf(e)}function Af(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function F_(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function pv(e,t,n){return n=Ui(n),n.tag=3,n.payload={element:null},n.callback=function(){Af(e,t)},n}function aO(e){return e=Ui(e),e.tag=3,e}function sO(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){F_(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){F_(t,n,r),typeof i!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function V2(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Ss(t,n,i,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?If():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===_f?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Wp(e,r,i)),!1;case 22:return n.flags|=65536,r===_f?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Wp(e,r,i)),!1}throw Error(D(435,n.tag))}return Wp(e,r,i),If(),!1}if(ae)return t=bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==tv&&(e=Error(D(422),{cause:r}),zl(Pn(e,n)))):(r!==tv&&(t=Error(D(423),{cause:r}),zl(Pn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Pn(r,n),i=pv(e.stateNode,r,i),Lp(e,i),qe!==4&&(qe=2)),!1;var o=Error(D(520),{cause:r});if(o=Pn(o,n),Rl===null?Rl=[o]:Rl.push(o),qe!==4&&(qe=2),t===null)return!0;r=Pn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=pv(n.stateNode,r,e),Lp(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Bi===null||!Bi.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=aO(i),sO(i,e,n,r),Lp(n,i),!1}n=n.return}while(n!==null);return!1}var Gy=Error(D(461)),We=!1;function _t(e,t,n,r){t.child=e===null?w1(t,null,n,r):Uo(t,e.child,n,r)}function K_(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return ko(t),r=My(e,t,n,a,o,i),s=Py(),e!==null&&!We?(Ny(e,t,i),Kr(e,t,i)):(ae&&s&&Ey(t),t.flags|=1,_t(e,t,r,i),t.child)}function Y_(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Sy(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,lO(e,t,o,r,i)):(e=jc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Vy(e,i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(a,r)&&e.ref===t.ref)return Kr(e,t,i)}return t.flags|=1,e=zr(o,r),e.ref=t.ref,e.return=t,t.child=e}function lO(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Bl(o,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=o,Vy(e,i))e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Kr(e,t,i)}return mv(e,t,n,r,i)}function uO(e,t,n,r){var i=r.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return J_(e,t,o,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fc(t,o!==null?o.cachePool:null),o!==null?L_(t,o):lv(),T1(t);else return r=t.lanes=536870912,J_(e,t,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(Fc(t,o.cachePool),L_(t,o),Ei(),t.memoizedState=null):(e!==null&&Fc(t,null),lv(),Ei());return _t(e,t,i,n),t.child}function fl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function J_(e,t,n,r,i){var o=xy();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Fc(t,null),lv(),T1(t),e!==null&&Ss(e,t,r,!0),t.childLanes=i,null}function Jc(e,t){return t=xf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function W_(e,t,n){return Uo(t,e.child,null,n),e=Jc(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function j2(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ae){if(r.mode==="hidden")return e=Jc(t,r),t.lanes=536870912,fl(null,e);if(uv(t),(e=Oe)?(e=tR(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ji!==null?{id:dr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=p1(e),n.return=t,t.child=n,Tt=t,Oe=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return Jc(t,r)}var o=e.memoizedState;if(o!==null){var a=o.dehydrated;if(uv(t),i)if(t.flags&256)t.flags&=-257,t=W_(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(We||Ss(e,t,n,!1),i=(n&e.childLanes)!==0,We||i){if(r=be,r!==null&&(a=zC(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Jo(e,a),Wt(r,e,a),Gy;If(),t=W_(e,t,n)}else e=o.treeContext,Oe=Un(a.nextSibling),Tt=t,ae=!0,ki=null,Nn=!1,e!==null&&v1(t,e),t=Jc(t,r),t.flags|=4096;return t}return e=zr(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mv(e,t,n,r,i){return ko(t),n=My(e,t,n,r,void 0,i),r=Py(),e!==null&&!We?(Ny(e,t,i),Kr(e,t,i)):(ae&&r&&Ey(t),t.flags|=1,_t(e,t,n,i),t.child)}function X_(e,t,n,r,i,o){return ko(t),t.updateQueue=null,n=x1(t,r,n,i),A1(e),r=Py(),e!==null&&!We?(Ny(e,t,o),Kr(e,t,o)):(ae&&r&&Ey(t),t.flags|=1,_t(e,t,n,o),t.child)}function Q_(e,t,n,r,i){if(ko(t),t.stateNode===null){var o=Ia,a=n.contextType;typeof a=="object"&&a!==null&&(o=At(a)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=hv,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},Oy(t),a=n.contextType,o.context=typeof a=="object"&&a!==null?At(a):Ia,o.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($p(t,n,a,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&hv.enqueueReplaceState(o,o.state,null),Al(t,r,o,i),Tl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var s=t.memoizedProps,l=Bo(n,s);o.props=l;var u=o.context,c=n.contextType;a=Ia,typeof c=="object"&&c!==null&&(a=At(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||u!==a)&&j_(t,o,r,a),gi=!1;var h=t.memoizedState;o.state=h,Al(t,r,o,i),Tl(),u=t.memoizedState,s||h!==u||gi?(typeof d=="function"&&($p(t,n,d,r),u=t.memoizedState),(l=gi||V_(t,n,l,r,h,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,av(e,t),a=t.memoizedProps,c=Bo(n,a),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=Ia,typeof u=="object"&&u!==null&&(l=At(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&j_(t,o,r,l),gi=!1,h=t.memoizedState,o.state=h,Al(t,r,o,i),Tl();var m=t.memoizedState;a!==d||h!==m||gi||e!==null&&e.dependencies!==null&&bf(e.dependencies)?(typeof s=="function"&&($p(t,n,s,r),m=t.memoizedState),(c=gi||V_(t,n,c,r,h,m,l)||e!==null&&e.dependencies!==null&&bf(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Wc(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Uo(t,e.child,null,i),t.child=Uo(t,null,n,i)):_t(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Kr(e,t,i),e}function Z_(e,t,n,r){return Do(),t.flags|=256,_t(e,t,n,r),t.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(e){return{baseLanes:e,cachePool:y1()}}function Hp(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function cO(e,t,n){var r=t.pendingProps,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ae){if(i?Si(t):Ei(),(e=Oe)?(e=tR(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ji!==null?{id:dr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=p1(e),n.return=t,t.child=n,Tt=t,Oe=null)):e=null,e===null)throw Fi(t);return Rv(e)?t.lanes=32:t.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Ei(),i=t.mode,s=xf({mode:"hidden",children:s},i),r=xo(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r=t.child,r.memoizedState=qp(n),r.childLanes=Hp(e,a,n),t.memoizedState=zp,fl(null,r)):(Si(t),vv(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)t.flags&256?(Si(t),t.flags&=-257,t=Gp(e,t,n)):t.memoizedState!==null?(Ei(),t.child=e.child,t.flags|=128,t=null):(Ei(),s=r.fallback,i=t.mode,r=xf({mode:"visible",children:r.children},i),s=xo(s,i,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Uo(t,e.child,null,n),r=t.child,r.memoizedState=qp(n),r.childLanes=Hp(e,a,n),t.memoizedState=zp,t=fl(null,r));else if(Si(t),Rv(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(D(419)),r.stack="",r.digest=a,zl({value:r,source:null,stack:null}),t=Gp(e,t,n)}else if(We||Ss(e,t,n,!1),a=(n&e.childLanes)!==0,We||a){if(a=be,a!==null&&(r=zC(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Jo(e,r),Wt(a,e,r),Gy;Ov(s)||If(),t=Gp(e,t,n)}else Ov(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Oe=Un(s.nextSibling),Tt=t,ae=!0,ki=null,Nn=!1,e!==null&&v1(t,e),t=vv(t,r.children),t.flags|=4096);return t}return i?(Ei(),s=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=zr(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=zr(u,s):(s=xo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,fl(null,r),r=t.child,s=e.child.memoizedState,s===null?s=qp(n):(i=s.cachePool,i!==null?(l=Je._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=y1(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Hp(e,a,n),t.memoizedState=zp,fl(e.child,r)):(Si(t),n=e.child,e=n.sibling,n=zr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function vv(e,t){return t=xf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xf(e,t){return e=an(22,e,null,t),e.lanes=0,e}function Gp(e,t,n){return Uo(t,e.child,null,n),e=vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ew(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rv(e.return,t,n)}function Vp(e,t,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function fO(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=He.current,s=(a&2)!==0;if(s?(a=a&1|2,t.flags|=128):a&=1,Ae(He,a),_t(e,t,r,n),r=ae?$l:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ew(e,n,t);else if(e.tag===19)ew(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vp(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vp(t,!0,n,null,o,r);break;case"together":Vp(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ss(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&bf(e)))}function F2(e,t,n){switch(t.tag){case 3:df(t,t.stateNode.containerInfo),wi(t,Je,e.memoizedState.cache),Do();break;case 27:case 5:Vm(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uv(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Si(t),t.flags|=128,null):n&t.child.childLanes?cO(e,t,n):(Si(t),e=Kr(e,t,n),e!==null?e.sibling:null);Si(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Ss(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return fO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(He,He.current),r)break;return null;case 22:return t.lanes=0,uO(e,t,n,t.pendingProps);case 24:wi(t,Je,e.memoizedState.cache)}return Kr(e,t,n)}function dO(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Vy(e,n)&&!(t.flags&128))return We=!1,F2(e,t,n);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&m1(t,$l,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=fo(t.elementType),t.type=e,typeof e=="function")Sy(e)?(r=Bo(e,r),t.tag=1,t=Q_(null,t,e,r,n)):(t.tag=0,t=mv(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===ly){t.tag=11,t=K_(null,t,e,r,n);break e}else if(i===uy){t.tag=14,t=Y_(null,t,e,r,n);break e}}throw t=Hm(e)||e,Error(D(306,t,""))}}return t;case 0:return mv(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Bo(r,t.pendingProps),Q_(e,t,r,i,n);case 3:e:{if(df(t,t.stateNode.containerInfo),e===null)throw Error(D(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,av(e,t),Al(t,r,null,n);var a=t.memoizedState;if(r=a.cache,wi(t,Je,r),r!==o.cache&&iv(t,[Je],n,!0),Tl(),r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Z_(e,t,r,n);break e}else if(r!==i){i=Pn(Error(D(424)),t),zl(i),t=Z_(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Un(e.firstChild),Tt=t,ae=!0,ki=null,Nn=!0,n=w1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Do(),r===i){t=Kr(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 26:return Wc(e,t),e===null?(n=_w(t.type,null,t.pendingProps,null))?t.memoizedState=n:ae||(n=t.type,e=t.pendingProps,r=Df(Di.current).createElement(n),r[Et]=t,r[Xt]=e,Ct(r,n,e),lt(r),t.stateNode=r):t.memoizedState=_w(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vm(t),e===null&&ae&&(r=t.stateNode=nR(t.type,t.pendingProps,Di.current),Tt=t,Nn=!0,i=Oe,Qi(t.type)?(Iv=i,Oe=Un(r.firstChild)):Oe=i),_t(e,t,t.pendingProps.children,n),Wc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ae&&((i=r=Oe)&&(r=SL(r,t.type,t.pendingProps,Nn),r!==null?(t.stateNode=r,Tt=t,Oe=Un(r.firstChild),Nn=!1,i=!0):i=!1),i||Fi(t)),Vm(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,r=o.children,xv(i,o)?r=null:a!==null&&xv(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=My(e,t,L2,null,null,n),Fl._currentValue=i),Wc(e,t),_t(e,t,r,n),t.child;case 6:return e===null&&ae&&((e=n=Oe)&&(n=EL(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,Tt=t,Oe=null,e=!0):e=!1),e||Fi(t)),null;case 13:return cO(e,t,n);case 4:return df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Uo(t,null,r,n):_t(e,t,r,n),t.child;case 11:return K_(e,t,t.type,t.pendingProps,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(t,t.type,r.value),_t(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ko(t),i=At(i),r=r(i),t.flags|=1,_t(e,t,r,n),t.child;case 14:return Y_(e,t,t.type,t.pendingProps,n);case 15:return lO(e,t,t.type,t.pendingProps,n);case 19:return fO(e,t,n);case 31:return j2(e,t,n);case 22:return uO(e,t,n,t.pendingProps);case 24:return ko(t),r=At(Je),e===null?(i=xy(),i===null&&(i=be,o=Ay(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Oy(t),wi(t,Je,i)):(e.lanes&n&&(av(e,t),Al(t,null,null,n),Tl()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),wi(t,Je,r)):(r=o.cache,wi(t,Je,r),r!==i.cache&&iv(t,[Je],n,!0))),_t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function xr(e){e.flags|=4}function jp(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(UO())e.flags|=8192;else throw Oo=_f,Cy}else e.flags&=-16777217}function tw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!oR(t))if(UO())e.flags|=8192;else throw Oo=_f,Cy}function ac(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?LC():536870912,e.lanes|=t,is|=t)}function Ks(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function K2(e,t,n){var r=t.pendingProps;switch(Ty(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),qr(Je),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(na(t)?xr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Up())),xe(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(xr(t),o!==null?(xe(t),tw(t,o)):(xe(t),jp(t,i,null,r,n))):o?o!==e.memoizedState?(xr(t),xe(t),tw(t,o)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&xr(t),xe(t),jp(t,i,e,r,n)),null;case 27:if(hf(t),n=Di.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(D(166));return xe(t),null}e=yr.current,na(t)?I_(t):(e=nR(i,r,n),t.stateNode=e,xr(t))}return xe(t),null;case 5:if(hf(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(D(166));return xe(t),null}if(o=yr.current,na(t))I_(t);else{var a=Df(Di.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Et]=t,o[Xt]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(Ct(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xr(t)}}return xe(t),jp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(e=Di.current,na(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Tt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Et]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||QO(e.nodeValue,n)),e||Fi(t,!0)}else e=Df(e).createTextNode(r),e[Et]=t,t.stateNode=e}return xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=na(t),n!==null){if(e===null){if(!r)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[Et]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else n=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if(t.flags&128)throw Error(D(558))}return xe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Et]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else i=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(on(t),t):(on(t),null)}return on(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ac(t,t.updateQueue),xe(t),null);case 4:return Qa(),e===null&&Xy(t.stateNode.containerInfo),xe(t),null;case 10:return qr(t.type),xe(t),null;case 19:if(ct(He),r=t.memoizedState,r===null)return xe(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)Ks(r,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sf(e),o!==null){for(t.flags|=128,Ks(r,!1),e=o.updateQueue,t.updateQueue=e,ac(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)h1(n,e),n=n.sibling;return Ae(He,He.current&1|2),ae&&Mr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&hn()>Of&&(t.flags|=128,i=!0,Ks(r,!1),t.lanes=4194304)}else{if(!i)if(e=Sf(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ac(t,e),Ks(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ae)return xe(t),null}else 2*hn()-r.renderingStartTime>Of&&n!==536870912&&(t.flags|=128,i=!0,Ks(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=hn(),e.sibling=null,n=He.current,Ae(He,i?n&1|2:n&1),ae&&Mr(t,r.treeForkCount),e):(xe(t),null);case 22:case 23:return on(t),Ry(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),n=t.updateQueue,n!==null&&ac(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ct(Co),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qr(Je),xe(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function Y2(e,t){switch(Ty(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(Je),Qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hf(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(D(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(He),null;case 4:return Qa(),null;case 10:return qr(t.type),null;case 22:case 23:return on(t),Ry(),e!==null&&ct(Co),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qr(Je),null;case 25:return null;default:return null}}function hO(e,t){switch(Ty(t),t.tag){case 3:qr(Je),Qa();break;case 26:case 27:case 5:hf(t);break;case 4:Qa();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:ct(He);break;case 10:qr(t.type);break;case 22:case 23:on(t),Ry(),e!==null&&ct(Co);break;case 24:qr(Je)}}function xu(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){me(t,t.return,s)}}function Ki(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){me(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){me(t,t.return,c)}}function pO(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{E1(t,n)}catch(r){me(e,e.return,r)}}}function mO(e,t,n){n.props=Bo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){me(e,t,r)}}function Cl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){me(e,t,i)}}function pr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){me(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){me(e,t,i)}else n.current=null}function vO(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){me(e,e.return,i)}}function Fp(e,t,n){try{var r=e.stateNode;vL(r,e.type,n,t),r[Xt]=t}catch(i){me(e,e.return,i)}}function gO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qi(e.type)||e.tag===4}function Kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ur));else if(r!==4&&(r===27&&Qi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gv(e,t,n),e=e.sibling;e!==null;)gv(e,t,n),e=e.sibling}function Cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function yO(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ct(t,r,n),t[Et]=e,t[Xt]=n}catch(o){me(e,e.return,o)}}var Nr=!1,Ye=!1,Yp=!1,nw=typeof WeakSet=="function"?WeakSet:Set,st=null;function J2(e,t){if(e=e.containerInfo,Tv=Bf,e=o1(e),by(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Av={focusedElem:e,selectionRange:n},Bf=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var v=Bo(n.type,i);e=r.getSnapshotBeforeUpdate(v,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){me(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cv(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function bO(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Or(e,n),r&4&&xu(5,n);break;case 1:if(Or(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){me(n,n.return,a)}else{var i=Bo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}r&64&&pO(n),r&512&&Cl(n,n.return);break;case 3:if(Or(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{E1(e,t)}catch(a){me(n,n.return,a)}}break;case 27:t===null&&r&4&&yO(n);case 26:case 5:Or(e,n),t===null&&r&4&&vO(n),r&512&&Cl(n,n.return);break;case 12:Or(e,n);break;case 31:Or(e,n),r&4&&SO(e,n);break;case 13:Or(e,n),r&4&&EO(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iL.bind(null,n),TL(e,n))));break;case 22:if(r=n.memoizedState!==null||Nr,!r){t=t!==null&&t.memoizedState!==null||Ye,i=Nr;var o=Ye;Nr=r,(Ye=t)&&!o?Rr(e,n,(n.subtreeFlags&8772)!==0):Or(e,n),Nr=i,Ye=o}break;case 30:break;default:Or(e,n)}}function _O(e){var t=e.alternate;t!==null&&(e.alternate=null,_O(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hy(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,jt=!1;function Cr(e,t,n){for(n=n.child;n!==null;)wO(e,t,n),n=n.sibling}function wO(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(bu,n)}catch{}switch(n.tag){case 26:Ye||pr(n,t),Cr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ye||pr(n,t);var r=Pe,i=jt;Qi(n.type)&&(Pe=n.stateNode,jt=!1),Cr(e,t,n),Ml(n.stateNode),Pe=r,jt=i;break;case 5:Ye||pr(n,t);case 6:if(r=Pe,i=jt,Pe=null,Cr(e,t,n),Pe=r,jt=i,Pe!==null)if(jt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(o){me(n,t,o)}else try{Pe.removeChild(n.stateNode)}catch(o){me(n,t,o)}break;case 18:Pe!==null&&(jt?(e=Pe,mw(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ls(e)):mw(Pe,n.stateNode));break;case 4:r=Pe,i=jt,Pe=n.stateNode.containerInfo,jt=!0,Cr(e,t,n),Pe=r,jt=i;break;case 0:case 11:case 14:case 15:Ki(2,n,t),Ye||Ki(4,n,t),Cr(e,t,n);break;case 1:Ye||(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&mO(n,t,r)),Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:Ye=(r=Ye)||n.memoizedState!==null,Cr(e,t,n),Ye=r;break;default:Cr(e,t,n)}}function SO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(n){me(t,t.return,n)}}}function EO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(n){me(t,t.return,n)}}function W2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nw),t;default:throw Error(D(435,e.tag))}}function sc(e,t){var n=W2(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=oL.bind(null,e,r);r.then(i,i)}})}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(Qi(s.type)){Pe=s.stateNode,jt=!1;break e}break;case 5:Pe=s.stateNode,jt=!1;break e;case 3:case 4:Pe=s.stateNode.containerInfo,jt=!0;break e}s=s.return}if(Pe===null)throw Error(D(160));wO(o,a,i),Pe=null,jt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)TO(t,e),t=t.sibling}var Jn=null;function TO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Gt(e),r&4&&(Ki(3,e,e.return),xu(3,e),Ki(5,e,e.return));break;case 1:Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),r&64&&Nr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Jn;if(Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Su]||o[Et]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Ct(o,r,n),o[Et]=e,lt(o),r=o;break e;case"link":var a=Sw("link","href",i).get(r+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),Ct(o,r,n),i.head.appendChild(o);break;case"meta":if(a=Sw("meta","content",i).get(r+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=i.createElement(r),Ct(o,r,n),i.head.appendChild(o);break;default:throw Error(D(468,r))}o[Et]=e,lt(o),r=o}e.stateNode=r}else Ew(i,e.type,e.stateNode);else e.stateNode=ww(i,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Ew(i,e.type,e.stateNode):ww(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Fp(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),n!==null&&r&4&&Fp(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),e.flags&32){i=e.stateNode;try{es(i,"")}catch(v){me(e,e.return,v)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Fp(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Yp=!0);break;case 6:if(Ht(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(D(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(v){me(e,e.return,v)}}break;case 3:if(Zc=null,i=Jn,Jn=kf(t.containerInfo),Ht(t,e),Jn=i,Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(v){me(e,e.return,v)}Yp&&(Yp=!1,AO(e));break;case 4:r=Jn,Jn=kf(e.stateNode.containerInfo),Ht(t,e),Gt(e),Jn=r;break;case 12:Ht(t,e),Gt(e);break;case 31:Ht(t,e),Gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 13:Ht(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nh=hn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Nr,c=Ye;if(Nr=u||i,Ye=c||l,Ht(t,e),Ye=c,Nr=u,Gt(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Nr||Ye||ho(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){me(l,l.return,v)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){me(l,l.return,v)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;i?vw(m,!0):vw(l.stateNode,!1)}catch(v){me(l,l.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,sc(e,n))));break;case 19:Ht(t,e),Gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 30:break;case 21:break;default:Ht(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(gO(r)){n=r;break}r=r.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var i=n.stateNode,o=Kp(e);Cf(e,o,i);break;case 5:var a=n.stateNode;n.flags&32&&(es(a,""),n.flags&=-33);var s=Kp(e);Cf(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Kp(e);gv(e,u,l);break;default:throw Error(D(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Or(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bO(e,t.alternate,t),t=t.sibling}function ho(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ki(4,t,t.return),ho(t);break;case 1:pr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&mO(t,t.return,n),ho(t);break;case 27:Ml(t.stateNode);case 26:case 5:pr(t,t.return),ho(t);break;case 22:t.memoizedState===null&&ho(t);break;case 30:ho(t);break;default:ho(t)}e=e.sibling}}function Rr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Rr(i,o,n),xu(4,o);break;case 1:if(Rr(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){me(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)S1(l[i],s)}catch(u){me(r,r.return,u)}}n&&a&64&&pO(o),Cl(o,o.return);break;case 27:yO(o);case 26:case 5:Rr(i,o,n),n&&r===null&&a&4&&vO(o),Cl(o,o.return);break;case 12:Rr(i,o,n);break;case 31:Rr(i,o,n),n&&a&4&&SO(i,o);break;case 13:Rr(i,o,n),n&&a&4&&EO(i,o);break;case 22:o.memoizedState===null&&Rr(i,o,n),Cl(o,o.return);break;case 30:break;default:Rr(i,o,n)}t=t.sibling}}function jy(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Tu(n))}function Fy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tu(e))}function Fn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xO(e,t,n,r),t=t.sibling}function xO(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Fn(e,t,n,r),i&2048&&xu(9,t);break;case 1:Fn(e,t,n,r);break;case 3:Fn(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tu(e)));break;case 12:if(i&2048){Fn(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){me(t,t.return,l)}}else Fn(e,t,n,r);break;case 31:Fn(e,t,n,r);break;case 13:Fn(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,t.memoizedState!==null?o._visibility&2?Fn(e,t,n,r):Ol(e,t):o._visibility&2?Fn(e,t,n,r):(o._visibility|=2,ma(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&jy(a,t);break;case 24:Fn(e,t,n,r),i&2048&&Fy(t.alternate,t);break;default:Fn(e,t,n,r)}}function ma(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:ma(o,a,s,l,i),xu(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?ma(o,a,s,l,i):Ol(o,a):(c._visibility|=2,ma(o,a,s,l,i)),i&&u&2048&&jy(a.alternate,a);break;case 24:ma(o,a,s,l,i),i&&u&2048&&Fy(a.alternate,a);break;default:ma(o,a,s,l,i)}t=t.sibling}}function Ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ol(n,r),i&2048&&jy(r.alternate,r);break;case 24:Ol(n,r),i&2048&&Fy(r.alternate,r);break;default:Ol(n,r)}t=t.sibling}}var dl=8192;function ra(e,t,n){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)CO(e,t,n),e=e.sibling}function CO(e,t,n){switch(e.tag){case 26:ra(e,t,n),e.flags&dl&&e.memoizedState!==null&&UL(n,Jn,e.memoizedState,e.memoizedProps);break;case 5:ra(e,t,n);break;case 3:case 4:var r=Jn;Jn=kf(e.stateNode.containerInfo),ra(e,t,n),Jn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,ra(e,t,n),dl=r):ra(e,t,n));break;default:ra(e,t,n)}}function OO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ys(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];st=r,IO(r,e)}OO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)RO(e),e=e.sibling}function RO(e){switch(e.tag){case 0:case 11:case 15:Ys(e),e.flags&2048&&Ki(9,e,e.return);break;case 3:Ys(e);break;case 12:Ys(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xc(e)):Ys(e);break;default:Ys(e)}}function Xc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];st=r,IO(r,e)}OO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ki(8,t,t.return),Xc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function IO(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:Ki(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Tu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,st=r;else e:for(n=e;st!==null;){r=st;var i=r.sibling,o=r.return;if(_O(r),r===n){st=null;break e}if(i!==null){i.return=o,st=i;break e}st=o}}}var X2={getCacheForType:function(e){var t=At(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return At(Je).controller.signal}},Q2=typeof WeakMap=="function"?WeakMap:Map,ce=0,be=null,re=null,oe=0,he=0,rn=null,Ii=!1,Ts=!1,Ky=!1,Yr=0,qe=0,Yi=0,Ro=0,Yy=0,un=0,is=0,Rl=null,Ft=null,yv=!1,nh=0,MO=0,Of=1/0,Rf=null,Bi=null,et=0,$i=null,os=null,Hr=0,bv=0,_v=null,PO=null,Il=0,wv=null;function vn(){return ce&2&&oe!==0?oe&-oe:W.T!==null?Wy():qC()}function NO(){if(un===0)if(!(oe&536870912)||ae){var e=Zu;Zu<<=1,!(Zu&3932160)&&(Zu=262144),un=e}else un=536870912;return e=bn.current,e!==null&&(e.flags|=32),un}function Wt(e,t,n){(e===be&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(as(e,0),Mi(e,oe,un,!1)),wu(e,n),(!(ce&2)||e!==be)&&(e===be&&(!(ce&2)&&(Ro|=n),qe===4&&Mi(e,oe,un,!1)),Tr(e))}function DO(e,t,n){if(ce&6)throw Error(D(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||_u(e,t),i=r?tL(e,t):Jp(e,t,!0),o=r;do{if(i===0){Ts&&!r&&Mi(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Z2(n)){i=Jp(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var s=e;i=Rl;var l=s.current.memoizedState.isDehydrated;if(l&&(as(s,a).flags|=256),a=Jp(s,a,!1),a!==2){if(Ky&&!l){s.errorRecoveryDisabledLanes|=o,Ro|=o,i=4;break e}o=Ft,Ft=i,o!==null&&(Ft===null?Ft=o:Ft.push.apply(Ft,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){as(e,0),Mi(e,t,0,!0);break}e:{switch(r=e,o=i,o){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:Mi(r,t,un,!Ii);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(i=nh+300-hn(),10<i)){if(Mi(r,t,un,!Ii),jd(r,0,!0)!==0)break e;Hr=t,r.timeoutHandle=eR(rw.bind(null,r,n,Ft,Rf,yv,t,un,Ro,is,Ii,o,"Throttled",-0,0),i);break e}rw(r,n,Ft,Rf,yv,t,un,Ro,is,Ii,o,null,-0,0)}}break}while(!0);Tr(e)}function rw(e,t,n,r,i,o,a,s,l,u,c,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},CO(t,o,d);var v=(o&62914560)===o?nh-hn():(o&4194048)===o?MO-hn():0;if(v=LL(d,v),v!==null){Hr=o,e.cancelPendingCommit=v(ow.bind(null,e,t,o,n,r,i,a,s,l,c,d,null,h,m)),Mi(e,o,a,!u);return}}ow(e,t,o,n,r,i,a,s,l)}function Z2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yn(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mi(e,t,n,r){t&=~Yy,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-mn(i),a=1<<o;r[o]=-1,i&=~a}n!==0&&BC(e,n,t)}function rh(){return ce&6?!0:(Cu(0),!1)}function Jy(){if(re!==null){if(he===0)var e=re.return;else e=re,Lr=Wo=null,Dy(e),Ga=null,ql=0,e=re;for(;e!==null;)hO(e.alternate,e),e=e.return;re=null}}function as(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,bL(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Hr=0,Jy(),be=e,re=n=zr(e.current,null),oe=t,he=0,rn=null,Ii=!1,Ts=_u(e,t),Ky=!1,is=un=Yy=Ro=Yi=qe=0,Ft=Rl=null,yv=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-mn(r),o=1<<i;t|=e[i],r&=~o}return Yr=t,Jd(),n}function kO(e,t){te=null,W.H=Gl,t===Es||t===Xd?(t=k_(),he=3):t===Cy?(t=k_(),he=4):he=t===Gy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rn=t,re===null&&(qe=1,Af(e,Pn(t,e.current)))}function UO(){var e=bn.current;return e===null?!0:(oe&4194048)===oe?kn===null:(oe&62914560)===oe||oe&536870912?e===kn:!1}function LO(){var e=W.H;return W.H=Gl,e===null?Gl:e}function BO(){var e=W.A;return W.A=X2,e}function If(){qe=4,Ii||(oe&4194048)!==oe&&bn.current!==null||(Ts=!0),!(Yi&134217727)&&!(Ro&134217727)||be===null||Mi(be,oe,un,!1)}function Jp(e,t,n){var r=ce;ce|=2;var i=LO(),o=BO();(be!==e||oe!==t)&&(Rf=null,as(e,t)),t=!1;var a=qe;e:do try{if(he!==0&&re!==null){var s=re,l=rn;switch(he){case 8:Jy(),a=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var u=he;if(he=0,rn=null,Na(e,s,l,u),n&&Ts){a=0;break e}break;default:u=he,he=0,rn=null,Na(e,s,l,u)}}eL(),a=qe;break}catch(c){kO(e,c)}while(!0);return t&&e.shellSuspendCounter++,Lr=Wo=null,ce=r,W.H=i,W.A=o,re===null&&(be=null,oe=0,Jd()),a}function eL(){for(;re!==null;)$O(re)}function tL(e,t){var n=ce;ce|=2;var r=LO(),i=BO();be!==e||oe!==t?(Rf=null,Of=hn()+500,as(e,t)):Ts=_u(e,t);e:do try{if(he!==0&&re!==null){t=re;var o=rn;t:switch(he){case 1:he=0,rn=null,Na(e,t,o,1);break;case 2:case 9:if(D_(o)){he=0,rn=null,iw(t);break}t=function(){he!==2&&he!==9||be!==e||(he=7),Tr(e)},o.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:D_(o)?(he=0,rn=null,iw(t)):(he=0,rn=null,Na(e,t,o,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var s=re;if(a?oR(a):s.stateNode.complete){he=0,rn=null;var l=s.sibling;if(l!==null)re=l;else{var u=s.return;u!==null?(re=u,ih(u)):re=null}break t}}he=0,rn=null,Na(e,t,o,5);break;case 6:he=0,rn=null,Na(e,t,o,6);break;case 8:Jy(),qe=6;break e;default:throw Error(D(462))}}nL();break}catch(c){kO(e,c)}while(!0);return Lr=Wo=null,W.H=r,W.A=i,ce=n,re!==null?0:(be=null,oe=0,Jd(),qe)}function nL(){for(;re!==null&&!AU();)$O(re)}function $O(e){var t=dO(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?ih(e):re=t}function iw(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=X_(n,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=X_(n,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:Dy(t);default:hO(n,t),t=re=h1(t,Yr),t=dO(n,t,Yr)}e.memoizedProps=e.pendingProps,t===null?ih(e):re=t}function Na(e,t,n,r){Lr=Wo=null,Dy(t),Ga=null,ql=0;var i=t.return;try{if(V2(e,i,t,n,oe)){qe=1,Af(e,Pn(n,e.current)),re=null;return}}catch(o){if(i!==null)throw re=i,o;qe=1,Af(e,Pn(n,e.current)),re=null;return}t.flags&32768?(ae||r===1?e=!0:Ts||oe&536870912?e=!1:(Ii=e=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),zO(t,e)):ih(t)}function ih(e){var t=e;do{if(t.flags&32768){zO(t,Ii);return}e=t.return;var n=K2(t.alternate,t,Yr);if(n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);qe===0&&(qe=5)}function zO(e,t){do{var n=Y2(e.alternate,e);if(n!==null){n.flags&=32767,re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=n}while(e!==null);qe=6,re=null}function ow(e,t,n,r,i,o,a,s,l){e.cancelPendingCommit=null;do oh();while(et!==0);if(ce&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(o=t.lanes|t.childLanes,o|=_y,kU(e,n,o,a,s,l),e===be&&(re=be=null,oe=0),os=t,$i=e,Hr=n,bv=o,_v=i,PO=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,aL(pf,function(){return jO(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=W.T,W.T=null,i=de.p,de.p=2,a=ce,ce|=4;try{J2(e,t,n)}finally{ce=a,de.p=i,W.T=r}}et=1,qO(),HO(),GO()}}function qO(){if(et===1){et=0;var e=$i,t=os,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=W.T,W.T=null;var r=de.p;de.p=2;var i=ce;ce|=4;try{TO(t,e);var o=Av,a=o1(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&i1(s.ownerDocument.documentElement,s)){if(l!==null&&by(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,g=Math.min(l.start,v),y=l.end===void 0?g:Math.min(l.end,v);!m.extend&&g>y&&(a=y,y=g,g=a);var b=C_(s,g),_=C_(s,y);if(b&&_&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==_.node||m.focusOffset!==_.offset)){var w=d.createRange();w.setStart(b.node,b.offset),m.removeAllRanges(),g>y?(m.addRange(w),m.extend(_.node,_.offset)):(w.setEnd(_.node,_.offset),m.addRange(w))}}}}for(d=[],m=s;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var S=d[s];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Bf=!!Tv,Av=Tv=null}finally{ce=i,de.p=r,W.T=n}}e.current=t,et=2}}function HO(){if(et===2){et=0;var e=$i,t=os,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=W.T,W.T=null;var r=de.p;de.p=2;var i=ce;ce|=4;try{bO(e,t.alternate,t)}finally{ce=i,de.p=r,W.T=n}}et=3}}function GO(){if(et===4||et===3){et=0,xU();var e=$i,t=os,n=Hr,r=PO;t.subtreeFlags&10256||t.flags&10256?et=5:(et=0,os=$i=null,VO(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bi=null),dy(n),t=t.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(bu,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=W.T,i=de.p,de.p=2,W.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{W.T=t,de.p=i}}Hr&3&&oh(),Tr(e),i=e.pendingLanes,n&261930&&i&42?e===wv?Il++:(Il=0,wv=e):Il=0,Cu(0)}}function VO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tu(t)))}function oh(){return qO(),HO(),GO(),jO()}function jO(){if(et!==5)return!1;var e=$i,t=bv;bv=0;var n=dy(Hr),r=W.T,i=de.p;try{de.p=32>n?32:n,W.T=null,n=_v,_v=null;var o=$i,a=Hr;if(et=0,os=$i=null,Hr=0,ce&6)throw Error(D(331));var s=ce;if(ce|=4,RO(o.current),xO(o,o.current,a,n),ce=s,Cu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(bu,o)}catch{}return!0}finally{de.p=i,W.T=r,VO(e,t)}}function aw(e,t,n){t=Pn(n,t),t=pv(e.stateNode,t,2),e=Li(e,t,2),e!==null&&(wu(e,2),Tr(e))}function me(e,t,n){if(e.tag===3)aw(e,e,n);else for(;t!==null;){if(t.tag===3){aw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){e=Pn(n,e),n=aO(2),r=Li(t,n,2),r!==null&&(sO(n,r,t,e),wu(r,2),Tr(r));break}}t=t.return}}function Wp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Q2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Ky=!0,i.add(n),e=rL.bind(null,e,t,n),t.then(e,e))}function rL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,be===e&&(oe&n)===n&&(qe===4||qe===3&&(oe&62914560)===oe&&300>hn()-nh?!(ce&2)&&as(e,0):Yy|=n,is===oe&&(is=0)),Tr(e)}function FO(e,t){t===0&&(t=LC()),e=Jo(e,t),e!==null&&(wu(e,t),Tr(e))}function iL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FO(e,n)}function oL(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(D(314))}r!==null&&r.delete(t),FO(e,n)}function aL(e,t){return cy(e,t)}var Mf=null,va=null,Sv=!1,Pf=!1,Xp=!1,Pi=0;function Tr(e){e!==va&&e.next===null&&(va===null?Mf=va=e:va=va.next=e),Pf=!0,Sv||(Sv=!0,lL())}function Cu(e,t){if(!Xp&&Pf){Xp=!0;do for(var n=!1,r=Mf;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-mn(42|e)+1)-1,o&=i&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,sw(r,o))}else o=oe,o=jd(r,r===be?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||_u(r,o)||(n=!0,sw(r,o));r=r.next}while(n);Xp=!1}}function sL(){KO()}function KO(){Pf=Sv=!1;var e=0;Pi!==0&&yL()&&(e=Pi);for(var t=hn(),n=null,r=Mf;r!==null;){var i=r.next,o=YO(r,t);o===0?(r.next=null,n===null?Mf=i:n.next=i,i===null&&(va=n)):(n=r,(e!==0||o&3)&&(Pf=!0)),r=i}et!==0&&et!==5||Cu(e),Pi!==0&&(Pi=0)}function YO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var a=31-mn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=DU(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(t=be,n=oe,n=jd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ap(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||_u(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ap(r),dy(n)){case 2:case 8:n=kC;break;case 32:n=pf;break;case 268435456:n=UC;break;default:n=pf}return r=JO.bind(null,e),n=cy(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ap(r),e.callbackPriority=2,e.callbackNode=null,2}function JO(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(oh()&&e.callbackNode!==n)return null;var r=oe;return r=jd(e,e===be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(DO(e,r,t),YO(e,hn()),e.callbackNode!=null&&e.callbackNode===n?JO.bind(null,e):null)}function sw(e,t){if(oh())return null;DO(e,t,!0)}function lL(){_L(function(){ce&6?cy(DC,sL):KO()})}function Wy(){if(Pi===0){var e=ts;e===0&&(e=Qu,Qu<<=1,!(Qu&261888)&&(Qu=256)),Pi=e}return Pi}function lw(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hc(""+e)}function uw(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function uL(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var o=lw((i[Xt]||null).action),a=r.submitter;a&&(t=(t=a[Xt]||null)?lw(t.formAction):a.getAttribute("formAction"),t!==null&&(o=t,a=null));var s=new Fd("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Pi!==0){var l=a?uw(i,a):new FormData(i);dv(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?uw(i,a):new FormData(i),dv(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var Qp=0;Qp<ev.length;Qp++){var Zp=ev[Qp],cL=Zp.toLowerCase(),fL=Zp[0].toUpperCase()+Zp.slice(1);ar(cL,"on"+fL)}ar(s1,"onAnimationEnd");ar(l1,"onAnimationIteration");ar(u1,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(C2,"onTransitionRun");ar(O2,"onTransitionStart");ar(R2,"onTransitionCancel");ar(c1,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function WO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){vf(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){vf(c)}i.currentTarget=null,o=l}}}}function ne(e,t){var n=t[Fm];n===void 0&&(n=t[Fm]=new Set);var r=e+"__bubble";n.has(r)||(XO(t,e,2,!1),n.add(r))}function em(e,t,n){var r=0;t&&(r|=4),XO(n,e,r,t)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Xy(e){if(!e[lc]){e[lc]=!0,HC.forEach(function(n){n!=="selectionchange"&&(dL.has(n)||em(n,!1,e),em(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lc]||(t[lc]=!0,em("selectionchange",!1,t))}}function XO(e,t,n,r){switch(cR(t)){case 2:var i=zL;break;case 8:i=qL;break;default:i=t0}n=i.bind(null,t,n,e),i=void 0,!Xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;s!==null;){if(a=Ta(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}WC(function(){var u=o,c=my(n),d=[];e:{var h=f1.get(e);if(h!==void 0){var m=Fd,v=e;switch(e){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":m=o2;break;case"focusin":v="focus",m=Ip;break;case"focusout":v="blur",m=Ip;break;case"beforeblur":case"afterblur":m=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=l2;break;case s1:case l1:case u1:m=WU;break;case c1:m=c2;break;case"scroll":case"scrollend":m=jU;break;case"wheel":m=d2;break;case"copy":case"cut":case"paste":m=QU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=b_;break;case"toggle":case"beforetoggle":m=p2}var g=(t&4)!==0,y=!g&&(e==="scroll"||e==="scrollend"),b=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,w;_!==null;){var S=_;if(w=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||w===null||b===null||(S=Ul(_,b),S!=null&&g.push(jl(_,S,w))),y)break;_=_.return}0<g.length&&(h=new m(h,v,null,n,c),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Wm&&(v=n.relatedTarget||n.fromElement)&&(Ta(v)||v[_s]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ta(v):null,v!==null&&(y=yu(v),g=v.tag,v!==y||g!==5&&g!==27&&g!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=g_,S="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=b_,S="onPointerLeave",b="onPointerEnter",_="pointer"),y=m==null?h:cl(m),w=v==null?h:cl(v),h=new g(S,_+"leave",m,n,c),h.target=y,h.relatedTarget=w,S=null,Ta(c)===u&&(g=new g(b,_+"enter",v,n,c),g.target=w,g.relatedTarget=y,S=g),y=S,m&&v)t:{for(g=hL,b=m,_=v,w=0,S=b;S;S=g(S))w++;S=0;for(var A=_;A;A=g(A))S++;for(;0<w-S;)b=g(b),w--;for(;0<S-w;)_=g(_),S--;for(;w--;){if(b===_||_!==null&&b===_.alternate){g=b;break t}b=g(b),_=g(_)}g=null}else g=null;m!==null&&cw(d,h,m,g,!1),v!==null&&y!==null&&cw(d,y,v,g,!0)}}e:{if(h=u?cl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=E_;else if(S_(h))if(n1)T=T2;else{T=S2;var x=w2}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&py(u.elementType)&&(T=E_):T=E2;if(T&&(T=T(e,u))){t1(d,T,n,c);break e}x&&x(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Jm(h,"number",h.value)}switch(x=u?cl(u):window,e){case"focusin":(S_(x)||x.contentEditable==="true")&&(Ca=x,Qm=u,wl=null);break;case"focusout":wl=Qm=Ca=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,O_(d,n,c);break;case"selectionchange":if(x2)break;case"keydown":case"keyup":O_(d,n,c)}var R;if(yy)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xa?ZC(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(QC&&n.locale!=="ko"&&(xa||C!=="onCompositionStart"?C==="onCompositionEnd"&&xa&&(R=XC()):(Ri=c,vy="value"in Ri?Ri.value:Ri.textContent,xa=!0)),x=Nf(u,C),0<x.length&&(C=new y_(C,e,null,n,c),d.push({event:C,listeners:x}),R?C.data=R:(R=e1(n),R!==null&&(C.data=R)))),(R=v2?g2(e,n):y2(e,n))&&(C=Nf(u,"onBeforeInput"),0<C.length&&(x=new y_("onBeforeInput","beforeinput",null,n,c),d.push({event:x,listeners:C}),x.data=R)),uL(d,e,u,n,c)}WO(d,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Ul(e,n),i!=null&&r.unshift(jl(e,i,o)),i=Ul(e,t),i!=null&&r.push(jl(e,i,o))),e.tag===3)return r;e=e.return}return[]}function hL(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cw(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Ul(n,o),u!=null&&a.unshift(jl(n,u,l))):i||(u=Ul(n,o),u!=null&&a.push(jl(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var pL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function fw(e){return(typeof e=="string"?e:""+e).replace(pL,`
`).replace(mL,"")}function QO(e,t){return t=fw(t),fw(e)===t}function ve(e,t,n,r,i,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||es(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&es(e,""+r);break;case"className":tc(e,"class",r);break;case"tabIndex":tc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tc(e,n,r);break;case"style":JC(e,r,o);break;case"data":if(t!=="object"){tc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Hc(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",i.name,i,null),ve(e,t,"formEncType",i.formEncType,i,null),ve(e,t,"formMethod",i.formMethod,i,null),ve(e,t,"formTarget",i.formTarget,i,null)):(ve(e,t,"encType",i.encType,i,null),ve(e,t,"method",i.method,i,null),ve(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Hc(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Ur);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(D(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Hc(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ne("beforetoggle",e),ne("toggle",e),qc(e,"popover",r);break;case"xlinkActuate":Ar(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ar(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ar(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ar(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ar(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ar(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qc(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=GU.get(n)||n,qc(e,n,r))}}function Ev(e,t,n,r,i,o){switch(n){case"style":JC(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(D(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof r=="string"?es(e,r):(typeof r=="number"||typeof r=="bigint")&&es(e,""+r);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[Xt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):qc(e,n,r)}}}function Ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ve(e,t,o,a,n,null)}}i&&ve(e,t,"srcSet",n.srcSet,n,null),r&&ve(e,t,"src",n.src,n,null);return;case"input":ne("invalid",e);var s=o=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(D(137,t));break;default:ve(e,t,r,c,n,null)}}FC(e,o,s,l,u,a,i,!1);return;case"select":ne("invalid",e),r=a=o=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:ve(e,t,i,s,n,null)}t=o,n=a,e.multiple=!!r,t!=null?za(e,!!r,t,!1):n!=null&&za(e,!!r,n,!0);return;case"textarea":ne("invalid",e),o=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(D(91));break;default:ve(e,t,a,s,n,null)}YC(e,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ve(e,t,l,r,n,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(r=0;r<Vl.length;r++)ne(Vl[r],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ve(e,t,u,r,n,null)}return;default:if(py(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Ev(e,t,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&ve(e,t,s,r,n,null))}function vL(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||ve(e,t,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":o=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":a=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(D(137,t));break;default:m!==d&&ve(e,t,h,m,r,d)}}Ym(e,a,s,l,u,c,o,i);return;case"select":m=a=s=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||ve(e,t,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&ve(e,t,i,o,r,l)}t=s,n=a,r=m,h!=null?za(e,!!n,h,!1):!!r!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ve(e,t,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(D(91));break;default:i!==o&&ve(e,t,a,i,r,o)}KC(e,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ve(e,t,v,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ve(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&ve(e,t,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:ve(e,t,u,h,r,m)}return;default:if(py(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!==void 0&&!r.hasOwnProperty(y)&&Ev(e,t,y,void 0,r,h);for(c in r)h=r[c],m=n[c],!r.hasOwnProperty(c)||h===m||h===void 0&&m===void 0||Ev(e,t,c,h,r,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&ve(e,t,b,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||ve(e,t,d,h,r,m)}function dw(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gL(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&dw(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&dw(d)&&(l=l.responseEnd,a+=c*(l<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+a)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tv=null,Av=null;function Df(e){return e.nodeType===9?e:e.ownerDocument}function hw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nm=null;function yL(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var eR=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,_L=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(e){return pw.resolve(null).then(e).catch(wL)}:eR;function wL(e){setTimeout(function(){throw e})}function Qi(e){return e==="head"}function mw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),ls(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ml(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ml(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Su]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&Ml(e.ownerDocument.body);n=i}while(n);ls(t)}function vw(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Cv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cv(n),hy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function SL(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Su])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function EL(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function tR(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Un(e.nextSibling),e===null))return null;return e}function Ov(e){return e.data==="$?"||e.data==="$~"}function Rv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function TL(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iv=null;function gw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Un(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function yw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function nR(e,t,n){switch(t=Df(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function Ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hy(e)}var Ln=new Map,bw=new Set;function kf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=de.d;de.d={f:AL,r:xL,D:CL,C:OL,L:RL,m:IL,X:PL,S:ML,M:NL};function AL(){var e=ii.f(),t=rh();return e||t}function xL(e){var t=ws(e);t!==null&&t.tag===5&&t.type==="form"?J1(t):ii.r(e)}var As=typeof document>"u"?null:document;function rR(e,t,n){var r=As;if(r&&typeof t=="string"&&t){var i=Mn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),bw.has(i)||(bw.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Ct(t,"link",e),lt(t),r.head.appendChild(t)))}}function CL(e){ii.D(e),rR("dns-prefetch",e,null)}function OL(e,t){ii.C(e,t),rR("preconnect",e,t)}function RL(e,t,n){ii.L(e,t,n);var r=As;if(r&&e&&t){var i='link[rel="preload"][as="'+Mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Mn(n.imageSizes)+'"]')):i+='[href="'+Mn(e)+'"]';var o=i;switch(t){case"style":o=ss(e);break;case"script":o=xs(e)}Ln.has(o)||(e=Ie({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(o,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Ou(o))||t==="script"&&r.querySelector(Ru(o))||(t=r.createElement("link"),Ct(t,"link",e),lt(t),r.head.appendChild(t)))}}function IL(e,t){ii.m(e,t);var n=As;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Mn(r)+'"][href="'+Mn(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xs(e)}if(!Ln.has(o)&&(e=Ie({rel:"modulepreload",href:e},t),Ln.set(o,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ru(o)))return}r=n.createElement("link"),Ct(r,"link",e),lt(r),n.head.appendChild(r)}}}function ML(e,t,n){ii.S(e,t,n);var r=As;if(r&&e){var i=$a(r).hoistableStyles,o=ss(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Ou(o)))s.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(o))&&Qy(e,n);var l=a=r.createElement("link");lt(l),Ct(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Qc(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function PL(e,t){ii.X(e,t);var n=As;if(n&&e){var r=$a(n).hoistableScripts,i=xs(e),o=r.get(i);o||(o=n.querySelector(Ru(i)),o||(e=Ie({src:e,async:!0},t),(t=Ln.get(i))&&Zy(e,t),o=n.createElement("script"),lt(o),Ct(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function NL(e,t){ii.M(e,t);var n=As;if(n&&e){var r=$a(n).hoistableScripts,i=xs(e),o=r.get(i);o||(o=n.querySelector(Ru(i)),o||(e=Ie({src:e,async:!0,type:"module"},t),(t=Ln.get(i))&&Zy(e,t),o=n.createElement("script"),lt(o),Ct(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function _w(e,t,n,r){var i=(i=Di.current)?kf(i):null;if(!i)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ss(n.href),n=$a(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ss(n.href);var o=$a(i).hoistableStyles,a=o.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=i.querySelector(Ou(e)))&&!o._p&&(a.instance=o,a.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),o||DL(i,e,n,a.state))),t&&r===null)throw Error(D(528,""));return a}if(t&&r!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(n),n=$a(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function ss(e){return'href="'+Mn(e)+'"'}function Ou(e){return'link[rel="stylesheet"]['+e+"]"}function iR(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function DL(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ct(t,"link",n),lt(t),e.head.appendChild(t))}function xs(e){return'[src="'+Mn(e)+'"]'}function Ru(e){return"script[async]"+e}function ww(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(r)return t.instance=r,lt(r),r;var i=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),lt(r),Ct(r,"style",i),Qc(r,n.precedence,e),t.instance=r;case"stylesheet":i=ss(n.href);var o=e.querySelector(Ou(i));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;r=iR(n),(i=Ln.get(i))&&Qy(r,i),o=(e.ownerDocument||e).createElement("link"),lt(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Ct(o,"link",r),t.state.loading|=4,Qc(o,n.precedence,e),t.instance=o;case"script":return o=xs(n.src),(i=e.querySelector(Ru(o)))?(t.instance=i,lt(i),i):(r=n,(i=Ln.get(o))&&(r=Ie({},n),Zy(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),lt(i),Ct(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Qc(r,n.precedence,e));return t.instance}function Qc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zc=null;function Sw(e,t,n){if(Zc===null){var r=new Map,i=Zc=new Map;i.set(n,r)}else i=Zc,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Su]||o[Et]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Ew(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function kL(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function oR(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function UL(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=ss(r.href),o=t.querySelector(Ou(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,lt(o);return}o=t.ownerDocument||t,r=iR(r),(i=Ln.get(i))&&Qy(r,i),o=o.createElement("link"),lt(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Ct(o,"link",r),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Uf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var rm=0;function LL(e,t){return e.stylesheets&&e.count===0&&ef(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&rm===0&&(rm=62500*gL());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>rm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lf=null;function ef(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lf=new Map,t.forEach(BL,e),Lf=null,Uf.call(e))}function BL(e,t){if(!(t.state.loading&4)){var n=Lf.get(e);if(n)var r=n.get(null);else{n=new Map,Lf.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),o=n.get(a)||r,o===r&&n.set(null,i),n.set(a,i),this.count++,r=Uf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Fl={$$typeof:kr,Provider:null,Consumer:null,_currentValue:Ao,_currentValue2:Ao,_threadCount:0};function $L(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.hiddenUpdates=xp(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function aR(e,t,n,r,i,o,a,s,l,u,c,d){return e=new $L(e,t,n,a,l,u,c,d,s),t=1,o===!0&&(t|=24),o=an(3,null,null,t),e.current=o,o.stateNode=e,t=Ay(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Oy(o),e}function sR(e){return e?(e=Ia,e):Ia}function lR(e,t,n,r,i,o){i=sR(i),r.context===null?r.context=i:r.pendingContext=i,r=Ui(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Li(e,r,t),n!==null&&(Wt(n,e,t),El(n,e,t))}function Tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function e0(e,t){Tw(e,t),(e=e.alternate)&&Tw(e,t)}function uR(e){if(e.tag===13||e.tag===31){var t=Jo(e,67108864);t!==null&&Wt(t,e,67108864),e0(e,67108864)}}function Aw(e){if(e.tag===13||e.tag===31){var t=vn();t=fy(t);var n=Jo(e,t);n!==null&&Wt(n,e,t),e0(e,t)}}var Bf=!0;function zL(e,t,n,r){var i=W.T;W.T=null;var o=de.p;try{de.p=2,t0(e,t,n,r)}finally{de.p=o,W.T=i}}function qL(e,t,n,r){var i=W.T;W.T=null;var o=de.p;try{de.p=8,t0(e,t,n,r)}finally{de.p=o,W.T=i}}function t0(e,t,n,r){if(Bf){var i=Mv(r);if(i===null)tm(e,t,r,$f,n),xw(e,r);else if(GL(i,e,t,n,r))r.stopPropagation();else if(xw(e,r),t&4&&-1<HL.indexOf(e)){for(;i!==null;){var o=ws(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=co(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-mn(a);s.entanglements[1]|=l,a&=~l}Tr(o),!(ce&6)&&(Of=hn()+500,Cu(0))}}break;case 31:case 13:s=Jo(o,2),s!==null&&Wt(s,o,2),rh(),e0(o,2)}if(o=Mv(r),o===null&&tm(e,t,r,$f,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tm(e,t,r,null,n)}}function Mv(e){return e=my(e),n0(e)}var $f=null;function n0(e){if($f=null,e=Ta(e),e!==null){var t=yu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=RC(t),e!==null)return e;e=null}else if(n===31){if(e=IC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $f=e,null}function cR(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(CU()){case DC:return 2;case kC:return 8;case pf:case OU:return 32;case UC:return 268435456;default:return 32}default:return 32}}var Pv=!1,zi=null,qi=null,Hi=null,Kl=new Map,Yl=new Map,Ti=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(t.pointerId)}}function Js(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ws(t),t!==null&&uR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GL(e,t,n,r,i){switch(t){case"focusin":return zi=Js(zi,e,t,n,r,i),!0;case"dragenter":return qi=Js(qi,e,t,n,r,i),!0;case"mouseover":return Hi=Js(Hi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Kl.set(o,Js(Kl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yl.set(o,Js(Yl.get(o)||null,e,t,n,r,i)),!0}return!1}function fR(e){var t=Ta(e.target);if(t!==null){var n=yu(t);if(n!==null){if(t=n.tag,t===13){if(t=RC(n),t!==null){e.blockedOn=t,c_(e.priority,function(){Aw(n)});return}}else if(t===31){if(t=IC(n),t!==null){e.blockedOn=t,c_(e.priority,function(){Aw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mv(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wm=r,n.target.dispatchEvent(r),Wm=null}else return t=ws(n),t!==null&&uR(t),e.blockedOn=n,!1;t.shift()}return!0}function Cw(e,t,n){tf(e)&&n.delete(t)}function VL(){Pv=!1,zi!==null&&tf(zi)&&(zi=null),qi!==null&&tf(qi)&&(qi=null),Hi!==null&&tf(Hi)&&(Hi=null),Kl.forEach(Cw),Yl.forEach(Cw)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,Pv||(Pv=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,VL)))}var cc=null;function Ow(e){cc!==e&&(cc=e,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(n0(r||n)===null)continue;break}var o=ws(n);o!==null&&(e.splice(t,3),t-=3,dv(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ls(e){function t(l){return uc(l,e)}zi!==null&&uc(zi,e),qi!==null&&uc(qi,e),Hi!==null&&uc(Hi,e),Kl.forEach(t),Yl.forEach(t);for(var n=0;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)fR(n),n.blockedOn===null&&Ti.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Xt]||null;if(typeof o=="function")a||Ow(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Xt]||null)s=a.formAction;else if(n0(i)!==null)continue}else s=a.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),Ow(n)}}}function dR(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function r0(e){this._internalRoot=e}ah.prototype.render=r0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,r=vn();lR(n,r,e,t,null,null)};ah.prototype.unmount=r0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lR(e.current,2,null,e,null,null),rh(),t[_s]=null}};function ah(e){this._internalRoot=e}ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=qC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ti.length&&t!==0&&t<Ti[n].priority;n++);Ti.splice(n,0,e),n===0&&fR(e)}};var Rw=CC.version;if(Rw!=="19.2.4")throw Error(D(527,Rw,"19.2.4"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=_U(t),e=e!==null?MC(e):null,e=e===null?null:e.stateNode,e};var jL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{bu=fc.inject(jL),pn=fc}catch{}}Gd.createRoot=function(e,t){if(!OC(e))throw Error(D(299));var n=!1,r="",i=rO,o=iO,a=oO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=aR(e,1,!1,null,null,n,r,null,i,o,a,dR),e[_s]=t.current,Xy(e),new r0(t)};Gd.hydrateRoot=function(e,t,n){if(!OC(e))throw Error(D(299));var r=!1,i="",o=rO,a=iO,s=oO,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=aR(e,1,!0,t,n??null,r,i,l,o,a,s,dR),t.context=sR(null),n=t.current,r=vn(),r=fy(r),i=Ui(r),i.callback=null,Li(n,i,r),n=r,t.current.lanes=n,wu(t,n),Tr(t),e[_s]=t.current,Xy(e),new ah(t)};Gd.version="19.2.4";function hR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hR)}catch(e){console.error(e)}}hR(),wC.exports=Gd;var FL=wC.exports;const KL=or(FL);var Cn=(e=>(e.STUDENT="STUDENT",e.ADMIN="ADMIN",e))(Cn||{});const YL=[{id:"q1",title:"Data Structures V.1",description:"Structural foundations of computer science. Arrays, Lists, and Stacks.",category:"Computer Science",duration:10,createdAt:new Date().toISOString(),questions:[{id:"q1_1",text:"Which data structure follows the LIFO principle?",options:["Queue","Stack","Tree","Graph"],correctAnswer:1},{id:"q1_2",text:"What is the time complexity of searching an element in a Hash Map (average case)?",options:["O(1)","O(n)","O(log n)","O(n^2)"],correctAnswer:0}]},{id:"q2",title:"Python Core",description:"Advanced assessment for core Python syntax and type management.",category:"Programming",duration:15,createdAt:new Date().toISOString(),questions:[{id:"q2_1",text:"Which of the following is an immutable data type in Python?",options:["List","Dictionary","Set","Tuple"],correctAnswer:3}]}],Iw=["Computer Science","Mathematics","Engineering","Soft Skills","General Awareness"],JL=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Mw=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),WL=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v16m-6 0a2 2 0 002 2h2a2 2 0 002-2"})}),XL=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Pw=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),QL=({className:e="w-6 h-6"})=>O.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5z"}),O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),pR=({className:e="w-6 h-6"})=>O.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});function sh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ZL(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const eB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class i0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class tB extends i0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nw extends i0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dw extends i0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nv||(Nv={}));class nB{constructor(t,{headers:n={},customFetch:r,region:i=Nv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=eB(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ZL(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(y=a.signal,c.addEventListener("abort",()=>a.abort())):y=a.signal);const b=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:g,signal:y}).catch(A=>{throw new tB(A)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new Nw(b);if(!b.ok)throw new Dw(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield b.json():w==="application/octet-stream"||w==="application/pdf"?S=yield b.blob():w==="text/event-stream"?S=b:w==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof Dw||s instanceof Nw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var rB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},iB=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var m;const b=await o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=b:s=JSON.parse(b))}const g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&y&&y.length>1&&(l=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const g=await o.text();try{a=JSON.parse(g),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&g===""?(u=204,c="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new rB(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",l="",u="";const c=o==null?void 0:o.cause;if(c){var d,h,m,v;const b=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",_=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";s=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${b}`,_&&(s+=` (${_})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}const y=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},oB=class extends iB{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const kw=new RegExp("[,()]");var ga=class extends oB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&kw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&kw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},aB=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new ga({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new ga({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new ga({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ga({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ga({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function sB(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lB(e){var t=sB(e,"string");return Jl(t)=="symbol"?t:t+""}function uB(e,t,n){return(t=lB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){uB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cB=class mR{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const s=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),s(l,u);const m=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",m,{once:!0}),s(l,dc(dc({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",m)})}return s(l,dc(dc({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new mR(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new ga({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class fB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dB="2.97.0",hB=`realtime-js/${dB}`,pB="1.0.0",vR="2.0.0",Lw=vR,Dv=1e4,mB=1e3,vB=100;var yi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yi||(yi={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wn||(Wn={}));var kv;(function(e){e.websocket="websocket"})(kv||(kv={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class gB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,s.length),v.setUint8(g++,a.length),v.setUint8(g++,u.length),v.setUint8(g++,d.length),v.setUint8(g++,n),Array.from(l,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(d,b=>v.setUint8(g++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+r.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(r),m.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const d=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class gR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Bw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=yB(a,e,t,i),o),{}):{}},yB=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?yR(o,a):Uv(a)},yR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return SB(t,n)}switch(e){case Ee.bool:return bB(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return _B(t);case Ee.json:case Ee.jsonb:return wB(t);case Ee.timestamp:return EB(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Uv(t);default:return Uv(t)}},Uv=e=>e,bB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_B=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},SB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>yR(t,s))}return e},EB=e=>typeof e=="string"?e.replace(" ","T"):e,bR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class im{constructor(t,n,r={},i=Dv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $w;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($w||($w={}));class Pl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Pl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(y=>y.presence_ref),m=d.map(y=>y.presence_ref),v=c.filter(y=>m.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(s[u]=v),g.length>0&&(l[u]=g)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zw||(zw={}));var Nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nl||(Nl={}));var Ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class Da{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new im(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new gR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Pl(this),this.broadcastEndpointURL=bR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Nl.PRESENCE]&&this.bindings[Nl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ir.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ir.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let _=0;_<y;_++){const w=g[_],{filter:{event:S,schema:A,table:T,filter:x}}=w,R=m&&m[_];if(R&&R.event===S&&Da.isFilterValueEqual(R.schema,A)&&Da.isFilterValueEqual(R.table,T)&&Da.isFilterValueEqual(R.filter,x))b.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ir.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qe.errored,t==null||t(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Qe.joined&&t===Nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new im(this,Wn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new im(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Wn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var v,g,y,b,_,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,A=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(_=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:b,type:_,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Da.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Bw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Bw(t.columns,t.old_record)),n}}const om=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TB=[1e3,2e3,5e3,1e4],AB=1e4,xB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CB{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dv,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=om,this.ref=0,this.reconnectTimer=null,this.vsn=Lw,this.logger=om,this.conn=null,this.sendBuffer=[],this.serializer=new gB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${kv.websocket}`,this.httpEndpoint=bR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yi.connecting:return bo.Connecting;case yi.open:return bo.Open;case yi.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Da(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yi.open||this.conn.readyState===yi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([xB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:hB};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new gR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,d,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Dv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:hc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:om,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Lw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>TB[v-1]||AB,this.vsn){case pB:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,g)=>g(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,g)=>g(JSON.parse(v));break;case vR:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OB(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function RB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function IB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=OB(e.baseUrl,r,i),l=await RB(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,v=m==null?void 0:m.error;throw new Wl((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function pc(e){return e.join("")}var MB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:pc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(e.namespace)}`}),!0}catch(t){if(t instanceof Wl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return;throw n}}};function ia(e){return e.join("")}var PB=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},NB=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=IB({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new MB(this.client,t),this.tableOps=new PB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},lh=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function uh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mc=class extends lh{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_R=class extends lh{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const DB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lv=e=>{if(Array.isArray(e))return e.map(n=>Lv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Lv(r)}),t},UB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function LB(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BB(e){var t=LB(e,"string");return Xl(t)=="symbol"?t:t+""}function $B(e,t,n){return(t=BB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){$B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Hw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},zB=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new mc(Hw(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new _R(Hw(e),e,r))},qB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?K(K({},i),n):(kB(r)?(i.headers=K({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),K(K({},i),n))};async function Ws(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,qB(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>zB(u,l,r,a))})}function wR(e="storage"){return{get:async(t,n,r,i)=>Ws(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>Ws(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>Ws(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>Ws(t,"HEAD",n,K(K({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>Ws(t,"DELETE",n,i,o,r,e)}}const HB=wR("storage"),{get:Ql,post:Yn,put:Bv,head:GB,remove:o0}=HB,sn=wR("vectors");var Cs=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=DB(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=K(K({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(uh(n))return{data:null,error:n};throw n}}},VB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(uh(t))return{data:null,error:t};throw t}}};let SR;SR=Symbol.toStringTag;var jB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[SR]="BlobDownloadBuilder",this.promise=null}asStream(){return new VB(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(uh(t))return{data:null,error:t};throw t}}};const FB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var KB=class extends Cs{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=K(K({},Gw),r);let s=K(K({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=K(K({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=await(e=="PUT"?Bv:Yn)(i.fetch,`${i.url}/object/${c}`,o,K({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=K({upsert:Gw.upsert},r),c=K(K({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await Bv(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=K({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Yn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new lh("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Yn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Yn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Yn(r.fetch,`${r.url}/object/sign/${i}`,K({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Yn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>K(K({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),s=()=>Ql(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0},n);return new jB(s,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Lv(await Ql(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await GB(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(uh(r)&&r instanceof _R){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await o0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=K(K(K({},FB),t),{},{prefix:e||""});return await Yn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=K({},e);return await Yn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const YB="2.97.0",Iu={"X-Client-Info":`storage-js/${YB}`};var JB=class extends Cs{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=K(K({},Iu),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ql(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ql(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Yn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Bv(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Yn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await o0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},WB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Yn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ql(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await o0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!UB(e))throw new lh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new NB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},XB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await sn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await sn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},QB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ZB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},e$=class extends ZB{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new t$(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},t$=class extends XB{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new n$(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},n$=class extends QB{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},r$=class extends JB{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new KB(this.url,this.headers,e,this.fetch)}get vectors(){return new e$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WB(this.url+"/iceberg",this.headers,this.fetch)}};const ER="2.97.0",ya=30*1e3,$v=3,am=$v*ya,i$="http://localhost:9999",o$="supabase.auth.token",a$={"X-Client-Info":`gotrue-js/${ER}`},zv="X-Supabase-Api-Version",TR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},s$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l$=10*60*1e3;class Zl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u$ extends Zl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function c$(e){return V(e)&&e.name==="AuthApiError"}class _o extends Zl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class oi extends Zl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class nn extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sm(e){return V(e)&&e.name==="AuthSessionMissingError"}class oa extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vc extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gc extends oi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f$(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vw extends oi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class d$ extends oi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qv extends oi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lm(e){return V(e)&&e.name==="AuthRetryableFetchError"}class jw extends oi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hv extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fw=` 	
\r=`.split(""),h$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fw.length;t+=1)e[Fw[t].charCodeAt(0)]=-2;for(let t=0;t<zf.length;t+=1)e[zf[t].charCodeAt(0)]=t;return e})();function Kw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zf[r]),t.queuedBits-=6}}function AR(e,t,n){const r=h$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{v$(a,r,n)};for(let a=0;a<e.length;a+=1)AR(e.charCodeAt(a),i,o);return t.join("")}function p$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function m$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}p$(r,t)}}function v$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)AR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function g$(e){const t=[];return m$(e,n=>t.push(n)),new Uint8Array(t)}function wo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Kw(i,n,r)),Kw(null,n,r),t.join("")}function y$(e){return Math.round(Date.now()/1e3)+e}function b$(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},xR=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function _$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},so=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function yc(e){const t=e.split(".");if(t.length!==3)throw new Hv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!s$.test(t[r]))throw new Hv("JWT not in base64url format");return{header:JSON.parse(Yw(t[0])),payload:JSON.parse(Yw(t[1])),signature:Fa(t[2]),raw:{header:t[0],payload:t[1]}}}async function S$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E$(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function T$(e){return("0"+e.toString(16)).substr(-2)}function A$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,T$).join("")}async function x$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function C$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await x$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aa(e,t,n=!1){const r=A$();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,i);const o=await C$(r);return[o,r===o?"plain":"s256"]}const O$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R$(e){const t=e.headers.get(zv);if(!t||!t.match(O$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const P$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(e){if(!P$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function um(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N$(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Jw(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D$=[502,503,504];async function Ww(e){var t;if(!w$(e))throw new qv(po(e),0);if(D$.includes(e.status))throw new qv(po(e),e.status);let n;try{n=await e.json()}catch(o){throw new _o(po(o),o)}let r;const i=R$(e);if(i&&i.getTime()>=TR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jw(po(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new jw(po(n),e.status,n.weak_password.reasons);throw new u$(po(n),e.status||500,r)}const k$=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function J(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[zv]||(o[zv]=TR["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await U$(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function U$(e,t,n,r,i,o){const a=k$(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new qv(po(l),0)}if(s.ok||await Ww(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Ww(l)}}function Kn(e){var t;let n=null;$$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=y$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Xw(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function L$(e){return{data:e,error:null}}function B$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=sh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Qw(e){return e}function $$(e){return e.access_token&&e.refresh_token&&e.expires_in}const cm=["global","local","others"];class z${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=cm[0]){if(cm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=sh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ai})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sa(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ai})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){sa(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ai})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){sa(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){sa(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){sa(t.userId),sa(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(V(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}}function Zw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const la={debug:!!(globalThis&&xR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class OR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eS extends OR{}async function q$(e,t,n){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(la.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function H$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function G$(e){return parseInt(e,16)}function V$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function j$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=RR(e.address),v=c?`${c}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}b+=_}return`${y}
${b}`}class Fe extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class qf extends Fe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function F$({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(IR(a)){if(o.rp.id!==a)return new Fe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function K$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(IR(r)){if(n.rpId!==r)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Y${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const J$=new Y$;function W$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=sh(e,["challenge","user","excludeCredentials"]),o=Fa(t).buffer,a=Object.assign(Object.assign({},n),{id:Fa(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function X$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=sh(e,["challenge","allowCredentials"]),i=Fa(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Fa(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Q$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:wo(new Uint8Array(e.response.attestationObject)),clientDataJSON:wo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Z$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wo(new Uint8Array(i.authenticatorData)),clientDataJSON:wo(new Uint8Array(i.clientDataJSON)),signature:wo(new Uint8Array(i.signature)),userHandle:i.userHandle?wo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tS(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ez(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:F$({error:t,options:e})}}}async function tz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:K$({error:t,options:e})}}}const nz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=Hf(s,a):r[o]=Hf(a)}else r[o]=a}return r}function iz(e,t){return Hf(nz,e,t||{})}function oz(e,t){return Hf(rz,e,t||{})}class az{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??J$.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const m=(await this.client.getUser()).data.user,v=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=iz(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await ez({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=oz(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await tz(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return V(s)?{data:null,error:s}:{data:null,error:new _o("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn authentication")};try{if(!tS())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return V(a)?{data:null,error:a}:{data:null,error:new _o("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn registration")};try{if(!tS())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return V(a)?{data:null,error:a}:{data:null,error:new _o("Unexpected error in register",a)}}}}H$();const sz={url:i$,storageKey:o$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function nS(e,t,n){return await n()}const ua={};class eu{get jwks(){var t,n;return(n=(t=ua[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ua[this.storageKey]=Object.assign(Object.assign({},ua[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ua[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ua[this.storageKey]=Object.assign(Object.assign({},ua[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},sz),t);if(this.storageKey=o.storageKey,this.instanceID=(n=eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&yt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new z$({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=CR(o.fetch),this.lock=o.lock||nS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=q$:this.lock=nS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new az(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:xR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Zw(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}o.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ER}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yt()&&(n=_$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),f$(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?this._returnResult({error:n}):this._returnResult({error:new _o("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await aa(this.storage,this.storageKey)),o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Kn})}else if("phone"in t){const{phone:c,password:d,options:h}=t;o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kn})}else throw new vc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xw})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xw})}else throw new vc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new oa;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,d,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:b,options:_}=t;let w;if(yt())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),A=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=RR(A[0]);let x=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!x){const C=await w.request({method:"eth_chainId"});x=G$(C)}const R={domain:S.host,address:T,statement:b,uri:S.href,version:"1",chainId:x,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=j$(R),v=await w.request({method:"personal_sign",params:[V$(m),T]})}try{const{data:g,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Kn});if(y)throw y;if(!g||!g.session||!g.user){const b=new oa;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(V(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,d,h,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:b,statement:_,options:w}=t;let S;if(yt())if(typeof b=="object")S=b;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const A=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let x;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")x=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)x=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)v=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),g=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=T}}try{const{data:y,error:b}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:wo(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Kn});if(b)throw b;if(!y||!y.session||!y.user){const _=new oa;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(V(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new d$;const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new oa;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await aa(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new vc("You must provide either an email or phone number.")}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Kn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await aa(this.storage,this.storageKey));const u=await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:L$});return!((o=u.data)===null||o===void 0)&&o.url&&yt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nn;const{error:i}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(V(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new vc("You must provide either an email or phone number and a type")}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<am:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await so(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=um()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=N$(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ai}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ai})})}catch(n){if(V(n))return sm(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new nn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await aa(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Ai});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=yc(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(V(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vw("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new gc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!sm(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(c$(s)&&(s.status===404||s.status===401||s.status===403)||sm(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=b$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await aa(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(V(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,d=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kn}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new oa}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E$(async i=>(i>0&&await S$(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&lm(o)&&Date.now()+a-r<ya})}catch(r){if(this._debug(n,"error",r),V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await so(this.storage,this.storageKey);if(i&&this.userStorage){let a=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ba(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:um()}else if(i&&!i.user&&!i.user){const a=await so(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await gt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,i)):i.user=um()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<am;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${am}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),lm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ch;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),V(o)){const a={data:null,error:o};return lm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ba(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Jw(i);await ba(this.storage,this.storageKey,o)}else{const i=Jw(n);await ba(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ya);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ya}ms, refresh threshold is ${$v} ticks`),i<=$v&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof OR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await aa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Q$(t.webauthn.credential_response):Z$(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:W$(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:X$(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:m}=yc(t);let v=null;m.aal&&(v=m.aal);let g=v;const{data:{user:y},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((r=(n=y==null?void 0:y.factors)===null||n===void 0?void 0:n.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const w=m.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(m){if(V(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=yc(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await J(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nn})})}catch(t){if(V(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await J(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+l$>i)return r;const{data:o,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=yc(r);n!=null&&n.allowExpired||I$(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=M$(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,g$(`${s}.${l}`)))throw new Hv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}}eu.nextInstanceID={};const lz=eu,uz="2.97.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const cz={"X-Client-Info":`supabase-js-${hl}/${uz}`},fz={headers:cz},dz={schema:"public"},hz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pz={};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function mz(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vz(e){var t=mz(e,"string");return tu(t)=="symbol"?t:t+""}function gz(e,t,n){return(t=vz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){gz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const yz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bz=()=>Headers,_z=(e,t,n)=>{const r=yz(n),i=bz();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Be(Be({},a),{},{headers:u}))}};function wz(e){return e.endsWith("/")?e:e+"/"}function Sz(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Be(Be({},l),i),auth:Be(Be({},u),o),realtime:Be(Be({},c),a),storage:{},global:Be(Be(Be({},d),s),{},{headers:Be(Be({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Ez(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Tz=class extends lz{constructor(e){super(e)}},Az=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=Ez(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:dz,realtime:pz,auth:Be(Be({},hz),{},{storageKey:a}),global:fz},l=Sz(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=_z(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new cB(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new r$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new nB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tz({url:this.authUrl.href,headers:Be(Be({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new CB(this.realtimeUrl.href,Be(Be({},e),{},{params:Be(Be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const xz=(e,t,n)=>new Az(e,t,n);function Cz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Cz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ka={},iS=(Ka==null?void 0:Ka.VITE_SUPABASE_URL)||"",oS=(Ka==null?void 0:Ka.VITE_SUPABASE_ANON_KEY)||"",Vt=iS&&oS?xz(iS,oS):null,xi={async getQuizzes(){if(!Vt)return JSON.parse(localStorage.getItem("au_quizzes")||"[]");const{data:e,error:t}=await Vt.from("quizzes").select("*");if(t)throw t;return e},async saveQuiz(e){if(!Vt){const n=JSON.parse(localStorage.getItem("au_quizzes")||"[]"),r=n.findIndex(i=>i.id===e.id);r>-1?n[r]=e:n.push(e),localStorage.setItem("au_quizzes",JSON.stringify(n));return}const{error:t}=await Vt.from("quizzes").upsert(e);if(t)throw t},async deleteQuiz(e){if(!Vt){const n=JSON.parse(localStorage.getItem("au_quizzes")||"[]");localStorage.setItem("au_quizzes",JSON.stringify(n.filter(r=>r.id!==e)));return}const{error:t}=await Vt.from("quizzes").delete().eq("id",e);if(t)throw t},async getAttempts(e){if(!Vt)return JSON.parse(localStorage.getItem("au_attempts")||"[]");let t=Vt.from("attempts").select("*");e&&(t=t.eq("studentId",e));const{data:n,error:r}=await t;if(r)throw r;return n},async saveAttempt(e){if(!Vt){const n=JSON.parse(localStorage.getItem("au_attempts")||"[]");n.push(e),localStorage.setItem("au_attempts",JSON.stringify(n));return}const{error:t}=await Vt.from("attempts").insert(e);if(t)throw t},async findUser(e){if(!Vt)return JSON.parse(localStorage.getItem("au_users")||"[]").find(i=>i.username===e||i.email===e)||null;const{data:t,error:n}=await Vt.from("users").select("*").or(`username.eq.${e},email.eq.${e}`).single();if(n&&n.code!=="PGRST116")throw n;return t},async registerUser(e){if(!Vt){const n=JSON.parse(localStorage.getItem("au_users")||"[]");n.push(e),localStorage.setItem("au_users",JSON.stringify(n));return}const{error:t}=await Vt.from("users").insert(e);if(t)throw t}},Oz="AUS_FACULTY",Rz=({onLogin:e})=>{const[t,n]=E.useState(!0),[r,i]=E.useState(Cn.STUDENT),[o,a]=E.useState(!1),[s,l]=E.useState(""),[u,c]=E.useState({usernameOrEmail:"",email:"",username:"",password:"",name:""}),[d,h]=E.useState(""),m=async v=>{v.preventDefault(),h(""),a(!0);try{if(t){const g=await xi.findUser(u.usernameOrEmail);g&&g.password===u.password?e(g):h("Invalid credentials. Access denied.")}else{if(r===Cn.ADMIN&&s!==Oz){h("Invalid Faculty Verification Code."),a(!1);return}if(await xi.findUser(u.email)){h("User already registered with this email."),a(!1);return}const y={id:`u_${Date.now()}`,name:u.name,username:u.username,email:u.email,password:u.password,role:r};await xi.registerUser(y),e(y)}}catch{h("Database connection error. Check Supabase keys.")}finally{a(!1)}};return O.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 login-bg",children:O.jsxs("div",{className:"glass w-full max-w-md p-10 rounded-[3.5rem] border-slate-200 shadow-2xl animate-fadeIn relative overflow-hidden bg-white/95",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-blue-600"}),O.jsx("div",{className:"flex justify-center mb-8",children:O.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center font-black text-2xl text-white shadow-xl shadow-blue-100",children:"AU"})}),O.jsx("h2",{className:"text-3xl font-black text-center mb-2 tracking-tighter text-slate-900",children:t?"University Login":"Create Account"}),O.jsx("p",{className:"text-center text-slate-400 text-sm mb-8 font-medium",children:"Aditya University Portal"}),!t&&O.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl mb-8",children:[O.jsxs("button",{type:"button",onClick:()=>i(Cn.STUDENT),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${r===Cn.STUDENT?"bg-white text-blue-600 shadow-sm":"text-slate-500"}`,children:[O.jsx(QL,{className:"w-4 h-4"})," Student"]}),O.jsxs("button",{type:"button",onClick:()=>i(Cn.ADMIN),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${r===Cn.ADMIN?"bg-white text-blue-600 shadow-sm":"text-slate-500"}`,children:[O.jsx(pR,{className:"w-4 h-4"})," Faculty"]})]}),d&&O.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-2xl text-[11px] font-bold mb-6 text-center animate-bounce",children:d}),O.jsxs("form",{onSubmit:m,className:"space-y-4",children:[!t&&O.jsxs(O.Fragment,{children:[O.jsx("input",{type:"text",placeholder:"Full Name",required:!0,value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),O.jsx("input",{type:"text",placeholder:"Username",required:!0,value:u.username,onChange:v=>c({...u,username:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),O.jsx("input",{type:"email",placeholder:"Email",required:!0,value:u.email,onChange:v=>c({...u,email:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),r===Cn.ADMIN&&O.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-100",children:[O.jsx("label",{className:"text-[10px] font-black uppercase text-blue-600 mb-2 block",children:"Faculty Verification Key"}),O.jsx("input",{type:"password",placeholder:"Enter Faculty Code",required:!0,value:s,onChange:v=>l(v.target.value),className:"w-full bg-white border border-blue-200 rounded-xl px-4 py-2 text-sm focus:outline-none"})]})]}),t&&O.jsx("input",{type:"text",placeholder:"Username or Email",required:!0,value:u.usernameOrEmail,onChange:v=>c({...u,usernameOrEmail:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),O.jsx("input",{type:"password",placeholder:"Password",required:!0,value:u.password,onChange:v=>c({...u,password:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),O.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 rounded-2xl font-black text-sm text-white shadow-xl shadow-blue-100 transition-all active:scale-95 flex items-center justify-center",children:o?"Synchronizing...":t?"Sign In":"Register Now"})]}),O.jsx("div",{className:"mt-8 text-center",children:O.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-slate-400 hover:text-blue-600 text-xs font-bold transition-colors",children:t?"Need a Faculty or Student account?":"Return to Login"})})]})})};var fh={exports:{}},MR={};function Bn(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Iz=Bn;Bn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Bn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Bn.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Bn.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Bn.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Bn.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Bn.prototype.start=Bn.prototype.try;Bn.prototype.errors=function(){return this._errors};Bn.prototype.attempts=function(){return this._attempts};Bn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t};(function(e){var t=Iz;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<r.retries;a++)o.push(this.createTimeout(a,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(a,r)),o.sort(function(s,l){return s-l}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var s=i[a],l=n[s];n[s]=(function(c){var d=e.operation(r),h=Array.prototype.slice.call(arguments,1),m=h.pop();h.push(function(v){d.retry(v)||(v&&(arguments[0]=d.mainError()),m.apply(this,arguments))}),d.attempt(function(){c.apply(n,h)})}).bind(n,l),n[s].options=r}}})(MR);var Mz=MR;const Pz=Mz,Nz=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class PR extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Dz=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},kz=e=>Nz.includes(e),NR=(e,t)=>new Promise((n,r)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=Pz.operation(t);i.attempt(async o=>{try{n(await e(o))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof PR)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!kz(a.message))i.stop(),r(a);else{Dz(a,o,t);try{await t.onFailedAttempt(a)}catch(s){r(s);return}i.retry(a)||r(i.mainError())}}})});fh.exports=NR;fh.exports.default=NR;var Uz=fh.exports.AbortError=PR,Lz=fh.exports;const Bz=or(Lz);var $z={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zz,qz;function Hz(){return{geminiUrl:zz,vertexUrl:qz}}function Gz(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=Hz();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai{}function z(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function f(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>f(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Vz(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Gv(e,i,o,0,a)}}function Gv(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Gv(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&Gv(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jz(e){const t={},n=f(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=f(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function Fz(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],Yz(a)),t}function Kz(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],Jz(a)),t}function Yz(e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Wz(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Jz(e){const t={},n=f(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xz(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Wz(e){const t={},n=f(e,["video"]);return n!=null&&p(t,["video"],rq(n)),t}function Xz(e){const t={},n=f(e,["_self"]);return n!=null&&p(t,["video"],iq(n)),t}function Qz(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function Zz(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function eq(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],tq(a)),t}function tq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function DR(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],nq(a)),t}function nq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function rq(e){const t={},n=f(e,["uri"]);n!=null&&p(t,["uri"],n);const r=f(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],a0(r));const i=f(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function iq(e){const t={},n=f(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],a0(r));const i=f(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aS;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aS||(aS={}));var sS;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(sS||(sS={}));var lS;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(lS||(lS={}));var Kt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Kt||(Kt={}));var uS;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uS||(uS={}));var cS;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(cS||(cS={}));var fS;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fS||(fS={}));var dS;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dS||(dS={}));var hS;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(hS||(hS={}));var pS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pS||(pS={}));var mS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(mS||(mS={}));var vS;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(vS||(vS={}));var gS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gS||(gS={}));var yS;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(yS||(yS={}));var bS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(bS||(bS={}));var _S;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_S||(_S={}));var wS;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(wS||(wS={}));var SS;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(SS||(SS={}));var ES;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ES||(ES={}));var TS;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(TS||(TS={}));var AS;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AS||(AS={}));var Gf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gf||(Gf={}));var xS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xS||(xS={}));var CS;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(CS||(CS={}));var OS;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OS||(OS={}));var Vv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vv||(Vv={}));var RS;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RS||(RS={}));var IS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IS||(IS={}));var jv;(function(e){e.COLLECTION="COLLECTION"})(jv||(jv={}));var MS;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(MS||(MS={}));var PS;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PS||(PS={}));var Vf;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(Vf||(Vf={}));var NS;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(NS||(NS={}));var DS;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(DS||(DS={}));var kS;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(kS||(kS={}));var US;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(US||(US={}));var LS;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(LS||(LS={}));var BS;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(BS||(BS={}));var $S;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($S||($S={}));var zS;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(zS||(zS={}));var qS;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(qS||(qS={}));var HS;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(HS||(HS={}));var GS;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(GS||(GS={}));var VS;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(VS||(VS={}));var jS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(jS||(jS={}));var FS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(FS||(FS={}));var KS;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(KS||(KS={}));var YS;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YS||(YS={}));var JS;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(JS||(JS={}));var WS;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(WS||(WS={}));var XS;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(XS||(XS={}));var QS;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QS||(QS={}));var ZS;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ZS||(ZS={}));var eE;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(eE||(eE={}));var tE;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tE||(tE={}));var nE;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nE||(nE={}));var rE;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(rE||(rE={}));var ka;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ka||(ka={}));class Fv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Xs{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class iE{}class oE{}class oq{}class aq{}class sq{}class lq{}class aE{}class sE{}class lE{}class uq{}class jf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new jf;let i;const o=t;return n?i=Kz(o):i=Fz(o),Object.assign(r,i),r}}class uE{}class cE{}class fE{}class dE{}class cq{}class fq{}class dq{}class s0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new s0,o=eq(t);return Object.assign(r,o),r}}class hq{}class pq{}class mq{}class vq{}class hE{}class gq{get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class yq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class l0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new l0,o=DR(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function kR(e,t){const n=le(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function UR(e){return Array.isArray(e)?e.map(t=>Ff(t)):[Ff(e)]}function Ff(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function LR(e){const t=Ff(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function BR(e){const t=Ff(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function pE(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $R(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>pE(t)):[pE(e)]}function Kv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function mE(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function vE(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ut(e){if(e==null)throw new Error("ContentUnion is required");return Kv(e)?e:{role:"user",parts:$R(e)}}function u0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=ut(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=ut(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ut(n)):[ut(t)]}function cn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(mE(e)||vE(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(e)]}const t=[],n=[],r=Kv(e[0]);for(const i of e){const o=Kv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(mE(i)||vE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:$R(n)}),t}function bq(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Kt).includes(n[0].toUpperCase())?n[0].toUpperCase():Kt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Kt).includes(r.toUpperCase())?r.toUpperCase():Kt.TYPE_UNSPECIFIED})}}function Ya(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&bq(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Kt).includes(s.toUpperCase())?s.toUpperCase():Kt.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Ya(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(Ya(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Ya(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function c0(e){return Ya(e)}function f0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function d0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Os(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ya(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ya(t.response));return e}function Rs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function _q(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function si(e,t){if(typeof t!="string")throw new Error("name must be a string");return _q(e,t,"cachedContents")}function zR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Zi(e){return a0(e)}function wq(e){return e!=null&&typeof e=="object"&&"name"in e}function Sq(e){return e!=null&&typeof e=="object"&&"video"in e}function Eq(e){return e!=null&&typeof e=="object"&&"uri"in e}function qR(e){var t;let n;if(wq(e)&&(n=e.name),!(Eq(e)&&(n=e.uri,n===void 0))&&!(Sq(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function HR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function GR(e){for(const t of["models","tunedModels","publisherModels"])if(Tq(e,t))return e[t];return[]}function Tq(e,t){return e!==null&&typeof e=="object"&&t in e}function Aq(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function xq(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Aq(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function VR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Cq(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Is(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function FR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Oq(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rq(e){const t={},n=f(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=f(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>uH(a))),p(t,["inlinedResponses"],o)}const i=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function Iq(e){const t={},n=f(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Mq(e){const t={},n=f(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function nf(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["metadata","state"]);i!=null&&p(t,["state"],FR(i));const o=f(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=f(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=f(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=f(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=f(e,["metadata","output"]);return u!=null&&p(t,["dest"],Rq(jR(u))),t}function Yv(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["state"]);i!=null&&p(t,["state"],FR(i));const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=f(e,["model"]);c!=null&&p(t,["model"],c);const d=f(e,["inputConfig"]);d!=null&&p(t,["src"],Pq(d));const h=f(e,["outputConfig"]);h!=null&&p(t,["dest"],Iq(jR(h)));const m=f(e,["completionStats"]);return m!=null&&p(t,["completionStats"],m),t}function Pq(e){const t={},n=f(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Nq(e,t){const n={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>lH(e,a))),p(n,["requests","requests"],o)}return n}function Dq(e){const t={},n=f(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function kq(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Uq(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Lq(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Bq(e){const t={},n=f(e,["content"]);n!=null&&p(t,["content"],n);const r=f(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],$q(r));const i=f(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=f(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=f(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=f(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=f(e,["index"]);l!=null&&p(t,["index"],l);const u=f(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=f(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(t,["safetyRatings"],h)}const d=f(e,["urlContextMetadata"]);return d!=null&&p(t,["urlContextMetadata"],d),t}function $q(e){const t={},n=f(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function KR(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vH(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function zq(e,t){const n={},r=f(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function qq(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=f(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],Mq(Cq(i))),n}function gE(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],le(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Nq(e,VR(e,i)));const o=f(t,["config"]);return o!=null&&zq(o,n),n}function Hq(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],le(e,r));const i=f(t,["src"]);i!=null&&p(n,["inputConfig"],Dq(VR(e,i)));const o=f(t,["config"]);return o!=null&&qq(o,n),n}function Gq(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function Vq(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],le(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Xq(e,i));const o=f(t,["config"]);return o!=null&&Gq(o,n),n}function jq(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Fq(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Kq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function Yq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function Jq(e,t){const n={},r=f(t,["contents"]);if(r!=null){let o=u0(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(t,["config"]);return i!=null&&(p(n,["_self"],Wq(i,n)),Vz(n,{"requests[].*":"requests[].request.*"})),n}function Wq(e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=f(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=f(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Xq(e,t){const n={},r=f(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],Jq(e,i)),n}function Qq(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Zq(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eH(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tH(e,t,n){const r={},i=f(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],KR(ut(i)));const o=f(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(t,["topP"]);a!=null&&p(r,["topP"],a);const s=f(t,["topK"]);s!=null&&p(r,["topK"],s);const l=f(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(t,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(t,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const v=f(t,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const g=f(t,["seed"]);g!=null&&p(r,["seed"],g);const y=f(t,["responseMimeType"]);y!=null&&p(r,["responseMimeType"],y);const b=f(t,["responseSchema"]);b!=null&&p(r,["responseSchema"],c0(b));const _=f(t,["responseJsonSchema"]);if(_!=null&&p(r,["responseJsonSchema"],_),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=f(t,["safetySettings"]);if(n!==void 0&&w!=null){let q=w;Array.isArray(q)&&(q=q.map(H=>gH(H))),p(n,["safetySettings"],q)}const S=f(t,["tools"]);if(n!==void 0&&S!=null){let q=Rs(S);Array.isArray(q)&&(q=q.map(H=>bH(Os(H)))),p(n,["tools"],q)}const A=f(t,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],yH(A)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(t,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],si(e,T));const x=f(t,["responseModalities"]);x!=null&&p(r,["responseModalities"],x);const R=f(t,["mediaResolution"]);R!=null&&p(r,["mediaResolution"],R);const C=f(t,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],f0(C)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=f(t,["thinkingConfig"]);I!=null&&p(r,["thinkingConfig"],I);const N=f(t,["imageConfig"]);N!=null&&p(r,["imageConfig"],sH(N));const P=f(t,["enableEnhancedCivicAnswers"]);if(P!=null&&p(r,["enableEnhancedCivicAnswers"],P),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function nH(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Bq(u))),p(t,["candidates"],l)}const i=f(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=f(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=f(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=f(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function rH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function iH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function oH(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function aH(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function sH(e){const t={},n=f(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=f(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function lH(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["request","model"],le(e,r));const i=f(t,["contents"]);if(i!=null){let s=cn(i);Array.isArray(s)&&(s=s.map(l=>KR(l))),p(n,["request","contents"],s)}const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["config"]);return a!=null&&p(n,["request","generationConfig"],tH(e,a,f(n,["request"],{}))),n}function uH(e){const t={},n=f(e,["response"]);n!=null&&p(t,["response"],nH(n));const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["error"]);return i!=null&&p(t,["error"],i),t}function cH(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function fH(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=f(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function dH(e){const t={},n=f(e,["config"]);return n!=null&&cH(n,t),t}function hH(e){const t={},n=f(e,["config"]);return n!=null&&fH(n,t),t}function pH(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>nf(a))),p(t,["batchJobs"],o)}return t}function mH(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Yv(a))),p(t,["batchJobs"],o)}return t}function vH(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],Qq(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],Zq(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],kq(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function gH(e){const t={},n=f(e,["category"]);if(n!=null&&p(t,["category"],n),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function yH(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],eH(r)),t}function bH(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],oH(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],aH(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Jr||(Jr={}));class Xo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _H extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=gE(this.apiClient,t),r=n._url,i=z("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const m=d.request;m.systemInstruction=h,d.request=m}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hq(this.apiClient,t);return s=z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Yv(c))}else{const u=gE(this.apiClient,t);return s=z("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>nf(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vq(this.apiClient,t);return o=z("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>nf(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=iH(this.apiClient,t);return s=z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Yv(c))}else{const u=rH(this.apiClient,t);return s=z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>nf(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Lq(this.apiClient,t);a=z("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Uq(this.apiClient,t);a=z("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hH(t);return s=z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mH(c),h=new hE;return Object.assign(h,d),h})}else{const u=dH(t);return s=z("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pH(c),h=new hE;return Object.assign(h,d),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fq(this.apiClient,t);return s=z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Yq(c))}else{const u=jq(this.apiClient,t);return s=z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Kq(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wH(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function yE(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>VH(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function SH(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(d=>yE(d))),p(t,["contents"],c)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],yE(ut(s)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FH(d))),p(t,["tools"],c)}const u=f(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],jH(u)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function EH(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let d=cn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(t,["contents"],d)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],ut(s));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>KH(h))),p(t,["tools"],d)}const u=f(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=f(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function TH(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],kR(e,r));const i=f(t,["config"]);return i!=null&&SH(i,n),n}function AH(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],kR(e,r));const i=f(t,["config"]);return i!=null&&EH(i,n),n}function xH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function CH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function OH(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function RH(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function IH(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function MH(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PH(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function NH(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function DH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function kH(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function UH(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function LH(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function BH(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function $H(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function zH(e){const t={},n=f(e,["config"]);return n!=null&&BH(n,t),t}function qH(e){const t={},n=f(e,["config"]);return n!=null&&$H(n,t),t}function HH(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function GH(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function VH(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],IH(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],MH(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],wH(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function jH(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],PH(r)),t}function FH(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],UH(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],LH(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function KH(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>NH(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function YH(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function JH(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function WH(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],si(e,r));const i=f(t,["config"]);return i!=null&&YH(i,n),n}function XH(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],si(e,r));const i=f(t,["config"]);return i!=null&&JH(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QH extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=AH(this.apiClient,t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=TH(this.apiClient,t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=DH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=CH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=RH(c),h=new fE;return Object.assign(h,d),h})}else{const u=xH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=OH(c),h=new fE;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=XH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=WH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qH(t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=GH(c),h=new dE;return Object.assign(h,d),h})}else{const u=zH(t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=HH(c),h=new dE;return Object.assign(h,d),h})}}}function Kf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function bE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function er(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(v){return Promise.resolve(v).then(m,d)}}function s(m,v){r[m]&&(i[m]=function(g){return new Promise(function(y,b){o.push([m,g,y,b])>1||l(m,g)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(g){h(o[0][3],g)}}function u(m){m.value instanceof Q?Promise.resolve(m.value.v).then(c,d):h(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bE=="function"?bE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZH(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:YR(n)}function YR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function e3(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _E(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!YR(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class t3{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new n3(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class n3{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),e3(o)}async sendMessage(t){var n;await this.sendPromise;const r=ut(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=ut(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?_E(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return er(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=tr(t),m;m=yield Q(h.next()),i=m.done,!i;d=!0){s=m.value,d=!1;const v=s;if(ZH(v)){const g=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;g!==void 0&&c.push(g)}yield yield Q(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(a=h.return)&&(yield Q(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._E(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,nu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r3(e){const t={},n=f(e,["file"]);return n!=null&&p(t,["file"],n),t}function i3(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function o3(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],qR(n)),t}function a3(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function s3(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],qR(n)),t}function l3(e){const t={},n=f(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function u3(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function c3(e){const t={},n=f(e,["config"]);return n!=null&&u3(n,t),t}function f3(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function d3(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h3 extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=c3(t);return o=z("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=f3(l),c=new hq;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=r3(t);return o=z("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=i3(l),c=new pq;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=s3(t);return o=z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=o3(t);return o=z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=a3(l),c=new mq;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=l3(t);return o=z("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=d3(l),c=new vq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rf(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function p3(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>I3(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function m3(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function v3(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function g3(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function y3(e){const t={},n=f(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=f(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=f(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=f(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=f(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=f(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=f(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=f(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const d=f(e,["presencePenalty"]);d!=null&&p(t,["presencePenalty"],d);const h=f(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const m=f(e,["responseMimeType"]);m!=null&&p(t,["responseMimeType"],m);const v=f(e,["responseModalities"]);v!=null&&p(t,["responseModalities"],v);const g=f(e,["responseSchema"]);g!=null&&p(t,["responseSchema"],g);const y=f(e,["routingConfig"]);y!=null&&p(t,["routingConfig"],y);const b=f(e,["seed"]);b!=null&&p(t,["seed"],b);const _=f(e,["speechConfig"]);_!=null&&p(t,["speechConfig"],_);const w=f(e,["stopSequences"]);w!=null&&p(t,["stopSequences"],w);const S=f(e,["temperature"]);S!=null&&p(t,["temperature"],S);const A=f(e,["thinkingConfig"]);A!=null&&p(t,["thinkingConfig"],A);const T=f(e,["topK"]);T!=null&&p(t,["topK"],T);const x=f(e,["topP"]);if(x!=null&&p(t,["topP"],x),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function b3(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function _3(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function w3(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],d0(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=f(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],p3(ut(v)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let T=Rs(g);Array.isArray(T)&&(T=T.map(x=>P3(Os(x)))),p(t,["setup","tools"],T)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],M3(y));const b=f(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=f(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=f(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=f(e,["proactivity"]);if(t!==void 0&&A!=null&&p(t,["setup","proactivity"],A),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function S3(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],y3(r));const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],d0(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=f(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],ut(v));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let x=Rs(g);Array.isArray(x)&&(x=x.map(R=>N3(Os(R)))),p(t,["setup","tools"],x)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],y);const b=f(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=f(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=f(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=f(e,["proactivity"]);t!==void 0&&A!=null&&p(t,["setup","proactivity"],A);const T=f(e,["explicitVadSignal"]);return t!==void 0&&T!=null&&p(t,["setup","explicitVadSignal"],T),n}function E3(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],w3(i,n)),n}function T3(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],S3(i,n)),n}function A3(e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function x3(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function C3(e){const t={},n=f(e,["media"]);if(n!=null){let u=UR(n);Array.isArray(u)&&(u=u.map(c=>rf(c))),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],rf(BR(r)));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],rf(LR(o)));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function O3(e){const t={},n=f(e,["media"]);if(n!=null){let u=UR(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],BR(r));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],LR(o));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function R3(e){const t={},n=f(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=f(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=f(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=f(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=f(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],D3(a));const s=f(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=f(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=f(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=f(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],k3(c)),t}function I3(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],m3(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],v3(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],rf(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function M3(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function P3(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],b3(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],_3(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function N3(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>g3(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function D3(e){const t={},n=f(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=f(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=f(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=f(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=f(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=f(e,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["promptTokensDetails"],m)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["cacheTokensDetails"],m)}const c=f(e,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["responseTokensDetails"],m)}const d=f(e,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["toolUsePromptTokensDetails"],m)}const h=f(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function k3(e){const t={},n=f(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U3(e,t){const n={},r=f(e,["data"]);if(r!=null&&p(n,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function L3(e,t){const n={},r=f(e,["content"]);r!=null&&p(n,["content"],r);const i=f(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],B3(i));const o=f(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=f(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=f(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=f(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=f(e,["index"]);u!=null&&p(n,["index"],u);const c=f(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const d=f(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),p(n,["safetyRatings"],m)}const h=f(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function B3(e,t){const n={},r=f(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function $3(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let a=cn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function z3(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function q3(e,t){const n={},r=f(e,["values"]);r!=null&&p(n,["values"],r);const i=f(e,["statistics"]);return i!=null&&p(n,["statistics"],H3(i)),n}function H3(e,t){const n={},r=f(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=f(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function Mu(e,t){const n={},r=f(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>XG(a))),p(n,["parts"],o)}const i=f(e,["role"]);return i!=null&&p(n,["role"],i),n}function G3(e,t){const n={},r=f(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=f(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function V3(e,t){const n={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function j3(e,t,n){const r={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],ut(i));const o=f(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>QR(l))),p(t,["tools"],s)}const a=f(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],UG(a)),r}function F3(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>Mu(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&V3(a),r}function K3(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&j3(a,r),r}function Y3(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=f(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function J3(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function W3(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function X3(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function Q3(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Z3(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function eG(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=f(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const g=f(e,["outputMimeType"]);t!==void 0&&g!=null&&p(t,["parameters","outputOptions","mimeType"],g);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const b=f(e,["addWatermark"]);t!==void 0&&b!=null&&p(t,["parameters","addWatermark"],b);const _=f(e,["labels"]);t!==void 0&&_!=null&&p(t,["labels"],_);const w=f(e,["editMode"]);t!==void 0&&w!=null&&p(t,["parameters","editMode"],w);const S=f(e,["baseSteps"]);return t!==void 0&&S!=null&&p(t,["parameters","editConfig","baseSteps"],S),r}function tG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>r4(u))),p(r,["instances[0]","referenceImages"],l)}const s=f(t,["config"]);return s!=null&&eG(s,r),r}function nG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dh(a))),p(n,["generatedImages"],o)}return n}function rG(e,t,n){const r={},i=f(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=f(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function iG(e,t,n){const r={};let i=f(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["instances[]","task_type"],u)}else if(i==="EMBED_CONTENT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["taskType"],u)}let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["instances[]","title"],u)}else if(o==="EMBED_CONTENT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["title"],u)}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["parameters","outputDimensionality"],u)}else if(a==="EMBED_CONTENT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["outputDimensionality"],u)}let s=f(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const u=f(e,["mimeType"]);t!==void 0&&u!=null&&p(t,["instances[]","mimeType"],u)}let l=f(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["parameters","autoTruncate"],u)}else if(l==="EMBED_CONTENT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["autoTruncate"],u)}return r}function oG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let u=u0(e,o);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["requests[]","content"],u)}const a=f(t,["content"]);a!=null&&Mu(ut(a));const s=f(t,["config"]);s!=null&&rG(s,r);const l=f(t,["model"]);return l!==void 0&&p(r,["requests[]","model"],le(e,l)),r}function aG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const l=f(t,["contents"]);if(l!=null){let u=u0(e,l);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["instances[]","content"],u)}}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="EMBED_CONTENT"){const l=f(t,["content"]);l!=null&&p(r,["content"],ut(l))}const s=f(t,["config"]);return s!=null&&iG(s,r,n),r}function sG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=f(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function lG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>q3(s))),p(n,["embeddings"],a)}const o=f(e,["metadata"]);if(o!=null&&p(n,["metadata"],o),t&&f(t,["embeddingApiType"])==="EMBED_CONTENT"){const a=f(e,["embedding"]),s=f(e,["usageMetadata"]),l=f(e,["truncated"]);if(a){const u={};s&&s.promptTokenCount&&(u.tokenCount=s.promptTokenCount),l&&(u.truncated=l),a.statistics=u,p(n,["embeddings"],[a])}}return n}function uG(e,t){const n={},r=f(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=f(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function cG(e,t){const n={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function fG(e,t){const n={},r=f(e,["id"]);r!=null&&p(n,["id"],r);const i=f(e,["args"]);i!=null&&p(n,["args"],i);const o=f(e,["name"]);if(o!=null&&p(n,["name"],o),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function dG(e,t){const n={},r=f(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=f(e,["mode"]);if(i!=null&&p(n,["mode"],i),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function hG(e,t){const n={},r=f(e,["description"]);r!=null&&p(n,["description"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=f(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=f(e,["response"]);s!=null&&p(n,["response"],s);const l=f(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function pG(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Mu(ut(o)));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=f(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const g=f(t,["frequencyPenalty"]);g!=null&&p(i,["frequencyPenalty"],g);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const b=f(t,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const _=f(t,["responseSchema"]);_!=null&&p(i,["responseSchema"],c0(_));const w=f(t,["responseJsonSchema"]);if(w!=null&&p(i,["responseJsonSchema"],w),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(t,["safetySettings"]);if(n!==void 0&&S!=null){let H=S;Array.isArray(H)&&(H=H.map(Z=>i4(Z))),p(n,["safetySettings"],H)}const A=f(t,["tools"]);if(n!==void 0&&A!=null){let H=Rs(A);Array.isArray(H)&&(H=H.map(Z=>f4(Os(Z)))),p(n,["tools"],H)}const T=f(t,["toolConfig"]);if(n!==void 0&&T!=null&&p(n,["toolConfig"],c4(T)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=f(t,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],si(e,x));const R=f(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const C=f(t,["mediaResolution"]);C!=null&&p(i,["mediaResolution"],C);const I=f(t,["speechConfig"]);if(I!=null&&p(i,["speechConfig"],f0(I)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(t,["thinkingConfig"]);N!=null&&p(i,["thinkingConfig"],N);const P=f(t,["imageConfig"]);P!=null&&p(i,["imageConfig"],qG(P));const q=f(t,["enableEnhancedCivicAnswers"]);if(q!=null&&p(i,["enableEnhancedCivicAnswers"],q),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function mG(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],ut(o));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=f(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const g=f(t,["frequencyPenalty"]);g!=null&&p(i,["frequencyPenalty"],g);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const b=f(t,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const _=f(t,["responseSchema"]);_!=null&&p(i,["responseSchema"],c0(_));const w=f(t,["responseJsonSchema"]);w!=null&&p(i,["responseJsonSchema"],w);const S=f(t,["routingConfig"]);S!=null&&p(i,["routingConfig"],S);const A=f(t,["modelSelectionConfig"]);A!=null&&p(i,["modelConfig"],A);const T=f(t,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(j=>j)),p(n,["safetySettings"],B)}const x=f(t,["tools"]);if(n!==void 0&&x!=null){let B=Rs(x);Array.isArray(B)&&(B=B.map(j=>QR(Os(j)))),p(n,["tools"],B)}const R=f(t,["toolConfig"]);n!==void 0&&R!=null&&p(n,["toolConfig"],R);const C=f(t,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const I=f(t,["cachedContent"]);n!==void 0&&I!=null&&p(n,["cachedContent"],si(e,I));const N=f(t,["responseModalities"]);N!=null&&p(i,["responseModalities"],N);const P=f(t,["mediaResolution"]);P!=null&&p(i,["mediaResolution"],P);const q=f(t,["speechConfig"]);q!=null&&p(i,["speechConfig"],f0(q));const H=f(t,["audioTimestamp"]);H!=null&&p(i,["audioTimestamp"],H);const Z=f(t,["thinkingConfig"]);Z!=null&&p(i,["thinkingConfig"],Z);const k=f(t,["imageConfig"]);if(k!=null&&p(i,["imageConfig"],HG(k)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=f(t,["modelArmorConfig"]);return n!==void 0&&$!=null&&p(n,["modelArmorConfig"],$),i}function wE(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>Mu(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],pG(e,a,r)),r}function SE(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],mG(e,a,r)),r}function EE(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>L3(c))),p(n,["candidates"],u)}const o=f(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=f(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=f(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=f(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function TE(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["candidates"],c)}const o=f(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=f(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=f(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=f(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=f(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function vG(e,t,n){const r={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=f(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=f(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=f(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=f(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const d=f(e,["language"]);t!==void 0&&d!=null&&p(t,["parameters","language"],d);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const m=f(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&p(t,["parameters","outputOptions","compressionQuality"],m),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=f(e,["imageSize"]);if(t!==void 0&&v!=null&&p(t,["parameters","sampleImageSize"],v),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function gG(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=f(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const g=f(e,["outputMimeType"]);t!==void 0&&g!=null&&p(t,["parameters","outputOptions","mimeType"],g);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const b=f(e,["addWatermark"]);t!==void 0&&b!=null&&p(t,["parameters","addWatermark"],b);const _=f(e,["labels"]);t!==void 0&&_!=null&&p(t,["labels"],_);const w=f(e,["imageSize"]);t!==void 0&&w!=null&&p(t,["parameters","sampleImageSize"],w);const S=f(e,["enhancePrompt"]);return t!==void 0&&S!=null&&p(t,["parameters","enhancePrompt"],S),r}function yG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&vG(a,r),r}function bG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&gG(a,r),r}function _G(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>PG(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],WR(o)),n}function wG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>dh(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],XR(o)),n}function SG(e,t,n){const r={},i=f(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=f(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=f(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=f(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=f(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=f(e,["lastFrame"]);t!==void 0&&d!=null&&p(t,["instances[0]","lastFrame"],hh(d));const h=f(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>T4(v))),p(t,["instances[0]","referenceImages"],m)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function EG(e,t,n){const r={},i=f(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=f(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=f(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=f(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=f(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=f(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const m=f(e,["negativePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","negativePrompt"],m);const v=f(e,["enhancePrompt"]);t!==void 0&&v!=null&&p(t,["parameters","enhancePrompt"],v);const g=f(e,["generateAudio"]);t!==void 0&&g!=null&&p(t,["parameters","generateAudio"],g);const y=f(e,["lastFrame"]);t!==void 0&&y!=null&&p(t,["instances[0]","lastFrame"],sr(y));const b=f(e,["referenceImages"]);if(t!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(A=>A4(A))),p(t,["instances[0]","referenceImages"],S)}const _=f(e,["mask"]);t!==void 0&&_!=null&&p(t,["instances[0]","mask"],E4(_));const w=f(e,["compressionQuality"]);return t!==void 0&&w!=null&&p(t,["parameters","compressionQuality"],w),r}function TG(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],OG(s)),n}function AG(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response"]);return s!=null&&p(n,["response"],RG(s)),n}function xG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],hh(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],ZR(s));const l=f(t,["source"]);l!=null&&IG(l,r);const u=f(t,["config"]);return u!=null&&SG(u,r),r}function CG(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],sr(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],eI(s));const l=f(t,["source"]);l!=null&&MG(l,r);const u=f(t,["config"]);return u!=null&&EG(u,r),r}function OG(e,t){const n={},r=f(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>DG(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function RG(e,t){const n={},r=f(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>kG(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function IG(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],hh(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],ZR(a)),r}function MG(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],sr(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],eI(a)),r}function PG(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],GG(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],WR(o)),n}function dh(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],JR(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);o!=null&&p(n,["safetyAttributes"],XR(o));const a=f(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function NG(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["mask"],JR(r));const i=f(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function DG(e,t){const n={},r=f(e,["video"]);return r!=null&&p(n,["video"],w4(r)),n}function kG(e,t){const n={},r=f(e,["_self"]);return r!=null&&p(n,["video"],S4(r)),n}function UG(e,t){const n={},r=f(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=f(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=f(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=f(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=f(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=f(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=f(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=f(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const d=f(e,["mediaResolution"]);d!=null&&p(n,["mediaResolution"],d);const h=f(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const m=f(e,["responseLogprobs"]);m!=null&&p(n,["responseLogprobs"],m);const v=f(e,["responseMimeType"]);v!=null&&p(n,["responseMimeType"],v);const g=f(e,["responseModalities"]);g!=null&&p(n,["responseModalities"],g);const y=f(e,["responseSchema"]);y!=null&&p(n,["responseSchema"],y);const b=f(e,["routingConfig"]);b!=null&&p(n,["routingConfig"],b);const _=f(e,["seed"]);_!=null&&p(n,["seed"],_);const w=f(e,["speechConfig"]);w!=null&&p(n,["speechConfig"],w);const S=f(e,["stopSequences"]);S!=null&&p(n,["stopSequences"],S);const A=f(e,["temperature"]);A!=null&&p(n,["temperature"],A);const T=f(e,["thinkingConfig"]);T!=null&&p(n,["thinkingConfig"],T);const x=f(e,["topK"]);x!=null&&p(n,["topK"],x);const R=f(e,["topP"]);if(R!=null&&p(n,["topP"],R),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function LG(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function BG(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function $G(e,t){const n={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function zG(e,t){const n={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function qG(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function HG(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=f(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=f(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=f(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function GG(e,t){const n={},r=f(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],Zi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function JR(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],Zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function hh(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=f(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],Zi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function sr(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function VG(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],HR(e,l)),i}function jG(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],HR(e,l)),i}function FG(e,t,n){const r={},i=f(t,["config"]);return i!=null&&VG(e,i,r),r}function KG(e,t,n){const r={},i=f(t,["config"]);return i!=null&&jG(e,i,r),r}function YG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=GR(o);Array.isArray(a)&&(a=a.map(s=>Jv(s))),p(n,["models"],a)}return n}function JG(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=GR(o);Array.isArray(a)&&(a=a.map(s=>Wv(s))),p(n,["models"],a)}return n}function WG(e,t){const n={},r=f(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=f(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=f(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function Jv(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["version"]);a!=null&&p(n,["version"],a);const s=f(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],d4(s));const l=f(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=f(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=f(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const d=f(e,["temperature"]);d!=null&&p(n,["temperature"],d);const h=f(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const m=f(e,["topP"]);m!=null&&p(n,["topP"],m);const v=f(e,["topK"]);v!=null&&p(n,["topK"],v);const g=f(e,["thinking"]);return g!=null&&p(n,["thinking"],g),n}function Wv(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["versionId"]);a!=null&&p(n,["version"],a);const s=f(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>uG(m))),p(n,["endpoints"],h)}const l=f(e,["labels"]);l!=null&&p(n,["labels"],l);const u=f(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],h4(u));const c=f(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const d=f(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),p(n,["checkpoints"],h)}return n}function XG(e,t){const n={},r=f(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=f(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=f(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=f(e,["fileData"]);a!=null&&p(n,["fileData"],cG(a));const s=f(e,["functionCall"]);s!=null&&p(n,["functionCall"],fG(s));const l=f(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=f(e,["inlineData"]);u!=null&&p(n,["inlineData"],U3(u));const c=f(e,["text"]);c!=null&&p(n,["text"],c);const d=f(e,["thought"]);d!=null&&p(n,["thought"],d);const h=f(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const m=f(e,["videoMetadata"]);return m!=null&&p(n,["videoMetadata"],m),n}function QG(e,t){const n={},r=f(e,["productImage"]);return r!=null&&p(n,["image"],sr(r)),n}function ZG(e,t,n){const r={},i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=f(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=f(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=f(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=f(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const d=f(e,["outputMimeType"]);t!==void 0&&d!=null&&p(t,["parameters","outputOptions","mimeType"],d);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const m=f(e,["enhancePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","enhancePrompt"],m);const v=f(e,["labels"]);return t!==void 0&&v!=null&&p(t,["labels"],v),r}function e4(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["source"]);o!=null&&n4(o,r);const a=f(t,["config"]);return a!=null&&ZG(a,r),r}function t4(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dh(o))),p(n,["generatedImages"],i)}return n}function n4(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],sr(o));const a=f(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>QG(l))),p(t,["instances[0]","productImages"],s)}return r}function r4(e,t){const n={},r=f(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],sr(r));const i=f(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=f(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=f(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],WG(a));const s=f(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],G3(s));const l=f(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=f(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function WR(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function XR(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function i4(e,t){const n={},r=f(e,["category"]);if(r!=null&&p(n,["category"],r),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function o4(e,t){const n={},r=f(e,["image"]);return r!=null&&p(n,["image"],sr(r)),n}function a4(e,t,n){const r={},i=f(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=f(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=f(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=f(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=f(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=f(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function s4(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["source"]);o!=null&&u4(o,r);const a=f(t,["config"]);return a!=null&&a4(a,r),r}function l4(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>NG(o))),p(n,["generatedMasks"],i)}return n}function u4(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],sr(o));const a=f(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],o4(a)),r}function c4(e,t){const n={},r=f(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=f(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],dG(i)),n}function f4(e,t){const n={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=f(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=f(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),p(n,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],$G(s));const l=f(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],zG(l));const u=f(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function QR(e,t){const n={},r=f(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=f(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=f(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=f(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=f(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>hG(m))),p(n,["functionDeclarations"],h)}const l=f(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=f(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=f(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const d=f(e,["urlContext"]);return d!=null&&p(n,["urlContext"],d),n}function d4(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function h4(e,t){const n={},r=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function p4(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function m4(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function v4(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","name"],le(e,i));const o=f(t,["config"]);return o!=null&&p4(o,r),r}function g4(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["config"]);return o!=null&&m4(o,r),r}function y4(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=f(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=f(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=f(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=f(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=f(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const d=f(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=f(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const m=f(e,["numberOfImages"]);t!==void 0&&m!=null&&p(t,["parameters","sampleCount"],m);const v=f(e,["mode"]);return t!==void 0&&v!=null&&p(t,["parameters","mode"],v),r}function b4(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=f(t,["image"]);o!=null&&p(r,["instances[0]","image"],sr(o));const a=f(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=f(t,["config"]);return s!=null&&y4(s,r),r}function _4(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dh(a))),p(n,["generatedImages"],o)}return n}function w4(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],Zi(i));const o=f(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function S4(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],Zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function E4(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["_self"],sr(r));const i=f(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function T4(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],hh(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function A4(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],sr(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function ZR(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],Zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function eI(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x4(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function C4(e){const t={},n=f(e,["config"]);return n!=null&&x4(n,t),t}function O4(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function R4(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&O4(r,t),t}function I4(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function M4(e,t){const n={},r=f(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=f(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function P4(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],D4(a)),t}function N4(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=f(e,["config"]);return i!=null&&M4(i,t),t}function D4(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function k4(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function U4(e){const t={},n=f(e,["config"]);return n!=null&&k4(n,t),t}function L4(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function tI(e,t){const n={},r=f(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=f(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function B4(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["config"]);return r!=null&&tI(r,t),t}function $4(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z4="Content-Type",q4="X-Server-Timeout",H4="User-Agent",Xv="x-goog-api-client",G4="1.42.0",V4=`google-genai-sdk/${G4}`,j4="v1beta1",F4="v1beta",K4=5,Y4=[408,429,500,502,503,504];class J4{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:j4}else{if(!this.clientOptions.apiKey)throw new nu({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:F4,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===jv.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&W4(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AE(i),new Fv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return er(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Q(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const g=JSON.parse(JSON.stringify(v.error)),y=g.status,b=g.code,_=`got status: ${y}. ${JSON.stringify(v)}`;if(b>=400&&b<600)throw new nu({message:_,status:b})}}catch(v){if(v.name==="ApiError")throw v}a+=d;let h=-1,m=0;for(;;){h=-1,m=0;for(const y of l){const b=a.indexOf(y);b!==-1&&(h===-1||b<h)&&(h=b,m=y.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+m);const g=v.trim();if(g.startsWith(s)){const y=g.substring(s.length).trim();try{const b=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Q(new Fv(b))}catch(b){throw new Error(`exception parsing stream chunk ${y}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return Bz(async()=>{const a=await fetch(t,n);if(a.ok)return a;throw Y4.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new Uz(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:K4)-1})}getDefaultHeaders(){const t={},n=V4+" "+this.clientOptions.userAgentExtra;return t[H4]=n,t[Xv]=n,t[z4]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(q4,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=z("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,d,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&tI(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function AE(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new nu({message:i,status:n}):new Error(i)}}function W4(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X4="mcp_used/unknown";let Q4=!1;function nI(e){for(const t of e)if(Z4(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Q4}function rI(e){var t;const n=(t=e[Xv])!==null&&t!==void 0?t:"";e[Xv]=(n+` ${X4}`).trimStart()}function Z4(e){return e!==null&&typeof e=="object"&&e instanceof h0}function eV(e){return er(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield Q(n.listTools({cursor:i}));for(const s of a.tools)yield yield Q(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class h0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new h0(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,tr(eV(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),xq(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tV(e,t,n){const r=new yq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class nV{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=oV(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(w=>{u=w}),d=t.callbacks,h=function(){u({})},m=this.apiClient,v={onopen:h,onmessage:w=>{tV(m,d.onmessage,w)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,iV(a),v);g.connect(),await c;const _={setup:{model:le(this.apiClient,t.model)}};return g.send(JSON.stringify(_)),new rV(g,this.apiClient)}}class rV{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=x3(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=A3(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ka.PLAY)}pause(){this.sendPlaybackControl(ka.PAUSE)}stop(){this.sendPlaybackControl(ka.STOP)}resetContext(){this.sendPlaybackControl(ka.RESET_CONTEXT)}close(){this.conn.close()}}function iV(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function oV(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sV(e,t,n){const r=new gq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=R3(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class lV{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new nV(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();t.config&&t.config.tools&&nI(t.config.tools)&&rI(d);const h=dV(d);if(this.apiClient.isVertexAI()){const C=this.apiClient.getProject(),I=this.apiClient.getLocation(),N=this.apiClient.getApiKey(),P=!!C&&!!I||!!N;this.apiClient.getCustomBaseUrl()&&!P?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const C=this.apiClient.getApiKey();let I="BidiGenerateContent",N="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",N="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${N}=${C}`}let m=()=>{};const v=new Promise(C=>{m=C}),g=t.callbacks,y=function(){var C;(C=g==null?void 0:g.onopen)===null||C===void 0||C.call(g),m({})},b=this.apiClient,_={onopen:y,onmessage:C=>{sV(b,g.onmessage,C)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(C){}},w=this.webSocketFactory.create(c,fV(h),_);w.connect(),await v;let S=le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const C=this.apiClient.getProject(),I=this.apiClient.getLocation();C&&I&&(S=`projects/${C}/locations/${I}/`+S)}let A={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gf.AUDIO]}:t.config.responseModalities=[Gf.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],x=[];for(const C of T)if(this.isCallableTool(C)){const I=C;x.push(await I.tool())}else x.push(C);x.length>0&&(t.config.tools=x);const R={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=T3(this.apiClient,R):A=E3(this.apiClient,R),delete A.config,w.send(JSON.stringify(A)),new cV(w,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uV={turnComplete:!0};class cV{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=cn(n.turns),t.isVertexAI()||(r=r.map(i=>Mu(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(aV)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},uV),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:O3(t)}:n={realtimeInput:C3(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fV(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function dV(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xE=10;function CE(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ja(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ja(e){return"callTool"in e&&typeof e.callTool=="function"}function hV(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ja(i)))!==null&&r!==void 0?r:!1}function OE(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ja(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function RE(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pV extends ai{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=cn(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:Vf.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:Vf.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hV(n)||CE(n.config))return await this.generateContentInternal(l);const u=OE(n);if(u.length>0){const g=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${g}.`)}let c,d;const h=cn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:xE;let v=0;for(;v<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,y=[];for(const b of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ja(b)){const w=await b.callTool(c.functionCalls);y.push(...w)}v++,d={role:"user",parts:y},l.contents=cn(l.contents),l.contents.push(g),l.contents.push(d),RE(l.config)&&(h.push(g),h.push(d))}return RE(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),CE(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=OE(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Xo(Jr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Ja(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&nI(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),rI(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ja(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xE;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,d){return er(this,arguments,function*(){for(var h,m,v,g,y,b;s<o;){a&&(s++,a=!1);const A=yield Q(u.processParamsMaybeAddMcpUsage(d)),T=yield Q(u.generateContentStreamInternal(A)),x=[],R=[];try{for(var _=!0,w=(m=void 0,tr(T)),S;S=yield Q(w.next()),h=S.done,!h;_=!0){g=S.value,_=!1;const C=g;if(yield yield Q(C),C.candidates&&(!((y=C.candidates[0])===null||y===void 0)&&y.content)){R.push(C.candidates[0].content);for(const I of(b=C.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const N=yield Q(c.get(I.functionCall.name).callTool([I.functionCall]));x.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!_&&!h&&(v=w.return)&&(yield Q(v.call(w)))}finally{if(m)throw m.error}}if(x.length>0){a=!0;const C=new Xs;C.candidates=[{content:{role:"user",parts:x}}],yield yield Q(C);const I=[];I.push(...R),I.push({role:"user",parts:x});const N=cn(d.contents).concat(I);d.contents=N}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SE(this.apiClient,t);return s=z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=TE(c),h=new Xs;return Object.assign(h,d),h})}else{const u=wE(this.apiClient,t);return s=z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=EE(c),h=new Xs;return Object.assign(h,d),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SE(this.apiClient,t);return s=z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return er(this,arguments,function*(){var h,m,v,g;try{for(var y=!0,b=tr(d),_;_=yield Q(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,S=TE(yield Q(w.json()),t);S.sdkHttpResponse={headers:w.headers};const A=new Xs;Object.assign(A,S),yield yield Q(A)}}catch(w){m={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield Q(v.call(b)))}finally{if(m)throw m.error}}})})}else{const u=wE(this.apiClient,t);return s=z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return er(this,arguments,function*(){var h,m,v,g;try{for(var y=!0,b=tr(d),_;_=yield Q(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,S=EE(yield Q(w.json()),t);S.sdkHttpResponse={headers:w.headers};const A=new Xs;Object.assign(A,S),yield yield Q(A)}}catch(w){m={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield Q(v.call(b)))}finally{if(m)throw m.error}}})})}}async embedContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aG(this.apiClient,t,t),c=Oq(t.model)?"{model}:embedContent":"{model}:predict";return s=z(c,u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),a.then(d=>{const h=lG(d,t),m=new iE;return Object.assign(m,h),m})}else{const u=oG(this.apiClient,t);return s=z("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=sG(c),h=new iE;return Object.assign(h,d),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bG(this.apiClient,t);return s=z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=wG(c),h=new oE;return Object.assign(h,d),h})}else{const u=yG(this.apiClient,t);return s=z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=_G(c),h=new oE;return Object.assign(h,d),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tG(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nG(l),c=new oq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=b4(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_4(l),c=new aq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=e4(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=t4(l),c=new sq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=s4(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=l4(l),c=new lq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=BG(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Wv(c))}else{const u=LG(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Jv(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=KG(this.apiClient,t);return s=z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=JG(c),h=new aE;return Object.assign(h,d),h})}else{const u=FG(this.apiClient,t);return s=z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=YG(c),h=new aE;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=g4(this.apiClient,t);return s=z("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Wv(c))}else{const u=v4(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Jv(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=X3(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Z3(c),h=new sE;return Object.assign(h,d),h})}else{const u=W3(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Q3(c),h=new sE;return Object.assign(h,d),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=K3(this.apiClient,t);return s=z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=J3(c),h=new lE;return Object.assign(h,d),h})}else{const u=F3(this.apiClient,t);return s=z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Y3(c),h=new lE;return Object.assign(h,d),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$3(this.apiClient,t);return o=z("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=z3(l),c=new uq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=CG(this.apiClient,t);return s=z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=AG(c),h=new jf;return Object.assign(h,d),h})}else{const u=xG(this.apiClient,t);return s=z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=TG(c),h=new jf;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mV extends ai{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Zz(t);return s=z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Qz(t);return s=z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=jz(t);return o=z("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vV(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function gV(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xV(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function yV(e,t,n){const r={},i=f(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],AV(e,s));const l=f(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function bV(e,t){const n={},r=f(t,["config"]);return r!=null&&p(n,["config"],yV(e,r,n)),n}function _V(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function wV(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SV(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function EV(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function TV(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],d0(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=f(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],gV(ut(v)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let T=Rs(g);Array.isArray(T)&&(T=T.map(x=>OV(Os(x)))),p(t,["setup","tools"],T)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],CV(y));const b=f(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=f(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=f(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=f(e,["proactivity"]);if(t!==void 0&&A!=null&&p(t,["setup","proactivity"],A),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function AV(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],TV(i,n)),n}function xV(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],_V(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],wV(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],vV(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function CV(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function OV(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],SV(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],EV(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RV(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function IV(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=RV(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class MV extends ai{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=bV(this.apiClient,t);o=z("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=IV(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PV(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function NV(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&PV(r,t),t}function DV(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function kV(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function UV(e){const t={},n=f(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=f(e,["config"]);return r!=null&&kV(r,t),t}function LV(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BV extends ai{constructor(t){super(),this.apiClient=t,this.list=async n=>new Xo(Jr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DV(t);return o=z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=NV(t);i=z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UV(t);return o=z("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=LV(l),c=new cq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $V extends ai{constructor(t,n=new BV(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Xo(Jr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=C4(t);return o=z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=I4(t);return o=z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=R4(t);i=z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=U4(t);return o=z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=L4(l),c=new fq;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=B4(t);return o=z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$4(l),c=new dq;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=N4(t);return o=z("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=P4(l),c=new s0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iI=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return iI=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const zV=()=>iI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qv(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Zv=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n extends Error{}class Ut extends $n{constructor(t,n,r,i){super(`${Ut.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new ph({message:r,cause:Zv(n)});const o=n;return t===400?new aI(t,o,r,i):t===401?new sI(t,o,r,i):t===403?new lI(t,o,r,i):t===404?new uI(t,o,r,i):t===409?new cI(t,o,r,i):t===422?new fI(t,o,r,i):t===429?new dI(t,o,r,i):t>=500?new hI(t,o,r,i):new Ut(t,o,r,i)}}class eg extends Ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ph extends Ut{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class oI extends ph{constructor({message:t}={}){super({message:t??"Request timed out."})}}class aI extends Ut{}class sI extends Ut{}class lI extends Ut{}class uI extends Ut{}class cI extends Ut{}class fI extends Ut{}class dI extends Ut{}class hI extends Ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qV=/^[a-z][a-z0-9+.-]*:/i,HV=e=>qV.test(e);let tg=e=>(tg=Array.isArray,tg(e));const GV=tg;let VV=GV;const IE=VV;function jV(e){if(!e)return!0;for(const t in e)return!1;return!0}function FV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const KV=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new $n(`${e} must be an integer`);if(t<0)throw new $n(`${e} must be a positive integer`);return t},YV=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JV=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _a="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XV=()=>{var e,t,n,r,i;const o=WV();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":PE(Deno.build.os),"X-Stainless-Arch":ME(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":PE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ME((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=QV();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function QV(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const ME=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",PE=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let bc;const ZV=()=>bc??(bc=XV());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ej(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function pI(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function tj(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return pI({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function mI(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nj(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rj=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vI=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fm(e,t,n){return vI(),new File(e,t??"unknown_file",n)}function ij(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const oj=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gI=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",aj=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&gI(e),sj=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function lj(e,t,n){if(vI(),e=await e,aj(e))return e instanceof File?e:fm([await e.arrayBuffer()],e.name);if(sj(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),fm(await ng(i),t,n)}const r=await ng(e);if(t||(t=ij(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return fm(r,t,n)}async function ng(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(gI(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(oj(e))try{for(var s=!0,l=tr(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await ng(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${uj(e)}`)}return a}function uj(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yI{constructor(t){this._client=t}}yI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bI(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const NE=Object.freeze(Object.create(null)),cj=(e=bI)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var m,v,g;/[?#]/.test(d)&&(i=!0);const y=r[h];let b=(i?encodeURIComponent:e)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((g=Object.getPrototypeOf((v=Object.getPrototypeOf((m=y.hasOwnProperty)!==null&&m!==void 0?m:NE))!==null&&v!==void 0?v:NE))===null||g===void 0?void 0:g.toString))&&(b=y+"",o.push({start:c.length+d.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":b)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,m)=>{const v=" ".repeat(m.start-c),g="^".repeat(m.length);return c=m.start+m.length,h+v+g},"");throw new $n(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},_c=cj(bI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _I extends yI{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Kf(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new $n("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new $n("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_c`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_c`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_c`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Kf(o,["api_version"]);return this._client.get(_c`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}_I._key=Object.freeze(["interactions"]);class wI extends _I{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fj(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let wc;function p0(e){let t;return(wc??(t=new globalThis.TextEncoder,wc=t.encode.bind(t)))(e)}let Sc;function DE(e){let t;return(Sc??(t=new globalThis.TextDecoder,Sc=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?p0(t):t;this.buffer=fj([this.buffer,n]);const r=[];let i;for(;(i=dj(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(DE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=DE(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}mh.NEWLINE_CHARS=new Set([`
`,"\r"]);mh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dj(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function hj(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yf={off:0,error:200,warn:300,info:400,debug:500},kE=(e,t,n)=>{if(e){if(FV(Yf,e))return e;Pt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yf))}`)}};function pl(){}function Ec(e,t,n){return!t||Yf[e]>Yf[n]?pl:t[e].bind(t)}const pj={error:pl,warn:pl,info:pl,debug:pl};let UE=new WeakMap;function Pt(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return pj;const i=UE.get(n);if(i&&i[0]===r)return i[1];const o={error:Ec("error",n,r),warn:Ec("warn",n,r),info:Ec("info",n,r),debug:Ec("debug",n,r)};return UE.set(n,[r,o]),o}const mo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Pt(r):console;function a(){return er(this,arguments,function*(){var l,u,c,d;if(i)throw new $n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=tr(mj(t,n)),g;g=yield Q(v.next()),l=g.done,!l;m=!0){d=g.value,m=!1;const y=d;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Q(JSON.parse(y.data))}catch(b){throw o.error("Could not parse message into JSON:",y.data),o.error("From chunk:",y.raw),b}}}catch(y){u={error:y}}finally{try{!m&&!l&&(c=v.return)&&(yield Q(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Qv(y))return yield Q(void 0);throw y}finally{h||n.abort()}})}return new Ua(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return er(this,arguments,function*(){var l,u,c,d;const h=new mh,m=mI(t);try{for(var v=!0,g=tr(m),y;y=yield Q(g.next()),l=y.done,!l;v=!0){d=y.value,v=!1;const b=d;for(const _ of h.decode(b))yield yield Q(_)}}catch(b){u={error:b}}finally{try{!v&&!l&&(c=g.return)&&(yield Q(c.call(g)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield Q(b)})}function a(){return er(this,arguments,function*(){var l,u,c,d;if(i)throw new $n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=tr(o()),g;g=yield Q(v.next()),l=g.done,!l;m=!0){d=g.value,m=!1;const y=d;h||y&&(yield yield Q(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!m&&!l&&(c=v.return)&&(yield Q(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Qv(y))return yield Q(void 0);throw y}finally{h||n.abort()}})}return new Ua(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new Ua(()=>i(t),this.controller,this.client),new Ua(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return pI({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=p0(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function mj(e,t){return er(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $n("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $n("Attempted to iterate over a response with no body");const s=new gj,l=new mh,u=mI(e.body);try{for(var c=!0,d=tr(vj(u)),h;h=yield Q(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const v of l.decode(m)){const g=s.decode(v);g&&(yield yield Q(g))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=d.return)&&(yield Q(o.call(d)))}finally{if(i)throw i.error}}for(const m of l.flush()){const v=s.decode(m);v&&(yield yield Q(v))}})}function vj(e){return er(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=tr(e),u;u=yield Q(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?p0(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let m;for(;(m=hj(a))!==-1;)yield yield Q(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield Q(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield Q(a))})}class gj{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=yj(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function yj(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bj(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Pt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ua.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Pt(e).debug(`[${r}] response parsed`,mo({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m0 extends Promise{constructor(t,n,r=bj){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new m0(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SI=Symbol("brand.privateNullableHeaders");function*_j(e){if(!e)return;if(SI in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():IE(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=IE(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Qs=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of _j(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[SI]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dm=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=$z)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var EI;class vh{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=dm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=dm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,h=Kf(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:vh.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=kE(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:kE(dm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:ej(),this.encoder=rj,this._options=m,this.apiKey=c,this.apiVersion=d,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Qs([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $n(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_a}`}defaultIdempotencyKey(){return`stainless-node-retry-${zV()}`}makeStatusError(t,n,r,i){return Ut.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=HV(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return jV(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new m0(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Pt(this).debug(`[${h}] sending request`,mo({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new eg;const g=new AbortController,y=await this.fetchWithTimeout(c,u,d,g).catch(Zv),b=Date.now();if(y instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new eg;const S=Qv(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Pt(this).info(`[${h}] connection ${S?"timed out":"failed"} - ${w}`),Pt(this).debug(`[${h}] connection ${S?"timed out":"failed"} (${w})`,mo({retryOfRequestLogID:r,url:c,durationMs:b-v,message:y.message})),this.retryRequest(s,n,r??h);throw Pt(this).info(`[${h}] connection ${S?"timed out":"failed"} - error; no more retries left`),Pt(this).debug(`[${h}] connection ${S?"timed out":"failed"} (error; no more retries left)`,mo({retryOfRequestLogID:r,url:c,durationMs:b-v,message:y.message})),S?new oI:new ph({cause:y})}const _=`[${h}${m}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${b-v}ms`;if(!y.ok){const w=await this.shouldRetry(y);if(n&&w){const C=`retrying, ${n} attempts remaining`;return await nj(y.body),Pt(this).info(`${_} - ${C}`),Pt(this).debug(`[${h}] response error (${C})`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:b-v})),this.retryRequest(s,n,r??h,y.headers)}const S=w?"error; no more retries left":"error; not retryable";Pt(this).info(`${_} - ${S}`);const A=await y.text().catch(C=>Zv(C).message),T=YV(A),x=T?void 0:A;throw Pt(this).debug(`[${h}] response error (${S})`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:x,durationMs:Date.now()-v})),this.makeStatusError(y.status,T,x,y.headers)}return Pt(this).info(_),Pt(this).debug(`[${h}] response start`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:b-v})),{response:y,options:s,controller:g,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Kf(o,["signal","method"]),u=this._makeAbort(i);a&&a.addEventListener("abort",u,{once:!0});const c=setTimeout(u,r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(h.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await JV(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&KV("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),v=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=Qs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),ZV()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Qs([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:tj(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}vh.DEFAULT_TIMEOUT=6e4;class dt extends vh{constructor(){super(...arguments),this.interactions=new wI(this)}}EI=dt;dt.GeminiNextGenAPIClient=EI;dt.GeminiNextGenAPIClientError=$n;dt.APIError=Ut;dt.APIConnectionError=ph;dt.APIConnectionTimeoutError=oI;dt.APIUserAbortError=eg;dt.NotFoundError=uI;dt.ConflictError=cI;dt.RateLimitError=dI;dt.BadRequestError=aI;dt.AuthenticationError=sI;dt.InternalServerError=hI;dt.PermissionDeniedError=lI;dt.UnprocessableEntityError=fI;dt.toFile=lj;dt.Interactions=wI;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wj(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Sj(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Ej(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Tj(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Aj(e,t,n){const r={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=f(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=f(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=f(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(f(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function xj(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec"],hm(T))}else if(i==="PREFERENCE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec"],hm(T))}else if(i==="DISTILLATION"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["distillationSpec"],hm(T))}const o=f(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=f(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(s==="PREFERENCE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(s==="DISTILLATION"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],T)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="PREFERENCE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="DISTILLATION"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(u==="PREFERENCE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(u==="DISTILLATION"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],T)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(c==="PREFERENCE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(c==="DISTILLATION"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],T)}let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=f(e,["tuningMode"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","tuningMode"],T)}const h=f(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let m=f(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=f(e,["batchSize"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let v=f(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=f(e,["learningRate"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const g=f(e,["labels"]);t!==void 0&&g!=null&&p(t,["labels"],g);const y=f(e,["beta"]);t!==void 0&&y!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);const b=f(e,["baseTeacherModel"]);t!==void 0&&b!=null&&p(t,["distillationSpec","baseTeacherModel"],b);const _=f(e,["tunedTeacherModelSource"]);t!==void 0&&_!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],_);const w=f(e,["sftLossWeightMultiplier"]);t!==void 0&&w!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],w);const S=f(e,["outputUri"]);t!==void 0&&S!=null&&p(t,["outputUri"],S);const A=f(e,["encryptionSpec"]);return t!==void 0&&A!=null&&p(t,["encryptionSpec"],A),r}function Cj(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&Bj(o);const a=f(e,["config"]);return a!=null&&Aj(a,n),n}function Oj(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&$j(o,n,t);const a=f(e,["config"]);return a!=null&&xj(a,n,t),n}function Rj(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Ij(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Mj(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function Pj(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function Nj(e,t){const n={},r=f(e,["config"]);return r!=null&&Mj(r,n),n}function Dj(e,t){const n={},r=f(e,["config"]);return r!=null&&Pj(r,n),n}function kj(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>TI(s))),p(n,["tuningJobs"],a)}return n}function Uj(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>rg(s))),p(n,["tuningJobs"],a)}return n}function Lj(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["model"],r);const i=f(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function Bj(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function $j(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function TI(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],zR(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["description"]);c!=null&&p(n,["description"],c);const d=f(e,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(e,["_self"]);return h!=null&&p(n,["tunedModel"],Lj(h)),n}function rg(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],zR(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["error"]);c!=null&&p(n,["error"],c);const d=f(e,["description"]);d!=null&&p(n,["description"],d);const h=f(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=f(e,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const v=f(e,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const g=f(e,["supervisedTuningSpec"]);g!=null&&p(n,["supervisedTuningSpec"],g);const y=f(e,["preferenceOptimizationSpec"]);y!=null&&p(n,["preferenceOptimizationSpec"],y);const b=f(e,["distillationSpec"]);b!=null&&p(n,["distillationSpec"],b);const _=f(e,["tuningDataStats"]);_!=null&&p(n,["tuningDataStats"],_);const w=f(e,["encryptionSpec"]);w!=null&&p(n,["encryptionSpec"],w);const S=f(e,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const A=f(e,["customBaseModel"]);A!=null&&p(n,["customBaseModel"],A);const T=f(e,["experiment"]);T!=null&&p(n,["experiment"],T);const x=f(e,["labels"]);x!=null&&p(n,["labels"],x);const R=f(e,["outputUri"]);R!=null&&p(n,["outputUri"],R);const C=f(e,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const I=f(e,["serviceAccount"]);I!=null&&p(n,["serviceAccount"],I);const N=f(e,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const P=f(e,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function zj(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["done"]);a!=null&&p(n,["done"],a);const s=f(e,["error"]);return s!=null&&p(n,["error"],s),n}function hm(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qj extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Vv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ij(t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>rg(c))}else{const u=Rj(t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>TI(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dj(t);return s=z("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Uj(c),h=new uE;return Object.assign(h,d),h})}else{const u=Nj(t);return s=z("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=kj(c),h=new uE;return Object.assign(h,d),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sj(t);return s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Tj(c),h=new cE;return Object.assign(h,d),h})}else{const u=wj(t);return s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Ej(c),h=new cE;return Object.assign(h,d),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Oj(t,t);return o=z("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>rg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cj(t);return o=z("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>zj(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hj{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Gj=1024*1024*8,Vj=3,jj=1e3,Fj=2,Jf="x-goog-upload-status";async function Kj(e,t,n){var r;const i=await AI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Yj(e,t,n){var r;const i=await AI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=DR(o),s=new l0;return Object.assign(s,a),s}async function AI(e,t,n){var r,i;let o=0,a=0,s=new Fv(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(Gj,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=jj;for(;d<Vj&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Jf]));)d++,await Wj(h),h=h*Fj;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Jf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Jj(e){return{size:e.size,type:e.type}}function Wj(e){return new Promise(t=>setTimeout(t,e))}class Xj{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kj(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yj(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Jj(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qj{create(t,n,r){return new Zj(t,n,r)}}class Zj{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="x-goog-api-key";class eF{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(LE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(LE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tF="gl-node/";class xI{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Gz(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new eF(this.apiKey);this.apiClient=new J4({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tF+"web",uploader:new Xj,downloader:new Hj}),this.models=new pV(this.apiClient),this.live=new lV(this.apiClient,i,new Qj),this.batches=new _H(this.apiClient),this.chats=new t3(this.models,this.apiClient),this.caches=new QH(this.apiClient),this.files=new h3(this.apiClient),this.operations=new mV(this.apiClient),this.authTokens=new MV(this.apiClient),this.tunings=new qj(this.apiClient),this.fileSearchStores=new $V(this.apiClient)}}const CI=()=>"AIzaSyDCOtbcdXfijqV6TIF2hZZRogGrvISOETE".trim().length>10,nF=async(e,t,n,r)=>{if(!CI())return"Academic Tip: Review the core principles of this module in your textbook. AI-powered detailed explanations are currently disabled.";try{return(await new xI({apiKey:"AIzaSyDCOtbcdXfijqV6TIF2hZZRogGrvISOETE"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Question: ${e}
Correct: ${t[n]}`,config:{systemInstruction:"Explain the answer briefly."}})).text||"Consult faculty for details."}catch{return"Detailed AI explanation is offline."}},rF=async(e,t=5)=>{if(!CI())return[{text:`Sample question about ${e}? (AI Generator Offline)`,options:["Option A","Option B","Option C","Option D"],correctAnswer:0}];try{const r=await new xI({apiKey:"AIzaSyDCOtbcdXfijqV6TIF2hZZRogGrvISOETE"}).models.generateContent({model:"gemini-3-pro-preview",contents:`Generate ${t} questions about ${e}`,config:{responseMimeType:"application/json",responseSchema:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{text:{type:Kt.STRING},options:{type:Kt.ARRAY,items:{type:Kt.STRING}},correctAnswer:{type:Kt.INTEGER}}}}}});return r.text?JSON.parse(r.text):null}catch{return null}},iF=({quiz:e,onComplete:t,onCancel:n,userId:r})=>{const[i,o]=E.useState(0),[a,s]=E.useState(new Array(e.questions.length).fill(-1)),[l,u]=E.useState(e.duration*60),[c,d]=E.useState(null),[h,m]=E.useState(null),[v,g]=E.useState(!1),[y,b]=E.useState(!1);E.useEffect(()=>{const C=setInterval(()=>{u(I=>I<=1?(clearInterval(C),A(),0):I-1)},1e3);return l<60&&b(!0),()=>clearInterval(C)},[l]);const _=C=>{if(c)return;const I=C===e.questions[i].correctAnswer;d({idx:C,correct:I});const N=[...a];N[i]=C,s(N),i<e.questions.length-1&&setTimeout(()=>{v||(d(null),m(null),o(P=>P+1))},2500)},w=async()=>{if(!c||v)return;g(!0);const C=e.questions[i],I=await nF(C.text,C.options,C.correctAnswer,c.idx);m(I),g(!1)},S=()=>{d(null),m(null),o(C=>C+1)},A=()=>{const C=a.reduce((N,P,q)=>N+(P===e.questions[q].correctAnswer?1:0),0),I={id:`att_${Date.now()}`,quizId:e.id,studentId:r,score:C,totalQuestions:e.questions.length,completedAt:new Date().toISOString(),answers:a};t(I)},T=C=>{const I=Math.floor(C/60),N=C%60;return`${I}:${N<10?"0":""}${N}`},x=(i+1)/e.questions.length*100,R=e.questions[i];return O.jsxs("div",{className:"max-w-4xl mx-auto p-4 animate-fadeIn relative z-10",children:[O.jsx("div",{className:"w-full h-1.5 bg-slate-200 rounded-full mb-10 overflow-hidden",children:O.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700 ease-out shadow-sm",style:{width:`${x}%`}})}),O.jsxs("div",{className:"flex justify-between items-center mb-10",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:e.title}),O.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[O.jsxs("span",{className:"text-blue-600 font-black text-sm uppercase tracking-widest",children:["Item ",i+1]}),O.jsx("span",{className:"text-slate-300",children:"|"}),O.jsxs("span",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:[e.questions.length," total"]})]})]}),O.jsx("div",{className:"flex flex-col items-end",children:O.jsx("div",{className:`text-4xl font-black font-mono px-6 py-4 rounded-[1.5rem] border-2 transition-all duration-700 ${y?"bg-red-50 border-red-500 text-red-600 animate-pulse":"bg-white border-slate-200 text-blue-600 shadow-sm"}`,children:T(l)})})]}),O.jsxs("div",{className:"glass-morphism p-12 rounded-[3rem] min-h-[500px] flex flex-col border-slate-200 shadow-xl relative overflow-hidden bg-white/95",children:[O.jsxs("div",{className:"mb-12",children:[O.jsx("h3",{className:"text-2xl font-black leading-tight mb-12 text-slate-800",children:R.text}),O.jsx("div",{className:"grid gap-4",children:R.options.map((C,I)=>{const N=a[i]===I,P=I===R.correctAnswer;let q="border-slate-100 bg-slate-50 hover:border-blue-200 text-slate-600";return c&&(P?q="border-green-500 bg-green-50 text-green-700 shadow-lg shadow-green-100":N?q="border-red-500 bg-red-50 text-red-700 shadow-lg shadow-red-100":q="opacity-30 grayscale"),O.jsxs("button",{disabled:!!c,onClick:()=>_(I),className:`group w-full text-left p-6 rounded-[1.5rem] border-2 transition-all transform active:scale-[0.99] flex items-center ${q}`,children:[O.jsx("span",{className:`w-12 h-12 flex items-center justify-center rounded-2xl mr-6 font-black text-sm ${N?"bg-blue-600 text-white":"bg-slate-200 text-slate-500"}`,children:String.fromCharCode(65+I)}),O.jsx("span",{className:"text-lg font-bold",children:C})]},I)})})]}),c&&O.jsx("div",{className:"mt-8 animate-slideUp",children:h?O.jsxs("div",{className:"p-6 bg-slate-900 text-white rounded-[2rem] text-sm leading-relaxed relative animate-fadeIn",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3 text-blue-400 font-black text-[10px] uppercase tracking-widest",children:[O.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"})}),"AI Tutor Explanation"]}),h]}):O.jsx("button",{onClick:w,disabled:v,className:"w-full py-4 rounded-2xl border-2 border-blue-100 bg-blue-50 text-blue-600 font-black text-xs uppercase tracking-widest hover:bg-blue-100 transition-all flex items-center justify-center gap-3",children:v?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})," AI Thinking..."]}):O.jsx(O.Fragment,{children:" Why is this the answer?"})})}),O.jsxs("div",{className:"mt-auto flex justify-between items-center pt-8 border-t border-slate-100",children:[O.jsxs("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[Math.round(x),"% Complete"]}),c&&O.jsx("div",{className:"flex gap-4",children:i<e.questions.length-1?O.jsx("button",{onClick:S,className:"px-10 py-4 rounded-2xl bg-slate-900 text-white font-black text-sm uppercase tracking-widest hover:bg-blue-600 transition-all shadow-xl",children:"Next Item"}):O.jsx("button",{onClick:A,className:"px-14 py-4 rounded-2xl bg-green-600 text-white font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-green-100",children:"Submit Session"})})]})]})]})},oF=({quiz:e,onSave:t,onCancel:n})=>{var m,v;const[r,i]=E.useState(e||{title:"",description:"",category:Iw[0],duration:15,questions:[{id:"1",text:"",options:["","","",""],correctAnswer:0}],createdAt:new Date().toISOString()}),[o,a]=E.useState(!1),s=async()=>{const g=prompt("Enter a topic for AI to generate questions (e.g., Quantum Physics, React Hooks):");if(!g)return;a(!0);const y=await rF(g);if(a(!1),y){const b=y.map((_,w)=>({..._,id:`ai_${Date.now()}_${w}`}));i(_=>({..._,questions:[..._.questions||[],...b]}))}else alert("AI failed to generate questions. Please check your API key.")},l=()=>{const g={id:Date.now().toString(),text:"",options:["","","",""],correctAnswer:0};i({...r,questions:[...r.questions||[],g]})},u=g=>{const y=[...r.questions||[]];y.splice(g,1),i({...r,questions:y})},c=(g,y,b)=>{const _=[...r.questions||[]];_[g]={..._[g],[y]:b},i({...r,questions:_})},d=(g,y,b)=>{const _=[...r.questions||[]],w=[..._[g].options];w[y]=b,_[g].options=w,i({...r,questions:_})},h=g=>{var y;if(g.preventDefault(),!r.title||!((y=r.questions)!=null&&y.length)){alert("Please fill in the title and add questions.");return}t({...r,id:r.id||`q_${Date.now()}`})};return O.jsxs("div",{className:"max-w-4xl mx-auto p-4 animate-fadeIn pb-32",children:[O.jsxs("div",{className:"flex justify-between items-center mb-8",children:[O.jsx("h2",{className:"text-3xl font-black tracking-tighter text-slate-900",children:e?"Refine Assessment":"New Assessment"}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx("button",{type:"button",onClick:s,disabled:o,className:"px-6 py-2 bg-purple-50 border border-purple-100 text-purple-600 rounded-xl font-bold text-sm hover:bg-purple-100 transition-all flex items-center gap-2",children:o?"AI Thinking...":" Generate with AI"}),O.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 font-bold text-sm",children:"Cancel"})]})]}),O.jsxs("form",{onSubmit:h,className:"space-y-8",children:[O.jsxs("div",{className:"glass-morphism p-8 rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-8 border-slate-200 bg-white/80",children:[O.jsxs("div",{className:"col-span-2",children:[O.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Quiz Title"}),O.jsx("input",{type:"text",required:!0,value:r.title,onChange:g=>i({...r,title:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all font-bold text-lg text-slate-800",placeholder:"e.g., Computer Architecture Fundamentals"})]}),O.jsxs("div",{className:"col-span-2",children:[O.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Module Description"}),O.jsx("textarea",{value:r.description,onChange:g=>i({...r,description:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all text-sm leading-relaxed text-slate-800",rows:3,placeholder:"Brief summary for students..."})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Academic Stream"}),O.jsx("select",{value:r.category,onChange:g=>i({...r,category:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 appearance-none font-bold text-slate-800 shadow-sm",children:Iw.map(g=>O.jsx("option",{value:g,children:g},g))})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Duration (Minutes)"}),O.jsx("input",{type:"number",value:r.duration,onChange:g=>i({...r,duration:parseInt(g.target.value)}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 font-bold text-slate-800"})]})]}),O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"flex justify-between items-center px-4",children:[O.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Curriculum Items (",(m=r.questions)==null?void 0:m.length,")"]}),O.jsx("button",{type:"button",onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-blue-100",children:"Add Question"})]}),(v=r.questions)==null?void 0:v.map((g,y)=>O.jsxs("div",{className:"glass-morphism p-8 rounded-[2rem] border border-slate-200 relative group hover:border-blue-400 transition-all bg-white/80",children:[O.jsx("button",{type:"button",onClick:()=>u(y),className:"absolute top-6 right-6 text-slate-300 hover:text-red-500 transition-colors p-2",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",strokeWidth:2})})}),O.jsxs("div",{className:"mb-8",children:[O.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-[0.2em] mb-4 block",children:["Question Block ",y+1]}),O.jsx("input",{type:"text",required:!0,value:g.text,onChange:b=>c(y,"text",b.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all font-bold text-lg text-slate-800",placeholder:"The question content goes here..."})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.options.map((b,_)=>O.jsxs("div",{className:"flex items-center gap-4 group/opt",children:[O.jsx("input",{type:"radio",name:`correct_${g.id}`,checked:g.correctAnswer===_,onChange:()=>c(y,"correctAnswer",_),className:"w-6 h-6 rounded-full border-2 border-slate-200 appearance-none checked:bg-blue-600 checked:border-blue-600 cursor-pointer transition-all"}),O.jsx("input",{type:"text",required:!0,value:b,onChange:w=>d(y,_,w.target.value),className:`flex-1 bg-slate-50 border rounded-2xl px-5 py-3 text-sm focus:outline-none transition-all ${g.correctAnswer===_?"border-green-300 bg-green-50 text-green-700":"border-slate-200 text-slate-600 group-hover/opt:border-blue-200"}`,placeholder:`Choice ${String.fromCharCode(65+_)}`})]},_))})]},g.id))]}),O.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-white/80 backdrop-blur-2xl border-t border-slate-200 flex justify-center gap-4 z-40",children:[O.jsx("button",{type:"button",onClick:n,className:"px-10 py-4 rounded-2xl bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold text-xs uppercase tracking-widest transition-all",children:"Cancel Session"}),O.jsx("button",{type:"submit",className:"px-14 py-4 rounded-2xl bg-green-600 hover:bg-green-700 text-white font-black text-xs uppercase tracking-widest shadow-xl shadow-green-100 transition-all transform hover:scale-105 active:scale-95",children:"Deploy Assessment"})]})]})]})};function OI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=OI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=OI(e))&&(r&&(r+=" "),r+=t);return r}var aF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v0(e){if(typeof e!="string")return!1;var t=aF;return t.includes(e)}var sF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lF=new Set(sF);function RI(e){return typeof e!="string"?!1:lF.has(e)}function II(e){return typeof e=="string"&&e.startsWith("data-")}function Ji(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RI(n)||II(n))&&(t[n]=e[n]);return t}function g0(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ji(t)}return typeof e=="object"&&!Array.isArray(e)?Ji(e):null}function zn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RI(n)||II(n)||v0(n))&&(t[n]=e[n]);return t}var uF=["children","width","height","viewBox","className","style","title","desc"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ig.apply(null,arguments)}function cF(e,t){if(e==null)return{};var n,r,i=fF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MI=E.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=cF(e,uF),d=o||{width:r,height:i,x:0,y:0},h=Me("recharts-surface",a);return E.createElement("svg",ig({},zn(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),E.createElement("title",null,l),E.createElement("desc",null,u),n)}),dF=["children","className"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function hF(e,t){if(e==null)return{};var n,r,i=pF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wr=E.forwardRef((e,t)=>{var{children:n,className:r}=e,i=hF(e,dF),o=Me("recharts-layer",r);return E.createElement("g",og({className:o},zn(i),{ref:t}),n)}),mF=E.createContext(null);function Te(e){return function(){return e}}const PI=Math.cos,Wf=Math.sin,lr=Math.sqrt,Xf=Math.PI,gh=2*Xf,ag=Math.PI,sg=2*ag,vo=1e-6,vF=sg-vo;function NI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NI;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NI:gF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>vo)if(!(Math.abs(d*l-u*c)>vo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-s,g=l*l+u*u,y=m*m+v*v,b=Math.sqrt(g),_=Math.sqrt(h),w=o*Math.tan((ag-Math.acos((g+h-y)/(2*b*_)))/2),S=w/_,A=w/b;Math.abs(S-1)>vo&&this._append`L${t+S*c},${n+S*d}`,this._append`A${o},${o},0,0,${+(d*m>c*v)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vo||Math.abs(this._y1-c)>vo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%sg+sg),h>vF?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>vo&&this._append`A${r},${r},0,${+(h>=ag)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function y0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new yF(t)}function b0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DI(e){this._context=e}DI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yh(e){return new DI(e)}function kI(e){return e[0]}function UI(e){return e[1]}function LI(e,t){var n=Te(!0),r=null,i=yh,o=null,a=y0(s);e=typeof e=="function"?e:e===void 0?kI:Te(e),t=typeof t=="function"?t:t===void 0?UI:Te(t);function s(l){var u,c=(l=b0(l)).length,d,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Te(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Te(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Te(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Tc(e,t,n){var r=null,i=Te(!0),o=null,a=yh,s=null,l=y0(u);e=typeof e=="function"?e:e===void 0?kI:Te(+e),t=typeof t=="function"?t:Te(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?UI:Te(+n);function u(d){var h,m,v,g=(d=b0(d)).length,y,b=!1,_,w=new Array(g),S=new Array(g);for(o==null&&(s=a(_=l())),h=0;h<=g;++h){if(!(h<g&&i(y=d[h],h,d))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(w[v],S[v]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+e(y,h,d),S[h]=+t(y,h,d),s.point(r?+r(y,h,d):w[h],n?+n(y,h,d):S[h]))}if(_)return s=null,_+""||null}function c(){return LI().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Te(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Te(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Te(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Te(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Te(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Te(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Te(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class BI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bF(e){return new BI(e,!0)}function _F(e){return new BI(e,!1)}const _0={draw(e,t){const n=lr(t/Xf);e.moveTo(n,0),e.arc(0,0,n,0,gh)}},wF={draw(e,t){const n=lr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},$I=lr(1/3),SF=$I*2,EF={draw(e,t){const n=lr(t/SF),r=n*$I;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},TF={draw(e,t){const n=lr(t),r=-n/2;e.rect(r,r,n,n)}},AF=.8908130915292852,zI=Wf(Xf/10)/Wf(7*Xf/10),xF=Wf(gh/10)*zI,CF=-PI(gh/10)*zI,OF={draw(e,t){const n=lr(t*AF),r=xF*n,i=CF*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=gh*o/5,s=PI(a),l=Wf(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},pm=lr(3),RF={draw(e,t){const n=-lr(t/(pm*3));e.moveTo(0,n*2),e.lineTo(-pm*n,-n),e.lineTo(pm*n,-n),e.closePath()}},En=-.5,Tn=lr(3)/2,lg=1/lr(12),IF=(lg/2+1)*3,MF={draw(e,t){const n=lr(t/IF),r=n/2,i=n*lg,o=r,a=n*lg+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(En*r-Tn*i,Tn*r+En*i),e.lineTo(En*o-Tn*a,Tn*o+En*a),e.lineTo(En*s-Tn*l,Tn*s+En*l),e.lineTo(En*r+Tn*i,En*i-Tn*r),e.lineTo(En*o+Tn*a,En*a-Tn*o),e.lineTo(En*s+Tn*l,En*l-Tn*s),e.closePath()}};function PF(e,t){let n=null,r=y0(i);e=typeof e=="function"?e:Te(e||_0),t=typeof t=="function"?t:Te(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Te(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Te(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Qf(){}function Zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qI(e){this._context=e}qI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NF(e){return new qI(e)}function HI(e){this._context=e}HI.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DF(e){return new HI(e)}function GI(e){this._context=e}GI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kF(e){return new GI(e)}function VI(e){this._context=e}VI.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UF(e){return new VI(e)}function BE(e){return e<0?-1:1}function $E(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(BE(o)+BE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function mm(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ed(e){this._context=e}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mm(this,this._t0,zE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mm(this,zE(this,n=$E(this,e,t)),n);break;default:mm(this,this._t0,n=$E(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jI(e){this._context=new FI(e)}(jI.prototype=Object.create(ed.prototype)).point=function(e,t){ed.prototype.point.call(this,t,e)};function FI(e){this._context=e}FI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function LF(e){return new ed(e)}function BF(e){return new jI(e)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=qE(e),i=qE(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function $F(e){return new KI(e)}function bh(e,t){this._context=e,this._t=t}bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zF(e){return new bh(e,.5)}function qF(e){return new bh(e,0)}function HF(e){return new bh(e,1)}function $o(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ug(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function GF(e,t){return e[t]}function VF(e){const t=[];return t.key=e,t}function jF(){var e=Te([]),t=ug,n=$o,r=GF;function i(o){var a=Array.from(e.apply(this,arguments),VF),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=b0(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Te(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Te(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?ug:typeof o=="function"?o:Te(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??$o,i):n},i}function FF(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}$o(e,t)}}function KF(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}$o(e,t)}}function YF(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,v=0;v<s;++v){var g=e[t[v]],y=g[r][1]||0,b=g[r-1][1]||0;m+=y-b}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,$o(e,t)}}var _h={},YI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(YI);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(w0);var wh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(wh);var Sh={},JI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(JI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI,n=wh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const d=i[s];u?d==="\\"&&s+1<a?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,s++}return l&&o.push(l),o}e.toPath=r})(Sh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI,n=w0,r=wh,i=Sh;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(_h);var JF=_h.get;const us=or(JF);var WF=4;function Ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WF,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,a)=>{var s=n[a-1];return typeof s=="string"?i+s+o:s!==void 0?i+Ni(s)+o:i+o},"")}var fn=e=>e===0?0:e>0?1:-1,_r=e=>typeof e=="number"&&e!=+e,zo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,F=e=>(typeof e=="number"||e instanceof Number)&&!_r(e),wr=e=>F(e)||typeof e=="string",XF=0,ru=e=>{var t=++XF;return"".concat(e||"").concat(t)},rr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&typeof t!="string")return r;var o;if(zo(t)){if(n==null)return r;var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return _r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},WI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function St(e,t,n){return F(e)&&F(t)?Ni(e+n*(t-e)):t}function QF(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):us(r,t))===n)}var ft=e=>e===null||typeof e>"u",Pu=e=>ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mr(e){return e!=null}function Ms(){}var ZF=["type","size","sizeType"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cg.apply(null,arguments)}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){e5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e5(e,t,n){return(t=t5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t5(e){var t=n5(e,"string");return typeof t=="symbol"?t:t+""}function n5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r5(e,t){if(e==null)return{};var n,r,i=i5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XI={symbolCircle:_0,symbolCross:wF,symbolDiamond:EF,symbolSquare:TF,symbolStar:OF,symbolTriangle:RF,symbolWye:MF},o5=Math.PI/180,a5=e=>{var t="symbol".concat(Pu(e));return XI[t]||_0},s5=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*o5;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},l5=(e,t)=>{XI["symbol".concat(Pu(e))]=t},QI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=r5(e,ZF),o=GE(GE({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=a5(a),m=PF().type(h).size(s5(n,r,a)),v=m();if(v!==null)return v},{className:l,cx:u,cy:c}=o,d=zn(o);return F(u)&&F(c)&&F(n)?E.createElement("path",cg({},d,{className:Me("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};QI.registerSymbol=l5;var ZI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,u5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{v0(i)&&(r[i]=o=>n[i](n,o))}),r},c5=(e,t,n)=>r=>(e(t,n,r),null),S0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];v0(i)&&typeof o=="function"&&(r||(r={}),r[i]=c5(o,t,n))}),r};function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){d5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d5(e,t,n){return(t=h5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h5(e){var t=p5(e,"string");return typeof t=="symbol"?t:t+""}function p5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t){var n=f5({},e),r=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}var eM={},tM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a,o,n);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(tM);var nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(nM);var E0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(E0);var rM={},Eh={},iM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(iM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Eh);var oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eh,n=oM;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(rM);var aM={},sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_h;function n(r){return function(i){return t.get(i,r)}}e.property=n})(sM);var lM={},T0={},uM={},A0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(A0);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(x0);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(C0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0,n=x0,r=C0;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):o(c,d,function m(v,g,y,b,_,w){const S=h(v,g,y,b,_,w);return S!==void 0?!!S:o(v,g,m,w)},new Map)}function o(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,h,m);case"function":return Object.keys(d).length>0?o(c,{...d},h,m):r.isEqualsSameValueZero(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.isEqualsSameValueZero(c,d)}}function a(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,m);if(d instanceof Map)return s(c,d,h,m);if(d instanceof Set)return u(c,d,h,m);const v=Object.keys(d);if(c==null||n.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let g=0;g<v.length;g++){const y=v[g];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!h(c[y],d[y],y,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,g]of d.entries()){const y=c.get(v);if(h(y,g,v,c,d,m)===!1)return!1}return!0}function l(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let g=0;g<d.length;g++){const y=d[g];let b=!1;for(let _=0;_<c.length;_++){if(v.has(_))continue;const w=c[_];let S=!1;if(h(w,y,g,c,d,m)&&(S=!0),S){v.add(_),b=!0;break}}if(!b)return!1}return!0}function u(c,d,h,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(uM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(T0);var cM={},O0={},fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(fM);var Th={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Th);var R0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",b="[object Uint8ClampedArray]",_="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",x="[object Int32Array]",R="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=C,e.float64ArrayTag=I,e.functionTag=d,e.int16ArrayTag=T,e.int32ArrayTag=x,e.int8ArrayTag=A,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=_,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=b})(R0);var dM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(dM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM,n=Th,r=R0,i=x0,o=dM;function a(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,m=new Map,v=void 0){const g=v==null?void 0:v(c,d,h,m);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const y=new Array(c.length);m.set(c,y);for(let b=0;b<c.length;b++)y[b]=s(c[b],b,h,m,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;m.set(c,y);for(const[b,_]of c)y.set(b,s(_,b,h,m,v));return y}if(c instanceof Set){const y=new Set;m.set(c,y);for(const b of c)y.add(s(b,void 0,h,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,y);for(let b=0;b<c.length;b++)y[b]=s(c[b],b,h,m,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,y),l(y,c,h,m,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Error){const y=new c.constructor;return m.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,m,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof String){const y=new String(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return m.set(c,y),l(y,c,h,m,v),y}return c}function l(c,d,h=c,m,v){const g=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<g.length;y++){const b=g[y],_=Object.getOwnPropertyDescriptor(c,b);(_==null||_.writable)&&(c[b]=s(d[b],b,h,m,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})(O0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0,n=cM;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(lM);var hM={},pM={},mM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O0,n=Th,r=R0;function i(o,a){return t.cloneDeepWith(o,(s,l,u,c)=>{const d=a==null?void 0:a(s,l,u,c);if(d!==void 0)return d;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const h={};return c.set(o,h),t.copyProperties(h,o,u,c),h}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(h,o),h}case r.argumentsTag:{const h={};return t.copyProperties(h,o),h.length=o.length,h[Symbol.iterator]=o[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(mM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(pM);var vM={},I0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(I0);var gM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Th;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(gM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0,n=I0,r=gM,i=Sh;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(vM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0,n=wh,r=pM,i=_h,o=vM;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=a})(hM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0,n=sM,r=lM,i=hM;function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=o})(aM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM,n=nM,r=E0,i=rM,o=aM;function a(s,l=r.identity){return i.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(o.iteratee(l),1)):[]}e.uniqBy=a})(eM);var m5=eM.uniqBy;const jE=or(m5);function v5(e,t,n){return t===!0?jE(e,n):typeof t=="function"?jE(e,t):e}var yM={exports:{}},bM={},_M={exports:{}},wM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=E;function g5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y5=typeof Object.is=="function"?Object.is:g5,b5=cs.useState,_5=cs.useEffect,w5=cs.useLayoutEffect,S5=cs.useDebugValue;function E5(e,t){var n=t(),r=b5({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return w5(function(){i.value=n,i.getSnapshot=t,vm(i)&&o({inst:i})},[e,n,t]),_5(function(){return vm(i)&&o({inst:i}),e(function(){vm(i)&&o({inst:i})})},[e]),S5(n),n}function vm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!y5(e,n)}catch{return!0}}function T5(e,t){return t()}var A5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T5:E5;wM.useSyncExternalStore=cs.useSyncExternalStore!==void 0?cs.useSyncExternalStore:A5;_M.exports=wM;var x5=_M.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=E,C5=x5;function O5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R5=typeof Object.is=="function"?Object.is:O5,I5=C5.useSyncExternalStore,M5=Ah.useRef,P5=Ah.useEffect,N5=Ah.useMemo,D5=Ah.useDebugValue;bM.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=M5(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=N5(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var v=a.value;if(i(v,m))return d=v}return d=m}if(v=d,R5(c,m))return v;var g=r(m);return i!==void 0&&i(v,g)?(c=m,v):(c=m,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=I5(e,o[0],o[1]);return P5(function(){a.hasValue=!0,a.value=s},[s]),D5(s),s};yM.exports=bM;var k5=yM.exports,M0=E.createContext(null),U5=e=>e,Ve=()=>{var e=E.useContext(M0);return e?e.store.dispatch:U5},of=()=>{},L5=()=>of,B5=(e,t)=>e===t;function Y(e){var t=E.useContext(M0),n=E.useMemo(()=>t?r=>{if(r!=null)return e(r)}:of,[t,e]);return k5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L5,t?t.store.getState:of,t?t.store.getState:of,n,B5)}function $5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function z5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function q5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var FE=e=>Array.isArray(e)?e:[e];function H5(e){const t=Array.isArray(e[0])?e[0]:e;return q5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function G5(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var V5=class{constructor(e){this.value=e}deref(){return this.value}},j5=typeof WeakRef<"u"?WeakRef:V5,F5=0,KE=1;function Ac(){return{s:F5,v:void 0,o:null,p:null}}function SM(e,t={}){let n=Ac();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var d;let s=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(v);y===void 0?(s=Ac(),g.set(v,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(v);y===void 0?(s=Ac(),g.set(v,s)):s=y}}const u=s;let c;if(s.s===KE)c=s.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new j5(c):c}return u.s=KE,u.v=c,c}return a.clearCache=()=>{n=Ac(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function K5(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),$5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=SM,argsMemoizeOptions:v=[]}=c,g=FE(h),y=FE(v),b=H5(i),_=d(function(){return o++,u.apply(null,arguments)},...g),w=m(function(){a++;const A=G5(b,arguments);return s=_.apply(null,A),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var M=K5(SM),Y5=Object.assign((e,t=M)=>{z5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>Y5}),EM={},TM={},AM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=t(r),s=t(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=n})(AM);var xM={},P0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(P0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(xM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AM,n=xM,r=Sh;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let g=m;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},c=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,d=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return o.map(m=>({original:m,criteria:d.map(v=>c(v,m))})).slice().sort((m,v)=>{for(let g=0;g<d.length;g++){const y=t.compareValues(m.criteria[g],v.criteria[g],s[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(TM);var CM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}e.flatten=t})(CM);var N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0,n=Eh,r=A0,i=C0;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.isEqualsSameValueZero(l[s],a):!1}e.isIterateeCall=o})(N0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TM,n=CM,r=N0;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,n.flatten(a),["asc"])}e.sortBy=i})(EM);var J5=EM.sortBy;const xh=or(J5);var OM=e=>e.legend.settings,W5=e=>e.legend.size,X5=e=>e.legend.payload;M([X5,OM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?xh(r,n):r});var xc=1;function Q5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>xc||Math.abs(a.left-t.left)>xc||Math.abs(a.top-t.top)>xc||Math.abs(a.width-t.width)>xc)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z5=typeof Symbol=="function"&&Symbol.observable||"@@observable",YE=Z5,gm=()=>Math.random().toString(36).substring(7).split("").join("."),e6={INIT:`@@redux/INIT${gm()}`,REPLACE:`@@redux/REPLACE${gm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gm()}`},td=e6;function D0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RM(e,t,n){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bt(1));return n(RM)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((y,b)=>{a.set(b,y)}))}function c(){if(l)throw new Error(bt(3));return i}function d(y){if(typeof y!="function")throw new Error(bt(4));if(l)throw new Error(bt(5));let b=!0;u();const _=s++;return a.set(_,y),function(){if(b){if(l)throw new Error(bt(6));b=!1,u(),a.delete(_),o=null}}}function h(y){if(!D0(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(l)throw new Error(bt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=a).forEach(_=>{_()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));r=y,h({type:td.REPLACE})}function v(){const y=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(bt(11));function _(){const S=b;S.next&&S.next(c())}return _(),{unsubscribe:y(_)}},[YE](){return this}}}return h({type:td.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:m,[YE]:v}}function t6(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:td.INIT})>"u")throw new Error(bt(12));if(typeof n(void 0,{type:td.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function IM(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{t6(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],m=a[d],v=h(m,s);if(typeof v>"u")throw s&&s.type,new Error(bt(14));u[d]=v,l=l||v!==m}return l=l||r.length!==Object.keys(a).length,l?u:a}}function nd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function n6(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(bt(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=e.map(l=>l(a));return o=nd(...s)(i.dispatch),{...i,dispatch:o}}}function MM(e){return D0(e)&&"type"in e&&typeof e.type=="string"}var PM=Symbol.for("immer-nothing"),JE=Symbol.for("immer-draftable"),Lt=Symbol.for("immer-state");function Xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dn=Object,fs=dn.getPrototypeOf,rd="constructor",Ch="prototype",fg="configurable",id="enumerable",af="writable",iu="value",Xr=e=>!!e&&!!e[Lt];function ir(e){var t;return e?NM(e)||Rh(e)||!!e[JE]||!!((t=e[rd])!=null&&t[JE])||Ih(e)||Mh(e):!1}var r6=dn[Ch][rd].toString(),WE=new WeakMap;function NM(e){if(!e||!k0(e))return!1;const t=fs(e);if(t===null||t===dn[Ch])return!0;const n=dn.hasOwnProperty.call(t,rd)&&t[rd];if(n===Object)return!0;if(!wa(n))return!1;let r=WE.get(n);return r===void 0&&(r=Function.toString.call(n),WE.set(n,r)),r===r6}function Oh(e,t,n=!0){Nu(e)===0?(n?Reflect.ownKeys(e):dn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Nu(e){const t=e[Lt];return t?t.type_:Rh(e)?1:Ih(e)?2:Mh(e)?3:0}var XE=(e,t,n=Nu(e))=>n===2?e.has(t):dn[Ch].hasOwnProperty.call(e,t),dg=(e,t,n=Nu(e))=>n===2?e.get(t):e[t],od=(e,t,n,r=Nu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function i6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Rh=Array.isArray,Ih=e=>e instanceof Map,Mh=e=>e instanceof Set,k0=e=>typeof e=="object",wa=e=>typeof e=="function",ym=e=>typeof e=="boolean";function o6(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Pr=e=>e.copy_||e.base_,U0=e=>e.modified_?e.copy_:e.base_;function hg(e,t){if(Ih(e))return new Map(e);if(Mh(e))return new Set(e);if(Rh(e))return Array[Ch].slice.call(e);const n=NM(e);if(t===!0||t==="class_only"&&!n){const r=dn.getOwnPropertyDescriptors(e);delete r[Lt];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[af]===!1&&(s[af]=!0,s[fg]=!0),(s.get||s.set)&&(r[a]={[fg]:!0,[af]:!0,[id]:s[id],[iu]:e[a]})}return dn.create(fs(e),r)}else{const r=fs(e);if(r!==null&&n)return{...e};const i=dn.create(r);return dn.assign(i,e)}}function L0(e,t=!1){return Ph(e)||Xr(e)||!ir(e)||(Nu(e)>1&&dn.defineProperties(e,{set:Cc,add:Cc,clear:Cc,delete:Cc}),dn.freeze(e),t&&Oh(e,(n,r)=>{L0(r,!0)},!1)),e}function a6(){Xn(2)}var Cc={[iu]:a6};function Ph(e){return e===null||!k0(e)?!0:dn.isFrozen(e)}var ad="MapSet",pg="Patches",QE="ArrayMethods",DM={};function qo(e){const t=DM[e];return t||Xn(0,e),t}var ZE=e=>!!DM[e],ou,kM=()=>ou,s6=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZE(ad)?qo(ad):void 0,arrayMethodsPlugin_:ZE(QE)?qo(QE):void 0});function eT(e,t){t&&(e.patchPlugin_=qo(pg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mg(e){vg(e),e.drafts_.forEach(l6),e.drafts_=null}function vg(e){e===ou&&(ou=e.parent_)}var tT=e=>ou=s6(ou,e);function l6(e){const t=e[Lt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Lt].modified_&&(mg(t),Xn(4)),ir(e)&&(e=rT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Lt].base_,e,t)}else e=rT(t,n);return u6(t,e,!0),mg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PM?e:void 0}function rT(e,t){if(Ph(t))return t;const n=t[Lt];if(!n)return sd(t,e.handledSet_,e);if(!Nh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);BM(n,e)}return n.copy_}function u6(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&L0(t,n)}function UM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Nh=(e,t)=>e.scope_===t,c6=[];function LM(e,t,n,r){const i=Pr(e),o=e.type_;if(r!==void 0&&dg(i,r,o)===t){od(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Oh(i,(l,u)=>{if(Xr(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=e.draftLocations_.get(t)??c6;for(const s of a)od(i,s,n,o)}function f6(e,t,n){e.callbacks_.push(function(i){var s;const o=t;if(!o||!Nh(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=U0(o);LM(e,o.draft_??o,a,n),BM(o,i)})}function BM(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}UM(e)}}function d6(e,t,n){const{scope_:r}=e;if(Xr(n)){const i=n[Lt];Nh(i,r)&&i.callbacks_.push(function(){sf(e);const a=U0(i);LM(e,n,a,t)})}else ir(n)&&e.callbacks_.push(function(){const o=Pr(e);e.type_===3?o.has(n)&&sd(n,r.handledSet_,r):dg(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sd(dg(e.copy_,t,e.type_),r.handledSet_,r)})}function sd(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Xr(e)||t.has(e)||!ir(e)||Ph(e)||(t.add(e),Oh(e,(r,i)=>{if(Xr(i)){const o=i[Lt];if(Nh(o,n)){const a=U0(o);od(e,r,a,e.type_),UM(o)}}else ir(i)&&sd(i,t,n)})),e}function h6(e,t){const n=Rh(e),r={type_:n?1:0,scope_:t?t.scope_:kM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=ld;n&&(i=[r],o=au);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var ld={get(e,t){if(t===Lt)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Pr(e);if(!XE(i,t,e.type_))return p6(e,i,t);const o=i[t];if(e.finalized_||!ir(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&o6(t))return o;if(o===bm(e.base_,t)){sf(e);const a=e.type_===1?+t:t,s=yg(e.scope_,o,e,a);return e.copy_[a]=s}return o},has(e,t){return t in Pr(e)},ownKeys(e){return Reflect.ownKeys(Pr(e))},set(e,t,n){const r=$M(Pr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=bm(Pr(e),t),o=i==null?void 0:i[Lt];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(i6(n,i)&&(n!==void 0||XE(e.base_,t,e.type_)))return!0;sf(e),gg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),d6(e,t,n)),!0},deleteProperty(e,t){return sf(e),bm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[af]:!0,[fg]:e.type_!==1||t!=="length",[id]:r[id],[iu]:n[t]}},defineProperty(){Xn(11)},getPrototypeOf(e){return fs(e.base_)},setPrototypeOf(){Xn(12)}},au={};for(let e in ld){let t=ld[e];au[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,n){return ld.set.call(this,e[0],t,n,e[0])};function bm(e,t){const n=e[Lt];return(n?Pr(n):e)[t]}function p6(e,t,n){var i;const r=$M(t,n);return r?iu in r?r[iu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function $M(e,t){if(!(t in e))return;let n=fs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fs(n)}}function gg(e){e.modified_||(e.modified_=!0,e.parent_&&gg(e.parent_))}function sf(e){e.copy_||(e.assigned_=new Map,e.copy_=hg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(wa(n)&&!wa(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}wa(r)||Xn(6),i!==void 0&&!wa(i)&&Xn(7);let o;if(ir(n)){const a=tT(this),s=yg(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?mg(a):vg(a)}return eT(a,i),nT(o,a)}else if(!n||!k0(n)){if(o=r(n),o===void 0&&(o=n),o===PM&&(o=void 0),this.autoFreeze_&&L0(o,!0),i){const a=[],s=[];qo(pg).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else Xn(1,n)},this.produceWithPatches=(n,r)=>{if(wa(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},ym(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ym(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ym(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ir(t)||Xn(8),Xr(t)&&(t=nr(t));const n=tT(this),r=yg(n,t,void 0);return r[Lt].isManual_=!0,vg(n),r}finishDraft(t,n){const r=t&&t[Lt];(!r||!r.isManual_)&&Xn(9);const{scope_:i}=r;return eT(i,n),nT(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=qo(pg).applyPatches_;return Xr(t)?i(t,n):this.produce(t,o=>i(o,n))}};function yg(e,t,n,r){const[i,o]=Ih(t)?qo(ad).proxyMap_(t,n):Mh(t)?qo(ad).proxySet_(t,n):h6(t,n);return((n==null?void 0:n.scope_)??kM()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?f6(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function nr(e){return Xr(e)||Xn(10,e),zM(e)}function zM(e){if(!ir(e)||Ph(e))return e;const t=e[Lt];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=hg(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=hg(e,!0);return Oh(n,(i,o)=>{od(n,i,zM(o))},r),t&&(t.finalized_=!1),n}var v6=new m6,qM=v6.produce;function HM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var g6=HM(),y6=HM,b6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nd:nd.apply(null,arguments)};function qn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(gn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>MM(r)&&r.type===e,n}var GM=class ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ml.prototype)}static get[Symbol.species](){return ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ml(...t[0].concat(this)):new ml(...t.concat(this))}};function iT(e){return ir(e)?qM(e,()=>{}):e}function Oc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _6(e){return typeof e=="boolean"}var w6=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new GM;return n&&(_6(n)?a.push(g6):a.push(y6(n.extraArgument))),a},VM="RTK_autoBatch",Ne=()=>e=>({payload:e,meta:{[VM]:!0}}),oT=e=>t=>{setTimeout(t,e)},jM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oT(10):e.type==="callback"?e.queueNotification:oT(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[VM]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},S6=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new GM(e);return r&&i.push(jM(typeof r=="object"?r:void 0)),i};function E6(e){const t=w6(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(D0(n))s=IM(n);else throw new Error(gn(1));let l;typeof r=="function"?l=r(t):l=t();let u=nd;i&&(u=b6({trace:!1,...typeof i=="object"&&i}));const c=n6(...l),d=S6(c);let h=typeof a=="function"?a(d):d();const m=u(...h);return RM(s,o,m)}function FM(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(gn(28));if(s in t)throw new Error(gn(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function T6(e){return typeof e=="function"}function A6(e,t){let[n,r,i]=FM(t),o;if(T6(e))o=()=>iT(e());else{const s=iT(e);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Xr(c)){const m=d(c,l);return m===void 0?c:m}else{if(ir(c))return qM(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return a.getInitialState=o,a}var x6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C6=(e=21)=>{let t="",n=e;for(;n--;)t+=x6[Math.random()*64|0];return t},O6=Symbol.for("rtk-slice-createasyncthunk");function R6(e,t){return`${e}/${t}`}function I6({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[O6];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(gn(11));const s=(typeof i.reducers=="function"?i.reducers(P6()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(S,A){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(gn(12));if(T in u.sliceCaseReducersByType)throw new Error(gn(13));return u.sliceCaseReducersByType[T]=A,c},addMatcher(S,A){return u.sliceMatchers.push({matcher:S,reducer:A}),c},exposeAction(S,A){return u.actionCreators[S]=A,c},exposeCaseReducer(S,A){return u.sliceCaseReducersByName[S]=A,c}};l.forEach(S=>{const A=s[S],T={reducerName:S,type:R6(o,S),createNotation:typeof i.reducers=="function"};D6(A)?U6(T,A,c,t):N6(T,A,c)});function d(){const[S={},A=[],T=void 0]=typeof i.extraReducers=="function"?FM(i.extraReducers):[i.extraReducers],x={...S,...u.sliceCaseReducersByType};return A6(i.initialState,R=>{for(let C in x)R.addCase(C,x[C]);for(let C of u.sliceMatchers)R.addMatcher(C.matcher,C.reducer);for(let C of A)R.addMatcher(C.matcher,C.reducer);T&&R.addDefaultCase(T)})}const h=S=>S,m=new Map,v=new WeakMap;let g;function y(S,A){return g||(g=d()),g(S,A)}function b(){return g||(g=d()),g.getInitialState()}function _(S,A=!1){function T(R){let C=R[S];return typeof C>"u"&&A&&(C=Oc(v,T,b)),C}function x(R=h){const C=Oc(m,A,()=>new WeakMap);return Oc(C,R,()=>{const I={};for(const[N,P]of Object.entries(i.selectors??{}))I[N]=M6(P,R,()=>Oc(v,R,b),A);return I})}return{reducerPath:S,getSelectors:x,get selectors(){return x(T)},selectSlice:T}}const w={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,..._(a),injectInto(S,{reducerPath:A,...T}={}){const x=A??a;return S.inject({reducerPath:x,reducer:y},T),{...w,..._(x,!0)}}};return w}}function M6(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var Zt=I6();function P6(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function N6({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!k6(r))throw new Error(gn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?qn(e,a):qn(e))}function D6(e){return e._reducerDefinitionType==="asyncThunk"}function k6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function U6({type:e,reducerName:t},n,r,i){if(!i)throw new Error(gn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Rc,pending:s||Rc,rejected:l||Rc,settled:u||Rc})}function Rc(){}var L6="task",KM="listener",YM="completed",B0="cancelled",B6=`task-${B0}`,$6=`task-${YM}`,bg=`${KM}-${B0}`,z6=`${KM}-${YM}`,Dh=class{constructor(e){_p(this,"name","TaskAbortError");_p(this,"message");this.code=e,this.message=`${L6} ${B0} (reason: ${e})`}},$0=(e,t)=>{if(typeof e!="function")throw new TypeError(gn(32))},ud=()=>{},JM=(e,t=ud)=>(e.catch(t),e),WM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Io=e=>{if(e.aborted)throw new Dh(e.reason)};function XM(e,t){let n=ud;return new Promise((r,i)=>{const o=()=>i(new Dh(e.reason));if(e.aborted){o();return}n=WM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ud})}var q6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Dh?"cancelled":"rejected",error:n}}finally{t==null||t()}},cd=e=>t=>JM(XM(e,t).then(n=>(Io(e),n))),QM=e=>{const t=cd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Wa}=Object,aT={},kh="listenerMiddleware",H6=(e,t)=>{const n=r=>WM(e,()=>r.abort(e.reason));return(r,i)=>{$0(r);const o=new AbortController;n(o);const a=q6(async()=>{Io(e),Io(o.signal);const s=await r({pause:cd(o.signal),delay:QM(o.signal),signal:o.signal});return Io(o.signal),s},()=>o.abort($6));return i!=null&&i.autoJoin&&t.push(a.catch(ud)),{result:cd(e)(a),cancel(){o.abort(B6)}}}},G6=(e,t)=>{const n=async(r,i)=>{Io(t);let o=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await XM(t,Promise.race(s));return Io(t),l}finally{o()}};return(r,i)=>JM(n(r,i))},ZM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=qn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gn(21));return $0(o),{predicate:i,type:t,effect:o}},eP=Wa(e=>{const{type:t,predicate:n,effect:r}=ZM(e);return{id:C6(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>eP}),sT=(e,t)=>{const{type:n,effect:r,predicate:i}=ZM(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},_g=e=>{e.pending.forEach(t=>{t.abort(bg)})},V6=(e,t)=>()=>{for(const n of t.keys())_g(n);e.clear()},lT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},tP=Wa(qn(`${kh}/add`),{withTypes:()=>tP}),j6=qn(`${kh}/removeAll`),nP=Wa(qn(`${kh}/remove`),{withTypes:()=>nP}),F6=(...e)=>{console.error(`${kh}/error`,...e)},Du=(e={})=>{const t=new Map,n=new Map,r=m=>{const v=n.get(m)??0;n.set(m,v+1)},i=m=>{const v=n.get(m)??1;v===1?n.delete(m):n.set(m,v-1)},{extra:o,onError:a=F6}=e;$0(a);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&_g(m)}),l=m=>{const v=sT(t,m)??eP(m);return s(v)};Wa(l,{withTypes:()=>l});const u=m=>{const v=sT(t,m);return v&&(v.unsubscribe(),m.cancelActive&&_g(v)),!!v};Wa(u,{withTypes:()=>u});const c=async(m,v,g,y)=>{const b=new AbortController,_=G6(l,b.signal),w=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(v,Wa({},g,{getOriginalState:y,condition:(S,A)=>_(S,A).then(Boolean),take:_,delay:QM(b.signal),pause:cd(b.signal),extra:o,signal:b.signal,fork:H6(b.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,A,T)=>{S!==b&&(S.abort(bg),T.delete(S))})},cancel:()=>{b.abort(bg),m.pending.delete(b)},throwIfCancelled:()=>{Io(b.signal)}})))}catch(S){S instanceof Dh||lT(a,S,{raisedBy:"effect"})}finally{await Promise.all(w),b.abort(z6),i(m),m.pending.delete(b)}},d=V6(t,n);return{middleware:m=>v=>g=>{if(!MM(g))return v(g);if(tP.match(g))return l(g.payload);if(j6.match(g)){d();return}if(nP.match(g))return u(g.payload);let y=m.getState();const b=()=>{if(y===aT)throw new Error(gn(23));return y};let _;try{if(_=v(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const A of S){let T=!1;try{T=A.predicate(g,w,y)}catch(x){T=!1,lT(a,x,{raisedBy:"predicate"})}T&&c(A,g,m,b)}}}finally{y=aT}return _},startListening:l,stopListening:u,clearListeners:d}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rP=Zt({name:"chartLayout",initialState:K6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y6,setLayout:J6,setChartSize:W6,setScale:X6}=rP.actions,Q6=rP.reducer;function iP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function fe(e){return Number.isFinite(e)}function Wi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){Z6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z6(e,t,n){return(t=e8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return ft(e)||ft(t)?n:wr(t)?us(e,t,n):typeof t=="function"?t(e):n}var n8=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&F(e[o]))return La(La({},e),{},{[o]:e[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&F(e[a]))return La(La({},e),{},{[a]:e[a]+(i||0)})}return e},eo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",r8=(e,t)=>{if(!t||t.length!==2||!F(t[0])||!F(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!F(e[0])||e[0]<n)&&(i[0]=n),(!F(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},i8=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],h=_r(c)?d:c;h>=0?(u[0]=o,o+=h,u[1]=o):(u[0]=a,a+=h,u[1]=a)}}}},o8=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var s=e[a],l=s==null?void 0:s[i];if(l!=null){var u=_r(l[1])?l[0]:l[1];u>=0?(l[0]=o,o+=u,l[1]=o):(l[0]=0,l[1]=0)}}}},a8={sign:i8,expand:FF,none:$o,silhouette:KF,wiggle:YF,positive:o8},s8=(e,t,n)=>{var r,i=(r=a8[n])!==null&&r!==void 0?r:$o,o=jF().keys(t).value((s,l)=>Number(Ot(s,l,0))).order(ug).offset(i),a=o(e);return a.forEach((s,l)=>{s.forEach((u,c)=>{var d=Ot(e[c],t[l],0);Array.isArray(d)&&d.length===2&&F(d[0])&&F(d[1])&&(u[0]=d[0],u[1]=d[1])})}),a};function l8(e){return e==null?void 0:String(e)}var cT=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var s=Ot(o,t.dataKey,t.scale.domain()[a]);if(ft(s))return null;var l=t.scale.map(s);return F(l)?l-i/2+r:null},u8=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},c8=e=>{var t=e.flat(2).filter(F);return[Math.min(...t),Math.max(...t)]},f8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],d8=(e,t,n)=>{if(e!=null)return f8(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:a}=o,s=a.reduce((l,u)=>{var c=iP(u,t,n),d=c8(c);return!fe(d[0])||!fe(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},fT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=xh(t,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function hT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return La(La({},t),{},{dataKey:n,payload:r,value:i,name:o})}function oP(e,t){if(e)return String(e);if(typeof t=="string")return t}var h8=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},p8=(e,t)=>t==="centric"?e.angle:e.radius,li=e=>e.layout.width,ui=e=>e.layout.height,m8=e=>e.layout.scale,aP=e=>e.layout.margin,Uh=M(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lh=M(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),v8="data-recharts-item-index",g8="data-recharts-item-id",ku=60;function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t,n){return(t=b8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b8(e){var t=_8(e,"string");return typeof t=="symbol"?t:t+""}function _8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w8=e=>e.brush.height;function S8(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ku;return n+i}return n},0)}function E8(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ku;return n+i}return n},0)}function T8(e){var t=Uh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function A8(e){var t=Uh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ht=M([li,ui,aP,w8,S8,E8,T8,A8,OM,W5],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+a,bottom:(n.bottom||0)+s},h=Ic(Ic({},d),c),m=h.bottom;h.bottom+=r,h=n8(h,l,u);var v=e-h.left-h.right,g=t-h.top-h.bottom;return Ic(Ic({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(g,0)})}),x8=M(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),z0=M(li,ui,(e,t)=>({x:0,y:0,width:e,height:t})),C8=E.createContext(null),wn=()=>E.useContext(C8)!=null,Bh=e=>e.brush,$h=M([Bh,ht,aP],(e,t,n)=>({height:e.height,x:F(e.x)?e.x:t.left,y:F(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:F(e.width)?e.width:t.width})),sP={},lP={},uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},d=()=>{u&&c(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),a=void 0,s=null},y=()=>{c()},b=function(..._){if(i!=null&&i.aborted)return;a=this,s=_;const w=h==null;m(),l&&w&&c()};return b.schedule=m,b.cancel=g,b.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(...g){c=r.apply(this,g),d=null},i,{edges:u}),m=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},v=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=v,m}e.debounce=n})(lP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(r,i,{leading:a,maxWait:i,trailing:s})}e.throttle=n})(sP);var O8=sP.throttle;const R8=or(O8);var mT=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},vr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},cP=(e,t,n)=>{var{width:r=vr.width,height:i=vr.height,aspect:o,maxHeight:a}=n,s=zo(r)?e:Number(r),l=zo(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},I8={width:0,height:0,overflow:"visible"},M8={width:0,overflowX:"visible"},P8={height:0,overflowY:"visible"},N8={},D8=e=>{var{width:t,height:n}=e,r=zo(t),i=zo(n);return r&&i?I8:r?M8:i?P8:N8};function k8(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=vr.width,o=vr.height):i===void 0?i=r&&r>0?void 0:vr.width:o===void 0&&(o=r&&r>0?void 0:vr.height),{width:i,height:o}}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(null,arguments)}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){U8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U8(e,t,n){return(t=L8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fP=E.createContext(vr.initialDimension);function $8(e){return Wi(e.width)&&Wi(e.height)}function dP(e){var{children:t,width:n,height:r}=e,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return $8(i)?E.createElement(fP.Provider,{value:i},t):null}var q0=()=>E.useContext(fP),z8=E.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=vr.initialDimension,width:i,height:o,minWidth:a=vr.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=vr.debounce,id:d,className:h,onResize:m,style:v={}}=e,g=E.useRef(null),y=E.useRef();y.current=m,E.useImperativeHandle(t,()=>g.current);var[b,_]=E.useState({containerWidth:r.width,containerHeight:r.height}),w=E.useCallback((R,C)=>{_(I=>{var N=Math.round(R),P=Math.round(C);return I.containerWidth===N&&I.containerHeight===P?I:{containerWidth:N,containerHeight:P}})},[]);E.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Ms;var R=P=>{var q,H=P[0];if(H!=null){var{width:Z,height:k}=H.contentRect;w(Z,k),(q=y.current)===null||q===void 0||q.call(y,Z,k)}};c>0&&(R=R8(R,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(R),{width:I,height:N}=g.current.getBoundingClientRect();return w(I,N),C.observe(g.current),()=>{C.disconnect()}},[w,c]);var{containerWidth:S,containerHeight:A}=b;mT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:x}=cP(S,A,{width:i,height:o,aspect:n,maxHeight:l});return mT(T!=null&&T>0||x!=null&&x>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,x,i,o,a,s,n),E.createElement("div",{id:d?"".concat(d):void 0,className:Me("recharts-responsive-container",h),style:gT(gT({},v),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},E.createElement("div",{style:D8({width:i,height:o})},E.createElement(dP,{width:T,height:x},u)))}),q8=E.forwardRef((e,t)=>{var n=q0();if(Wi(n.width)&&Wi(n.height))return e.children;var{width:r,height:i}=k8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=cP(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return F(o)&&F(a)?E.createElement(dP,{width:o,height:a},e.children):E.createElement(z8,wg({},e,{width:r,height:i,ref:t}))});function H0(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zh=()=>{var e,t=wn(),n=Y(x8),r=Y($h),i=(e=Y(Bh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},H8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},G8=()=>{var e;return(e=Y(ht))!==null&&e!==void 0?e:H8},V8=()=>Y(li),j8=()=>Y(ui),_e=e=>e.layout.layoutType,Ps=()=>Y(_e),hP=()=>{var e=Ps();if(e==="horizontal"||e==="vertical")return e},pP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},F8=()=>{var e=Ps();return e!==void 0},Uu=e=>{var t=Ve(),n=wn(),{width:r,height:i}=e,o=q0(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),E.useEffect(()=>{!n&&Wi(a)&&Wi(s)&&t(W6({width:a,height:s}))},[t,n,a,s]),null},mP=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function ds(e){return!!e&&!!e[_n]}function Ho(e){var t;return e?vP(e)||Array.isArray(e)||!!e[yT]||!!((t=e.constructor)!=null&&t[yT])||Lu(e)||Hh(e):!1}var K8=Object.prototype.constructor.toString(),bT=new WeakMap;function vP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bT.get(n);return r===void 0&&(r=Function.toString.call(n),bT.set(n,r)),r===K8}function dd(e,t,n=!0){qh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qh(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:Lu(e)?2:Hh(e)?3:0}function Sg(e,t){return qh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gP(e,t,n){const r=qh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Y8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lu(e){return e instanceof Map}function Hh(e){return e instanceof Set}function go(e){return e.copy_||e.base_}function Eg(e,t){if(Lu(e))return new Map(e);if(Hh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=vP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[_n];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(su(e),r)}else{const r=su(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function G0(e,t=!1){return Gh(e)||ds(e)||!Ho(e)||(qh(e)>1&&Object.defineProperties(e,{set:Mc,add:Mc,clear:Mc,delete:Mc}),Object.freeze(e),t&&Object.values(e).forEach(n=>G0(n,!0))),e}function J8(){Qn(2)}var Mc={value:J8};function Gh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var W8={};function Go(e){const t=W8[e];return t||Qn(0,e),t}var lu;function yP(){return lu}function X8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _T(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tg(e){Ag(e),e.drafts_.forEach(Q8),e.drafts_=null}function Ag(e){e===lu&&(lu=e.parent_)}function wT(e){return lu=X8(lu,e)}function Q8(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ST(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[_n].modified_&&(Tg(t),Qn(4)),Ho(e)&&(e=hd(t,e),t.parent_||pd(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(n[_n].base_,e,t.patches_,t.inversePatches_)):e=hd(t,n,[]),Tg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mP?e:void 0}function hd(e,t,n){if(Gh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[_n];if(!i)return dd(t,(o,a)=>ET(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return pd(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),dd(a,(l,u)=>ET(e,i,o,l,u,n,s),r),pd(e,o,!1),n&&e.patches_&&Go("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ET(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=Gh(i);if(!(s&&!a)){if(ds(i)){const l=o&&t&&t.type_!==3&&!Sg(t.assigned_,r)?o.concat(r):void 0,u=hd(e,i,l);if(gP(n,r,u),ds(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ho(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;hd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Lu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&pd(e,i)}}}function pd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G0(t,n)}function Z8(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:yP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=V0;n&&(i=[r],o=uu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var V0={get(e,t){if(t===_n)return e;const n=go(e);if(!Sg(n,t))return eK(e,n,t);const r=n[t];return e.finalized_||!Ho(r)?r:r===_m(e.base_,t)?(wm(e),e.copy_[t]=Cg(r,e)):r},has(e,t){return t in go(e)},ownKeys(e){return Reflect.ownKeys(go(e))},set(e,t,n){const r=bP(go(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_m(go(e),t),o=i==null?void 0:i[_n];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Y8(n,i)&&(n!==void 0||Sg(e.base_,t)))return!0;wm(e),xg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _m(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wm(e),xg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=go(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return su(e.base_)},setPrototypeOf(){Qn(12)}},uu={};dd(V0,(e,t)=>{uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,n){return V0.set.call(this,e[0],t,n,e[0])};function _m(e,t){const n=e[_n];return(n?go(n):e)[t]}function eK(e,t,n){var i;const r=bP(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function bP(e,t){if(!(t in e))return;let n=su(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=su(n)}}function xg(e){e.modified_||(e.modified_=!0,e.parent_&&xg(e.parent_))}function wm(e){e.copy_||(e.copy_=Eg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Qn(6),r!==void 0&&typeof r!="function"&&Qn(7);let i;if(Ho(t)){const o=wT(this),a=Cg(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?Tg(o):Ag(o)}return _T(o,r),ST(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===mP&&(i=void 0),this.autoFreeze_&&G0(i,!0),r){const o=[],a=[];Go("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else Qn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ho(e)||Qn(8),ds(e)&&(e=nK(e));const t=wT(this),n=Cg(e,void 0);return n[_n].isManual_=!0,Ag(t),n}finishDraft(e,t){const n=e&&e[_n];(!n||!n.isManual_)&&Qn(9);const{scope_:r}=n;return _T(r,t),ST(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Go("Patches").applyPatches_;return ds(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Cg(e,t){const n=Lu(e)?Go("MapSet").proxyMap_(e,t):Hh(e)?Go("MapSet").proxySet_(e,t):Z8(e,t);return(t?t.scope_:yP()).drafts_.push(n),n}function nK(e){return ds(e)||Qn(10,e),_P(e)}function _P(e){if(!Ho(e)||Gh(e))return e;const t=e[_n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Eg(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Eg(e,!0);return dd(n,(i,o)=>{gP(n,i,_P(o))},r),t&&(t.finalized_=!1),n}var rK=new tK;rK.produce;var iK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wP=Zt({name:"legend",initialState:iK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ne()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ne()},removeLegendPayload:{reducer(e,t){var n=nr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ne()}}}),{setLegendSize:pie,setLegendSettings:mie,addLegendPayload:oK,replaceLegendPayload:aK,removeLegendPayload:sK}=wP.actions,lK=wP.reducer;function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dK(e){return Array.isArray(e)&&wr(e[0])&&wr(e[1])?e.join(" ~ "):e}var ca={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},hK=e=>{var{separator:t=ca.separator,contentStyle:n,itemStyle:r,labelStyle:i=ca.labelStyle,payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=ca.accessibilityLayer}=e,m=()=>{if(o&&o.length){var A={padding:0,margin:0},T=(s?xh(o,s):o).map((x,R)=>{if(x.type==="none")return null;var C=x.formatter||a||dK,{value:I,name:N}=x,P=I,q=N;if(C){var H=C(I,N,x,R,o);if(Array.isArray(H))[P,q]=H;else if(H!=null)P=H;else return null}var Z=Zs(Zs({},ca.itemStyle),{},{color:x.color||ca.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:Z},wr(q)?E.createElement("span",{className:"recharts-tooltip-item-name"},q):null,wr(q)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},P),E.createElement("span",{className:"recharts-tooltip-item-unit"},x.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},v=Zs(Zs({},ca.contentStyle),n),g=Zs({margin:0},i),y=!ft(c),b=y?c:"",_=Me("recharts-default-tooltip",l),w=Me("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(b=d(c,o));var S=h?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Og({className:_,style:v},S),E.createElement("p",{className:w,style:g},E.isValidElement(b)?b:"".concat(b)),m())},el="recharts-tooltip-wrapper",pK={visibility:"hidden"};function mK(e){var{coordinate:t,translateX:n,translateY:r}=e;return Me(el,{["".concat(el,"-right")]:F(n)&&t&&F(t.x)&&n>=t.x,["".concat(el,"-left")]:F(n)&&t&&F(t.x)&&n<t.x,["".concat(el,"-bottom")]:F(r)&&t&&F(t.y)&&r>=t.y,["".concat(el,"-top")]:F(r)&&t&&F(t.y)&&r<t.y})}function AT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&F(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?c:d;var h=l[r];if(h==null)return 0;if(a[r]){var m=c,v=h;return m<v?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var g=d+s,y=h+u;return g>y?Math.max(c,h):Math.max(d,h)}function vK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function gK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,c,d,h;return s.height>0&&s.width>0&&n?(d=AT({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=AT({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=vK({translateX:d,translateY:h,useTranslate3d:l})):c=pK,{cssProperties:c,cssClasses:mK({translateX:d,translateY:h,coordinate:n})}}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){Rg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rg(e,t,n){return(t=yK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _K extends E.PureComponent{constructor(){super(...arguments),Rg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:b}=this.props,_=typeof u=="number"?u:u.x,w=typeof u=="number"?u:u.y,{cssClasses:S,cssProperties:A}=gK({allowEscapeViewBox:n,coordinate:a,offsetLeft:_,offsetTop:w,position:c,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),T=b?{}:Pc(Pc({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=Pc(Pc({},T),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:x,ref:y},o)}}var SP=()=>{var e;return(e=Y(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ig.apply(null,arguments)}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){wK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wK(e,t,n){return(t=SK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT={curveBasisClosed:DF,curveBasisOpen:kF,curveBasis:NF,curveBumpX:bF,curveBumpY:_F,curveLinearClosed:UF,curveLinear:yh,curveMonotoneX:LF,curveMonotoneY:BF,curveNatural:$F,curveStep:zF,curveStepAfter:HF,curveStepBefore:qF},md=e=>fe(e.x)&&fe(e.y),IT=e=>e.base!=null&&md(e.base)&&md(e),tl=e=>e.x,nl=e=>e.y,TK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pu(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=RT["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return RT[n]||yh},MT={connectNulls:!1,type:"linear"},AK=e=>{var{type:t=MT.type,points:n=[],baseLine:r,layout:i,connectNulls:o=MT.connectNulls}=e,a=TK(t,i),s=o?n.filter(md):n;if(Array.isArray(r)){var l,u=n.map((v,g)=>OT(OT({},v),{},{base:r[g]}));i==="vertical"?l=Tc().y(nl).x1(tl).x0(v=>v.base.x):l=Tc().x(tl).y1(nl).y0(v=>v.base.y);var c=l.defined(IT).curve(a),d=o?u.filter(IT):u;return c(d)}var h;i==="vertical"&&F(r)?h=Tc().y(nl).x1(tl).x0(r):F(r)?h=Tc().x(tl).y1(nl).y0(r):h=LI().x(tl).y(nl);var m=h.defined(md).curve(a);return m(s)},EP=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Ps();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},s=n&&n.length?AK(a):r;return E.createElement("path",Ig({},Ji(e),u5(e),{className:Me("recharts-curve",t),d:s===null?void 0:s,ref:i}))},xK=["x","y","top","left","width","height","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){OK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OK(e,t,n){return(t=RK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RK(e){var t=IK(e,"string");return typeof t=="symbol"?t:t+""}function IK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MK(e,t){if(e==null)return{};var n,r,i=PK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NK=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),DK=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=MK(e,xK),u=CK({x:t,y:n,top:r,left:i,width:o,height:a},l);return!F(t)||!F(n)||!F(o)||!F(a)||!F(r)||!F(i)?null:E.createElement("path",Mg({},zn(u),{className:Me("recharts-cross",s),d:NK(t,n,o,a,r,i)}))};function kK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(r){UK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UK(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $K=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TP=(e,t,n)=>e.map(r=>"".concat($K(r)," ").concat(t,"ms ").concat(n)).join(","),zK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),cu=(e,t)=>Object.keys(t).reduce((n,r)=>DT(DT({},n),{},{[r]:e(r,t[r])}),{});function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){qK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qK(e,t,n){return(t=HK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd=(e,t,n)=>e+(t-e)*n,Pg=e=>{var{from:t,to:n}=e;return t!==n},AP=(e,t,n)=>{var r=cu((i,o)=>{if(Pg(o)){var[a,s]=e(o.from,o.to,o.velocity);return Ze(Ze({},o),{},{from:a,velocity:s})}return o},t);return n<1?cu((i,o)=>Pg(o)&&r[i]!=null?Ze(Ze({},o),{},{velocity:vd(o.velocity,r[i].velocity,n),from:vd(o.from,r[i].from,n)}):o,t):AP(e,r,n-1)};function VK(e,t,n,r,i,o){var a,s=r.reduce((h,m)=>Ze(Ze({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>cu((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Pg).length,c=null,d=h=>{a||(a=h);var m=h-a,v=m/n.dt;s=AP(n,s,v),i(Ze(Ze(Ze({},e),t),l())),a=h,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function jK(e,t,n,r,i,o,a){var s=null,l=i.reduce((d,h)=>{var m=e[h],v=t[h];return m==null||v==null?d:Ze(Ze({},d),{},{[h]:[m,v]})},{}),u,c=d=>{u||(u=d);var h=(d-u)/r,m=cu((g,y)=>vd(...y,n(h)),l);if(o(Ze(Ze(Ze({},e),t),m)),h<1)s=a.setTimeout(c);else{var v=cu((g,y)=>vd(...y,n(1)),l);o(Ze(Ze(Ze({},e),t),v))}};return()=>(s=a.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const FK=(e,t,n,r,i,o)=>{var a=zK(e,t);return n==null?()=>(i(Ze(Ze({},e),t)),()=>{}):n.isStepper===!0?VK(e,t,n,a,i,o):jK(e,t,n,r,a,i,o)};var gd=1e-4,xP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],CP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),UT=(e,t)=>n=>{var r=xP(e,t);return CP(r,n)},KK=(e,t)=>n=>{var r=xP(e,t),i=[...r.map((o,a)=>o*a).slice(1),0];return CP(i,n)},YK=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},JK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=YK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},WK=(e,t,n,r)=>{var i=UT(e,n),o=UT(t,r),a=KK(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var m=i(d)-c,v=a(d);if(Math.abs(m-c)<gd||v<gd)return o(d);d=s(d-m/v)}return o(d)};return l.isStepper=!1,l},LT=function(){return WK(...JK(...arguments))},XK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<gd&&Math.abs(d)<gd?[s,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},QK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LT(e);case"spring":return XK();default:if(e.split("(")[0]==="cubic-bezier")return LT(e)}return typeof e=="function"?e:null};function ZK(e){var t,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class eY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function tY(){return ZK(new eY)}var nY=E.createContext(tY);function rY(e,t){var n=E.useContext(nY);return E.useMemo(()=>t??n(e),[e,t,n])}var iY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vh={isSsr:iY()},oY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BT={t:0},Sm={t:1};function j0(e){var t=Gn(e,oY),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=n==="auto"?!Vh.isSsr:n,d=rY(t.animationId,t.animationManager),[h,m]=E.useState(c?BT:Sm),v=E.useRef(null);return E.useEffect(()=>{c||m(Sm)},[c]),E.useEffect(()=>{if(!c||!r)return Ms;var g=FK(BT,Sm,QK(o),i,m,d.getTimeoutController()),y=()=>{v.current=g()};return d.start([l,a,y,i,s]),()=>{d.stop(),v.current&&v.current(),s()}},[c,r,i,o,a,l,s,d]),u(h.t)}function F0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(ru(t)),r=E.useRef(e);return r.current!==e&&(n.current=ru(t),r.current=e),n.current}var aY=["radius"],sY=["radius"],$T,zT,qT,HT,GT,VT,jT,FT,KT,YT;function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){lY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lY(e,t,n){return(t=uY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(null,arguments)}function XT(e,t){if(e==null)return{};var n,r,i=fY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ur(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QT=(e,t,n,r,i)=>{var o=Ni(n),a=Ni(r),s=Math.min(Math.abs(o)/2,Math.abs(a)/2),l=a>=0?1:-1,u=o>=0?1:-1,c=a>=0&&o>=0||a<0&&o<0?1:0,d;if(s>0&&Array.isArray(i)){for(var h=[0,0,0,0],m=0,v=4;m<v;m++){var g,y=(g=i[m])!==null&&g!==void 0?g:0;h[m]=y>s?s:y}d=ze($T||($T=ur(["M",",",""])),e,t+l*h[0]),h[0]>0&&(d+=ze(zT||(zT=ur(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),d+=ze(qT||(qT=ur(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(d+=ze(HT||(HT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+n,t+l*h[1])),d+=ze(GT||(GT=ur(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(d+=ze(VT||(VT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+n-u*h[2],t+r)),d+=ze(jT||(jT=ur(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(d+=ze(FT||(FT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+r-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);d=ze(KT||(KT=ur(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,c,e+u*b,t,e+n-u*b,t,b,b,c,e+n,t+l*b,e+n,t+r-l*b,b,b,c,e+n-u*b,t+r,e+u*b,t+r,b,b,c,e,t+r-l*b)}else d=ze(YT||(YT=ur(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return d},ZT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OP=e=>{var t=Gn(e,ZT),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=E.useRef(s),b=E.useRef(l),_=E.useRef(o),w=E.useRef(a),S=E.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),A=F0(S,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var T=Me("recharts-rectangle",c);if(!g){var x=zn(t),{radius:R}=x,C=XT(x,aY);return E.createElement("path",yd({},C,{x:Ni(o),y:Ni(a),width:Ni(s),height:Ni(l),radius:typeof u=="number"?u:void 0,className:T,d:QT(o,a,s,l,u)}))}var I=y.current,N=b.current,P=_.current,q=w.current,H="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),k=TP(["strokeDasharray"],h,typeof d=="string"?d:ZT.animationEasing);return E.createElement(j0,{animationId:A,key:A,canBegin:r>0,duration:h,easing:d,isActive:g,begin:m},$=>{var B=St(I,s,$),j=St(N,l,$),X=St(P,o,$),ke=St(q,a,$);n.current&&(y.current=B,b.current=j,_.current=X,w.current=ke);var je;v?$>0?je={transition:k,strokeDasharray:Z}:je={strokeDasharray:H}:je={strokeDasharray:Z};var It=zn(t),{radius:Ue}=It,Sn=XT(It,sY);return E.createElement("path",yd({},Sn,{radius:typeof u=="number"?u:void 0,className:T,d:QT(X,ke,B,j,u),ref:n,style:WT(WT({},je),t.style)}))})};function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return(t=hY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=Math.PI/180,mY=e=>e*180/Math.PI,xt=(e,t,n,r)=>({x:e+Math.cos(-bd*r)*n,y:t+Math.sin(-bd*r)*n}),vY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},yY=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=gY({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:mY(l),angleInRadian:l}},bY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},_Y=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return e+a*360},wY=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=yY({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=bY(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?tA(tA({},t),{},{radius:i,angle:_Y(c,t)}):null};function RP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,a=xt(t,n,r,i),s=xt(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var nA,rA,iA,oA,aA,sA,lA;function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}function So(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SY=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nc=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/bd,d=l?i:i+o*c,h=xt(t,n,u,d),m=xt(t,n,r,d),v=l?i-o*c:i,g=xt(t,n,u*Math.cos(c*bd),v);return{center:h,circleTangency:m,lineTangency:g,theta:c}},IP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=SY(o,a),l=o+s,u=xt(t,n,i,o),c=xt(t,n,i,l),d=ze(nA||(nA=So(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(o>l),c.x,c.y);if(r>0){var h=xt(t,n,r,o),m=xt(t,n,r,l);d+=ze(rA||(rA=So(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(o<=l),h.x,h.y)}else d+=ze(iA||(iA=So(["L ",","," Z"])),t,n);return d},EY=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=fn(u-l),{circleTangency:d,lineTangency:h,theta:m}=Nc({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:v,lineTangency:g,theta:y}=Nc({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),b=s?Math.abs(l-u):Math.abs(l-u)-m-y;if(b<0)return a?ze(oA||(oA=So(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,o,o,o*2,o,o,-o*2):IP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _=ze(aA||(aA=So(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,o,o,+(c<0),d.x,d.y,i,i,+(b>180),+(c<0),v.x,v.y,o,o,+(c<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:A}=Nc({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:T,lineTangency:x,theta:R}=Nc({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=s?Math.abs(l-u):Math.abs(l-u)-A-R;if(C<0&&o===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+=ze(sA||(sA=So(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),x.x,x.y,o,o,+(c<0),T.x,T.y,r,r,+(C>180),+(c>0),w.x,w.y,o,o,+(c<0),S.x,S.y)}else _+=ze(lA||(lA=So(["L",",","Z"])),t,n);return _},TY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MP=e=>{var t=Gn(e,TY),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h=Me("recharts-sector",d),m=o-i,v=rr(a,m,0,!0),g;return v>0&&Math.abs(u-c)<360?g=EY({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):g=IP({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),E.createElement("path",Ng({},zn(t),{className:h,d:g}))};function AY(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(ZI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=xt(r,i,o,s),u=xt(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return RP(t)}}var PP={},NP={},DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(NP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0,n=NP;function r(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}e.range=r})(PP);var xY=PP.range;const kP=or(xY);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function K0(e){let t,n,r;e.length!==2?(t=Gi,n=(s,l)=>Gi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Gi||e===CY?e:OY,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function OY(){return 0}function UP(e){return e===null?NaN:+e}function*RY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const IY=K0(Gi),Bu=IY.right;K0(UP).center;class uA extends Map{constructor(t,n=NY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(cA(this,t))}has(t){return super.has(cA(this,t))}set(t,n){return super.set(MY(this,t),n)}delete(t){return super.delete(PY(this,t))}}function cA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function MY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function PY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function DY(e=Gi){if(e===Gi)return LP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function LP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kY=Math.sqrt(50),UY=Math.sqrt(10),LY=Math.sqrt(2);function _d(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=kY?10:o>=UY?5:o>=LY?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?_d(e,t,n*2):[s,l,u]}function Dg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?_d(t,e,n):_d(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function kg(e,t,n){return t=+t,e=+e,n=+n,_d(e,t,n)[2]}function Ug(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kg(t,e,n):kg(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function fA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function BP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?LP:DY(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*d/l+h)),v=Math.min(r,Math.floor(t+(l-u)*d/l+h));BP(e,t,m,v,i)}const o=e[t];let a=n,s=r;for(rl(e,n,t),i(e[r],o)>0&&rl(e,n,r);a<s;){for(rl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?rl(e,n,s):(++s,rl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function BY(e,t,n){if(e=Float64Array.from(RY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dA(e);if(t>=1)return fA(e);var r,i=(r-1)*t,o=Math.floor(i),a=fA(BP(e,o).subarray(0,o+1)),s=dA(e.subarray(o+1));return a+(s-a)*(i-o)}}function $Y(e,t,n=UP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function zY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lg=Symbol("implicit");function Y0(){var e=new uA,t=[],n=[],r=Lg;function i(o){let a=e.get(o);if(a===void 0){if(r!==Lg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new uA;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Y0(t,n).unknown(r)},Vn.apply(i,arguments),i}function J0(){var e=Y0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,m=i<r,v=m?i:r,g=m?r:i;o=(g-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(g-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=zY(h).map(function(b){return v+o*b});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return J0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Vn.apply(d(),arguments)}function $P(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $P(t())},e}function qY(){return $P(J0.apply(null,arguments).paddingInner(1))}function W0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $u(){}var fu=.7,wd=1/fu,Xa="\\s*([+-]?\\d+)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HY=/^#([0-9a-f]{3,8})$/,GY=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),VY=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),jY=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${du}\\)$`),FY=new RegExp(`^rgba\\(${br},${br},${br},${du}\\)$`),KY=new RegExp(`^hsl\\(${du},${br},${br}\\)$`),YY=new RegExp(`^hsla\\(${du},${br},${br},${du}\\)$`),hA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W0($u,hu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pA,formatHex:pA,formatHex8:JY,formatHsl:WY,formatRgb:mA,toString:mA});function pA(){return this.rgb().formatHex()}function JY(){return this.rgb().formatHex8()}function WY(){return qP(this).formatHsl()}function mA(){return this.rgb().formatRgb()}function hu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=HY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vA(t):n===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GY.exec(e))?new Yt(t[1],t[2],t[3],1):(t=VY.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jY.exec(e))?Dc(t[1],t[2],t[3],t[4]):(t=FY.exec(e))?Dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KY.exec(e))?bA(t[1],t[2]/100,t[3]/100,1):(t=YY.exec(e))?bA(t[1],t[2]/100,t[3]/100,t[4]):hA.hasOwnProperty(e)?vA(hA[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function vA(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function Dc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yt(e,t,n,r)}function XY(e){return e instanceof $u||(e=hu(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function Bg(e,t,n,r){return arguments.length===1?XY(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}W0(Yt,Bg,zP($u,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(Mo(this.r),Mo(this.g),Mo(this.b),Sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gA,formatHex:gA,formatHex8:QY,formatRgb:yA,toString:yA}));function gA(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function QY(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function yA(){const e=Sd(this.opacity);return`${e===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${e===1?")":`, ${e})`}`}function Sd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return e=Mo(e),(e<16?"0":"")+e.toString(16)}function bA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zn(e,t,n,r)}function qP(e){if(e instanceof Zn)return new Zn(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=hu(e)),!e)return new Zn;if(e instanceof Zn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Zn(a,s,l,e.opacity)}function ZY(e,t,n,r){return arguments.length===1?qP(e):new Zn(e,t,n,r??1)}function Zn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}W0(Zn,ZY,zP($u,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Yt(Em(e>=240?e-240:e+120,i,r),Em(e,i,r),Em(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zn(_A(this.h),kc(this.s),kc(this.l),Sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sd(this.opacity);return`${e===1?"hsl(":"hsla("}${_A(this.h)}, ${kc(this.s)*100}%, ${kc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _A(e){return e=(e||0)%360,e<0?e+360:e}function kc(e){return Math.max(0,Math.min(1,e||0))}function Em(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const X0=e=>()=>e;function e9(e,t){return function(n){return e+n*t}}function t9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function n9(e){return(e=+e)==1?HP:function(t,n){return n-t?t9(t,n,e):X0(isNaN(t)?n:t)}}function HP(e,t){var n=t-e;return n?e9(e,n):X0(isNaN(e)?t:e)}const wA=function e(t){var n=n9(t);function r(i,o){var a=n((i=Bg(i)).r,(o=Bg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=HP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function r9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function i9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ns(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function a9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ed(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function s9(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ns(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tm=new RegExp($g.source,"g");function l9(e){return function(){return e}}function u9(e){return function(t){return e(t)+""}}function c9(e,t){var n=$g.lastIndex=Tm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=$g.exec(e))&&(i=Tm.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ed(r,i)})),n=Tm.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?u9(l[0].x):l9(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Ns(e,t){var n=typeof t,r;return t==null||n==="boolean"?X0(t):(n==="number"?Ed:n==="string"?(r=hu(t))?(t=r,wA):c9:t instanceof hu?wA:t instanceof Date?a9:i9(t)?r9:Array.isArray(t)?o9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s9:Ed)(e,t)}function Q0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function f9(e,t){t===void 0&&(t=e,e=Ns);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function d9(e){return function(){return e}}function Td(e){return+e}var SA=[0,1];function kt(e){return e}function zg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:d9(isNaN(t)?NaN:.5)}function h9(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function p9(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=zg(i,r),o=n(a,o)):(r=zg(r,i),o=n(o,a)),function(s){return o(r(s))}}function m9(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=zg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Bu(e,s,1,r)-1;return o[l](i[l](s))}}function zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jh(){var e=SA,t=SA,n=Ns,r,i,o,a=kt,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==kt&&(a=h9(e[0],e[h-1])),s=h>2?m9:p9,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),Ed)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Td),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Q0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:kt,c()):a!==kt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return r=h,i=m,c()}}function Z0(){return jh()(kt,kt)}function v9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ad(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hs(e){return e=Ad(Math.abs(e)),e?e[1]:NaN}function g9(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function y9(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var b9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(e){if(!(t=b9.exec(e)))throw new Error("invalid format: "+e);var t;return new eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pu.prototype=eb.prototype;function eb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _9(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var xd;function w9(e,t){var n=Ad(e,t);if(!n)return xd=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(xd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ad(e,Math.max(0,t+o-1))[0]}function EA(e,t){var n=Ad(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:v9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EA(e*100,t),r:EA,s:w9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AA(e){return e}var xA=Array.prototype.map,CA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S9(e){var t=e.grouping===void 0||e.thousands===void 0?AA:g9(xA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?AA:y9(xA.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,h){d=pu(d);var m=d.fill,v=d.align,g=d.sign,y=d.symbol,b=d.zero,_=d.width,w=d.comma,S=d.precision,A=d.trim,T=d.type;T==="n"?(w=!0,T="g"):TA[T]||(S===void 0&&(S=12),A=!0,T="g"),(b||m==="0"&&v==="=")&&(b=!0,m="0",v="=");var x=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),R=(y==="$"?r:/[%p]/.test(T)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),C=TA[T],I=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function N(P){var q=x,H=R,Z,k,$;if(T==="c")H=C(P)+H,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),S),A&&(P=_9(P)),B&&+P==0&&g!=="+"&&(B=!1),q=(B?g==="("?g:s:g==="-"||g==="("?"":g)+q,H=(T==="s"&&!isNaN(P)&&xd!==void 0?CA[8+xd/3]:"")+H+(B&&g==="("?")":""),I){for(Z=-1,k=P.length;++Z<k;)if($=P.charCodeAt(Z),48>$||$>57){H=($===46?i+P.slice(Z+1):P.slice(Z))+H,P=P.slice(0,Z);break}}}w&&!b&&(P=t(P,1/0));var j=q.length+P.length+H.length,X=j<_?new Array(_-j+1).join(m):"";switch(w&&b&&(P=t(X+P,X.length?_-H.length:1/0),X=""),v){case"<":P=q+P+H+X;break;case"=":P=q+X+P+H;break;case"^":P=X.slice(0,j=X.length>>1)+q+P+H+X.slice(j);break;default:P=X+q+P+H;break}return o(P)}return N.toString=function(){return d+""},N}function c(d,h){var m=Math.max(-8,Math.min(8,Math.floor(hs(h)/3)))*3,v=Math.pow(10,-m),g=u((d=pu(d),d.type="f",d),{suffix:CA[8+m/3]});return function(y){return g(v*y)}}return{format:u,formatPrefix:c}}var Uc,tb,GP;E9({thousands:",",grouping:[3],currency:["$",""]});function E9(e){return Uc=S9(e),tb=Uc.format,GP=Uc.formatPrefix,Uc}function T9(e){return Math.max(0,-hs(Math.abs(e)))}function A9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hs(t)/3)))*3-hs(Math.abs(e)))}function x9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hs(t)-hs(e))+1}function VP(e,t,n,r){var i=Ug(e,t,n),o;switch(r=pu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=A9(i,a))&&(r.precision=o),GP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=x9(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=T9(i))&&(r.precision=o-(r.type==="%")*2);break}}return tb(r)}function to(e){var t=e.domain;return e.ticks=function(n){var r=t();return Dg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=kg(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function jP(){var e=Z0();return e.copy=function(){return zu(e,jP())},Vn.apply(e,arguments),to(e)}function FP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Td),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return FP(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],to(n)}function KP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function OA(e){return Math.log(e)}function RA(e){return Math.exp(e)}function C9(e){return-Math.log(-e)}function O9(e){return-Math.exp(-e)}function R9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I9(e){return e===10?R9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function M9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IA(e){return(t,n)=>-e(-t,n)}function nb(e){const t=e(OA,RA),n=t.domain;let r=10,i,o;function a(){return i=M9(r),o=I9(r),n()[0]<0?(i=IA(i),o=IA(o),e(C9,O9)):e(OA,RA),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),v,g;const y=s==null?10:+s;let b=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/o(-h):v*o(h),!(g<u)){if(g>c)break;b.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/o(-h):v*o(h),!(g<u)){if(g>c)break;b.push(g)}b.length*2<y&&(b=Dg(u,c,y))}else b=Dg(h,m,Math.min(m-h,y)).map(o);return d?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pu(l)).precision==null&&(l.trim=!0),l=tb(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(KP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function YP(){const e=nb(jh()).domain([1,10]);return e.copy=()=>zu(e,YP()).base(e.base()),Vn.apply(e,arguments),e}function MA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function PA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rb(e){var t=1,n=e(MA(t),PA(t));return n.constant=function(r){return arguments.length?e(MA(t=+r),PA(t)):t},to(n)}function JP(){var e=rb(jh());return e.copy=function(){return zu(e,JP()).constant(e.constant())},Vn.apply(e,arguments)}function NA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function P9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function N9(e){return e<0?-e*e:e*e}function ib(e){var t=e(kt,kt),n=1;function r(){return n===1?e(kt,kt):n===.5?e(P9,N9):e(NA(n),NA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},to(t)}function ob(){var e=ib(jh());return e.copy=function(){return zu(e,ob()).exponent(e.exponent())},Vn.apply(e,arguments),e}function D9(){return ob.apply(null,arguments).exponent(.5)}function DA(e){return Math.sign(e)*e*e}function k9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WP(){var e=Z0(),t=[0,1],n=!1,r;function i(o){var a=k9(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(DA(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Td)).map(DA)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vn.apply(i,arguments),to(i)}function XP(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=$Y(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Bu(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gi),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return XP().domain(e).range(t).unknown(r)},Vn.apply(o,arguments)}function QP(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Bu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return QP().domain([e,t]).range(i).unknown(o)},Vn.apply(to(a),arguments)}function ZP(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Bu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return ZP().domain(e).range(t).unknown(n)},Vn.apply(i,arguments)}const Am=new Date,xm=new Date;function nt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>nt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Am.setTime(+o),xm.setTime(+a),e(Am),e(xm),Math.floor(n(Am,xm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cd=nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cd);Cd.range;const Br=1e3,Dn=Br*60,$r=Dn*60,Qr=$r*24,ab=Qr*7,kA=Qr*30,Cm=Qr*365,To=nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getUTCSeconds());To.range;const sb=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Br)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());sb.range;const lb=nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());lb.range;const ub=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Br-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getHours());ub.range;const cb=nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCHours());cb.range;const qu=nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/Qr,e=>e.getDate()-1);qu.range;const Fh=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>e.getUTCDate()-1);Fh.range;const eN=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>Math.floor(e/Qr));eN.range;function Qo(e){return nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/ab)}const Kh=Qo(0),Od=Qo(1),U9=Qo(2),L9=Qo(3),ps=Qo(4),B9=Qo(5),$9=Qo(6);Kh.range;Od.range;U9.range;L9.range;ps.range;B9.range;$9.range;function Zo(e){return nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ab)}const Yh=Zo(0),Rd=Zo(1),z9=Zo(2),q9=Zo(3),ms=Zo(4),H9=Zo(5),G9=Zo(6);Yh.range;Rd.range;z9.range;q9.range;ms.range;H9.range;G9.range;const fb=nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fb.range;const db=nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());db.range;const Zr=nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zr.range;const ei=nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ei.range;function tN(e,t,n,r,i,o){const a=[[To,1,Br],[To,5,5*Br],[To,15,15*Br],[To,30,30*Br],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,$r],[i,3,3*$r],[i,6,6*$r],[i,12,12*$r],[r,1,Qr],[r,2,2*Qr],[n,1,ab],[t,1,kA],[t,3,3*kA],[e,1,Cm]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),v=m?m.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,m=K0(([,,y])=>y).right(a,h);if(m===a.length)return e.every(Ug(u/Cm,c/Cm,d));if(m===0)return Cd.every(Math.max(Ug(u,c,d),1));const[v,g]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(g)}return[s,l]}const[V9,j9]=tN(ei,db,Yh,eN,cb,lb),[F9,K9]=tN(Zr,fb,Kh,qu,ub,sb);function Om(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Y9(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ol(i),c=al(i),d=ol(o),h=al(o),m=ol(a),v=al(a),g=ol(s),y=al(s),b=ol(l),_=al(l),w={a:$,A:B,b:j,B:X,c:null,d:qA,e:qA,f:gJ,g:CJ,G:RJ,H:pJ,I:mJ,j:vJ,L:nN,m:yJ,M:bJ,p:ke,q:je,Q:VA,s:jA,S:_J,u:wJ,U:SJ,V:EJ,w:TJ,W:AJ,x:null,X:null,y:xJ,Y:OJ,Z:IJ,"%":GA},S={a:It,A:Ue,b:Sn,B:Hs,c:null,d:HA,e:HA,f:DJ,g:VJ,G:FJ,H:MJ,I:PJ,j:NJ,L:iN,m:kJ,M:UJ,p:zt,q:bp,Q:VA,s:jA,S:LJ,u:BJ,U:$J,V:zJ,w:qJ,W:HJ,x:null,X:null,y:GJ,Y:jJ,Z:KJ,"%":GA},A={a:I,A:N,b:P,B:q,c:H,d:$A,e:$A,f:cJ,g:BA,G:LA,H:zA,I:zA,j:aJ,L:uJ,m:oJ,M:sJ,p:C,q:iJ,Q:dJ,s:hJ,S:lJ,u:Z9,U:eJ,V:tJ,w:Q9,W:nJ,x:Z,X:k,y:BA,Y:LA,Z:rJ,"%":fJ};w.x=T(n,w),w.X=T(r,w),w.c=T(t,w),S.x=T(n,S),S.X=T(r,S),S.c=T(t,S);function T(U,ie){return function(se){var L=[],qt=-1,Se=0,en=U.length,tn,io,t_;for(se instanceof Date||(se=new Date(+se));++qt<en;)U.charCodeAt(qt)===37&&(L.push(U.slice(Se,qt)),(io=UA[tn=U.charAt(++qt)])!=null?tn=U.charAt(++qt):io=tn==="e"?" ":"0",(t_=ie[tn])&&(tn=t_(se,io)),L.push(tn),Se=qt+1);return L.push(U.slice(Se,qt)),L.join("")}}function x(U,ie){return function(se){var L=il(1900,void 0,1),qt=R(L,U,se+="",0),Se,en;if(qt!=se.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ie&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Se=Rm(il(L.y,0,1)),en=Se.getUTCDay(),Se=en>4||en===0?Rd.ceil(Se):Rd(Se),Se=Fh.offset(Se,(L.V-1)*7),L.y=Se.getUTCFullYear(),L.m=Se.getUTCMonth(),L.d=Se.getUTCDate()+(L.w+6)%7):(Se=Om(il(L.y,0,1)),en=Se.getDay(),Se=en>4||en===0?Od.ceil(Se):Od(Se),Se=qu.offset(Se,(L.V-1)*7),L.y=Se.getFullYear(),L.m=Se.getMonth(),L.d=Se.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),en="Z"in L?Rm(il(L.y,0,1)).getUTCDay():Om(il(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(en+5)%7:L.w+L.U*7-(en+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Rm(L)):Om(L)}}function R(U,ie,se,L){for(var qt=0,Se=ie.length,en=se.length,tn,io;qt<Se;){if(L>=en)return-1;if(tn=ie.charCodeAt(qt++),tn===37){if(tn=ie.charAt(qt++),io=A[tn in UA?ie.charAt(qt++):tn],!io||(L=io(U,se,L))<0)return-1}else if(tn!=se.charCodeAt(L++))return-1}return L}function C(U,ie,se){var L=u.exec(ie.slice(se));return L?(U.p=c.get(L[0].toLowerCase()),se+L[0].length):-1}function I(U,ie,se){var L=m.exec(ie.slice(se));return L?(U.w=v.get(L[0].toLowerCase()),se+L[0].length):-1}function N(U,ie,se){var L=d.exec(ie.slice(se));return L?(U.w=h.get(L[0].toLowerCase()),se+L[0].length):-1}function P(U,ie,se){var L=b.exec(ie.slice(se));return L?(U.m=_.get(L[0].toLowerCase()),se+L[0].length):-1}function q(U,ie,se){var L=g.exec(ie.slice(se));return L?(U.m=y.get(L[0].toLowerCase()),se+L[0].length):-1}function H(U,ie,se){return R(U,t,ie,se)}function Z(U,ie,se){return R(U,n,ie,se)}function k(U,ie,se){return R(U,r,ie,se)}function $(U){return a[U.getDay()]}function B(U){return o[U.getDay()]}function j(U){return l[U.getMonth()]}function X(U){return s[U.getMonth()]}function ke(U){return i[+(U.getHours()>=12)]}function je(U){return 1+~~(U.getMonth()/3)}function It(U){return a[U.getUTCDay()]}function Ue(U){return o[U.getUTCDay()]}function Sn(U){return l[U.getUTCMonth()]}function Hs(U){return s[U.getUTCMonth()]}function zt(U){return i[+(U.getUTCHours()>=12)]}function bp(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ie=T(U+="",w);return ie.toString=function(){return U},ie},parse:function(U){var ie=x(U+="",!1);return ie.toString=function(){return U},ie},utcFormat:function(U){var ie=T(U+="",S);return ie.toString=function(){return U},ie},utcParse:function(U){var ie=x(U+="",!0);return ie.toString=function(){return U},ie}}}var UA={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,J9=/^%/,W9=/[\\^$*+?|[\]().{}]/g;function ue(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function X9(e){return e.replace(W9,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(X9).join("|")+")","i")}function al(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Q9(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Z9(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function eJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function LA(e,t,n){var r=pt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function BA(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iJ(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $A(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aJ(e,t,n){var r=pt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zA(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lJ(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uJ(e,t,n){var r=pt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cJ(e,t,n){var r=pt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fJ(e,t,n){var r=J9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dJ(e,t,n){var r=pt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hJ(e,t,n){var r=pt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qA(e,t){return ue(e.getDate(),t,2)}function pJ(e,t){return ue(e.getHours(),t,2)}function mJ(e,t){return ue(e.getHours()%12||12,t,2)}function vJ(e,t){return ue(1+qu.count(Zr(e),e),t,3)}function nN(e,t){return ue(e.getMilliseconds(),t,3)}function gJ(e,t){return nN(e,t)+"000"}function yJ(e,t){return ue(e.getMonth()+1,t,2)}function bJ(e,t){return ue(e.getMinutes(),t,2)}function _J(e,t){return ue(e.getSeconds(),t,2)}function wJ(e){var t=e.getDay();return t===0?7:t}function SJ(e,t){return ue(Kh.count(Zr(e)-1,e),t,2)}function rN(e){var t=e.getDay();return t>=4||t===0?ps(e):ps.ceil(e)}function EJ(e,t){return e=rN(e),ue(ps.count(Zr(e),e)+(Zr(e).getDay()===4),t,2)}function TJ(e){return e.getDay()}function AJ(e,t){return ue(Od.count(Zr(e)-1,e),t,2)}function xJ(e,t){return ue(e.getFullYear()%100,t,2)}function CJ(e,t){return e=rN(e),ue(e.getFullYear()%100,t,2)}function OJ(e,t){return ue(e.getFullYear()%1e4,t,4)}function RJ(e,t){var n=e.getDay();return e=n>=4||n===0?ps(e):ps.ceil(e),ue(e.getFullYear()%1e4,t,4)}function IJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function HA(e,t){return ue(e.getUTCDate(),t,2)}function MJ(e,t){return ue(e.getUTCHours(),t,2)}function PJ(e,t){return ue(e.getUTCHours()%12||12,t,2)}function NJ(e,t){return ue(1+Fh.count(ei(e),e),t,3)}function iN(e,t){return ue(e.getUTCMilliseconds(),t,3)}function DJ(e,t){return iN(e,t)+"000"}function kJ(e,t){return ue(e.getUTCMonth()+1,t,2)}function UJ(e,t){return ue(e.getUTCMinutes(),t,2)}function LJ(e,t){return ue(e.getUTCSeconds(),t,2)}function BJ(e){var t=e.getUTCDay();return t===0?7:t}function $J(e,t){return ue(Yh.count(ei(e)-1,e),t,2)}function oN(e){var t=e.getUTCDay();return t>=4||t===0?ms(e):ms.ceil(e)}function zJ(e,t){return e=oN(e),ue(ms.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function qJ(e){return e.getUTCDay()}function HJ(e,t){return ue(Rd.count(ei(e)-1,e),t,2)}function GJ(e,t){return ue(e.getUTCFullYear()%100,t,2)}function VJ(e,t){return e=oN(e),ue(e.getUTCFullYear()%100,t,2)}function jJ(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function FJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ms(e):ms.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function KJ(){return"+0000"}function GA(){return"%"}function VA(e){return+e}function jA(e){return Math.floor(+e/1e3)}var fa,aN,sN;YJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YJ(e){return fa=Y9(e),aN=fa.format,fa.parse,sN=fa.utcFormat,fa.utcParse,fa}function JJ(e){return new Date(e)}function WJ(e){return e instanceof Date?+e:+new Date(+e)}function hb(e,t,n,r,i,o,a,s,l,u){var c=Z0(),d=c.invert,h=c.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),S=u("%Y");function A(T){return(l(T)<T?m:s(T)<T?v:a(T)<T?g:o(T)<T?y:r(T)<T?i(T)<T?b:_:n(T)<T?w:S)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?h(Array.from(T,WJ)):h().map(JJ)},c.ticks=function(T){var x=h();return e(x[0],x[x.length-1],T??10)},c.tickFormat=function(T,x){return x==null?A:u(x)},c.nice=function(T){var x=h();return(!T||typeof T.range!="function")&&(T=t(x[0],x[x.length-1],T??10)),T?h(KP(x,T)):c},c.copy=function(){return zu(c,hb(e,t,n,r,i,o,a,s,l,u))},c}function XJ(){return Vn.apply(hb(F9,K9,Zr,fb,Kh,qu,ub,sb,To,aN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QJ(){return Vn.apply(hb(V9,j9,ei,db,Yh,Fh,cb,lb,To,sN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jh(){var e=0,t=1,n,r,i,o,a=kt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var m,v;return arguments.length?([m,v]=h,a=d(m,v),u):[a(0),a(1)]}}return u.range=c(Ns),u.rangeRound=c(Q0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function no(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lN(){var e=to(Jh()(kt));return e.copy=function(){return no(e,lN())},ci.apply(e,arguments)}function uN(){var e=nb(Jh()).domain([1,10]);return e.copy=function(){return no(e,uN()).base(e.base())},ci.apply(e,arguments)}function cN(){var e=rb(Jh());return e.copy=function(){return no(e,cN()).constant(e.constant())},ci.apply(e,arguments)}function pb(){var e=ib(Jh());return e.copy=function(){return no(e,pb()).exponent(e.exponent())},ci.apply(e,arguments)}function ZJ(){return pb.apply(null,arguments).exponent(.5)}function fN(){var e=[],t=kt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Bu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>BY(e,o/r))},n.copy=function(){return fN(t).domain(e)},ci.apply(n,arguments)}function Wh(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=kt,c,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var b,_,w;return arguments.length?([b,_,w]=y,u=f9(g,[b,_,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Ns),m.rangeRound=v(Q0),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function dN(){var e=to(Wh()(kt));return e.copy=function(){return no(e,dN())},ci.apply(e,arguments)}function hN(){var e=nb(Wh()).domain([.1,1,10]);return e.copy=function(){return no(e,hN()).base(e.base())},ci.apply(e,arguments)}function pN(){var e=rb(Wh());return e.copy=function(){return no(e,pN()).constant(e.constant())},ci.apply(e,arguments)}function mb(){var e=ib(Wh());return e.copy=function(){return no(e,mb()).exponent(e.exponent())},ci.apply(e,arguments)}function e7(){return mb.apply(null,arguments).exponent(.5)}const vl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:J0,scaleDiverging:dN,scaleDivergingLog:hN,scaleDivergingPow:mb,scaleDivergingSqrt:e7,scaleDivergingSymlog:pN,scaleIdentity:FP,scaleImplicit:Lg,scaleLinear:jP,scaleLog:YP,scaleOrdinal:Y0,scalePoint:qY,scalePow:ob,scaleQuantile:XP,scaleQuantize:QP,scaleRadial:WP,scaleSequential:lN,scaleSequentialLog:uN,scaleSequentialPow:pb,scaleSequentialQuantile:fN,scaleSequentialSqrt:ZJ,scaleSequentialSymlog:cN,scaleSqrt:D9,scaleSymlog:JP,scaleThreshold:ZP,scaleTime:XJ,scaleUtc:QJ,tickFormat:VP},Symbol.toStringTag,{value:"Module"}));var fi=e=>e.chartData,mN=M([fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vN=(e,t,n,r)=>r?mN(e):fi(e),t7=(e,t,n)=>n?mN(e):fi(e);function ti(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fe(t)&&fe(n))return!0}return!1}function FA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gN(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(fe(n))i=n;else if(typeof n=="function")return;if(fe(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(ti(a))return a}}function n7(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ti(r))return FA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(F(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&fT.test(i)){var l=fT.exec(i);if(l==null||l[1]==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(F(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&dT.test(o)){var c=dT.exec(o);if(c==null||c[1]==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[a,s];if(ti(h))return t==null?h:FA(h,t,n)}}}var Ds=1e9,r7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gb,De=!0,Hn="[DecimalError] ",Po=Hn+"Invalid argument: ",vb=Hn+"Exponent out of range: ",ks=Math.floor,yo=Math.pow,i7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,at=1e7,Ce=7,yN=9007199254740991,Id=ks(yN/Ce),G={};G.absoluteValue=G.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};G.comparedTo=G.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};G.decimalPlaces=G.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ce;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};G.dividedBy=G.div=function(e){return Gr(this,new this.constructor(e))};G.dividedToIntegerBy=G.idiv=function(e){var t=this,n=t.constructor;return ye(Gr(t,new n(e),0,1),n.precision)};G.equals=G.eq=function(e){return!this.cmp(e)};G.exponent=function(){return Xe(this)};G.greaterThan=G.gt=function(e){return this.cmp(e)>0};G.greaterThanOrEqualTo=G.gte=function(e){return this.cmp(e)>=0};G.isInteger=G.isint=function(){return this.e>this.d.length-2};G.isNegative=G.isneg=function(){return this.s<0};G.isPositive=G.ispos=function(){return this.s>0};G.isZero=function(){return this.s===0};G.lessThan=G.lt=function(e){return this.cmp(e)<0};G.lessThanOrEqualTo=G.lte=function(e){return this.cmp(e)<1};G.logarithm=G.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ln))throw Error(Hn+"NaN");if(n.s<1)throw Error(Hn+(n.s?"NaN":"-Infinity"));return n.eq(ln)?new r(0):(De=!1,t=Gr(mu(n,o),mu(e,o),o),De=!0,ye(t,i))};G.minus=G.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wN(t,e):bN(t,(e.s=-e.s,e))};G.modulo=G.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Hn+"NaN");return n.s?(De=!1,t=Gr(n,e,0,1).times(e),De=!0,n.minus(t)):ye(new r(n),i)};G.naturalExponential=G.exp=function(){return _N(this)};G.naturalLogarithm=G.ln=function(){return mu(this)};G.negated=G.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};G.plus=G.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bN(t,e):wN(t,(e.s=-e.s,e))};G.precision=G.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=Xe(i)+1,r=i.d.length-1,n=r*Ce+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};G.squareRoot=G.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Hn+"NaN")}for(e=Xe(s),De=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ks((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Gr(s,o,a+2)).times(.5),gr(o.d).slice(0,a)===(t=gr(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return De=!0,ye(r,n)};G.times=G.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+t,o[i--]=s%at|0,t=s/at|0;o[i]=(o[i]+t)%at|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,De?ye(e,d.precision):e};G.toDecimalPlaces=G.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Sr(e,0,Ds),t===void 0?t=r.rounding:Sr(t,0,8),ye(n,e+Xe(n)+1,t))};G.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Vo(r,!0):(Sr(e,0,Ds),t===void 0?t=i.rounding:Sr(t,0,8),r=ye(new i(r),e+1,t),n=Vo(r,!0,e+1)),n};G.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Vo(i):(Sr(e,0,Ds),t===void 0?t=o.rounding:Sr(t,0,8),r=ye(new o(i),e+Xe(i)+1,t),n=Vo(r.abs(),!1,e+Xe(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};G.toInteger=G.toint=function(){var e=this,t=e.constructor;return ye(new t(e),Xe(e)+1,t.rounding)};G.toNumber=function(){return+this};G.toPower=G.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(ln);if(s=new l(s),!s.s){if(e.s<1)throw Error(Hn+"Infinity");return s}if(s.eq(ln))return s;if(r=l.precision,e.eq(ln))return ye(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=yN){for(i=new l(ln),t=Math.ceil(r/Ce+4),De=!1;n%2&&(i=i.times(s),YA(i.d,t)),n=ks(n/2),n!==0;)s=s.times(s),YA(s.d,t);return De=!0,e.s<0?new l(ln).div(i):ye(i,r)}}else if(o<0)throw Error(Hn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,De=!1,i=e.times(mu(s,r+u)),De=!0,i=_N(i),i.s=o,i};G.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Xe(i),r=Vo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Sr(e,1,Ds),t===void 0?t=o.rounding:Sr(t,0,8),i=ye(new o(i),e,t),n=Xe(i),r=Vo(i,e<=n||n<=o.toExpNeg,e)),r};G.toSignificantDigits=G.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Sr(e,1,Ds),t===void 0?t=r.rounding:Sr(t,0,8)),ye(new r(n),e,t)};G.toString=G.valueOf=G.val=G.toJSON=G[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xe(e),n=e.constructor;return Vo(e,t<=n.toExpNeg||t>=n.toExpPos)};function bN(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),De?ye(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Ce),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/at|0,l[o]%=at;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,De?ye(t,d):t}function Sr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Po+e)}function gr(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Ce-r.length,n&&(o+=bi(n)),o+=r;a=e[t],r=a+"",n=Ce-r.length,n&&(o+=bi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Gr=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%at|0,a=o/at|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*at+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,m,v,g,y,b,_,w,S,A,T,x,R,C=r.constructor,I=r.s==i.s?1:-1,N=r.d,P=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Hn+"Division by zero");for(l=r.e-i.e,x=P.length,A=N.length,m=new C(I),v=m.d=[],u=0;P[u]==(N[u]||0);)++u;if(P[u]>(N[u]||0)&&--l,o==null?_=o=C.precision:a?_=o+(Xe(r)-Xe(i))+1:_=o,_<0)return new C(0);if(_=_/Ce+2|0,u=0,x==1)for(c=0,P=P[0],_++;(u<A||c)&&_--;u++)w=c*at+(N[u]||0),v[u]=w/P|0,c=w%P|0;else{for(c=at/(P[0]+1)|0,c>1&&(P=e(P,c),N=e(N,c),x=P.length,A=N.length),S=x,g=N.slice(0,x),y=g.length;y<x;)g[y++]=0;R=P.slice(),R.unshift(0),T=P[0],P[1]>=at/2&&++T;do c=0,s=t(P,g,x,y),s<0?(b=g[0],x!=y&&(b=b*at+(g[1]||0)),c=b/T|0,c>1?(c>=at&&(c=at-1),d=e(P,c),h=d.length,y=g.length,s=t(d,g,h,y),s==1&&(c--,n(d,x<h?R:P,h))):(c==0&&(s=c=1),d=P.slice()),h=d.length,h<y&&d.unshift(0),n(g,d,y),s==-1&&(y=g.length,s=t(P,g,x,y),s<1&&(c++,n(g,x<y?R:P,y))),y=g.length):s===0&&(c++,g=[0]),v[u++]=c,s&&g[0]?g[y++]=N[S]||0:(g=[N[S]],y=1);while((S++<A||g[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,ye(m,a?o+Xe(m)+1:o)}}();function _N(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(Xe(e)>16)throw Error(vb+Xe(e));if(!e.s)return new c(ln);for(De=!1,s=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(yo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(ln),c.precision=s;;){if(i=ye(i.times(e),s),n=n.times(++l),a=o.plus(Gr(i,n,s)),gr(a.d).slice(0,s)===gr(o.d).slice(0,s)){for(;u--;)o=ye(o.times(o),s);return c.precision=d,t==null?(De=!0,ye(o,d)):o}o=a}}function Xe(e){for(var t=e.e*Ce,n=e.d[0];n>=10;n/=10)t++;return t}function Im(e,t,n){if(t>e.LN10.sd())throw De=!0,n&&(e.precision=n),Error(Hn+"LN10 precision limit exceeded");return ye(new e(e.LN10),t)}function bi(e){for(var t="";e--;)t+="0";return t}function mu(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Hn+(m.s?"NaN":"-Infinity"));if(m.eq(ln))return new g(0);if(t==null?(De=!1,u=y):u=t,m.eq(10))return t==null&&(De=!0),Im(g,u);if(u+=h,g.precision=u,n=gr(v),r=n.charAt(0),o=Xe(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=gr(m.d),r=n.charAt(0),d++;o=Xe(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Im(g,u+2,y).times(o+""),m=mu(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=y,t==null?(De=!0,ye(m,y)):m;for(s=a=m=Gr(m.minus(ln),m.plus(ln),u),c=ye(m.times(m),u),i=3;;){if(a=ye(a.times(c),u),l=s.plus(Gr(a,new g(i),u)),gr(l.d).slice(0,u)===gr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Im(g,u+2,y).times(o+""))),s=Gr(s,new g(d),u),g.precision=y,t==null?(De=!0,ye(s,y)):s;s=l,i+=2}}function KA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ks(n/Ce),e.d=[],r=(n+1)%Ce,n<0&&(r+=Ce),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ce;r<i;)e.d.push(+t.slice(r,r+=Ce));t=t.slice(r),r=Ce-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),De&&(e.e>Id||e.e<-Id))throw Error(vb+n)}else e.s=0,e.e=0,e.d=[0];return e}function ye(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Ce,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/Ce),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Ce,i=r-Ce+a}if(n!==void 0&&(o=yo(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/yo(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=Xe(e),d.length=1,t=t-o-1,d[0]=yo(10,(Ce-t%Ce)%Ce),e.e=ks(-t/Ce)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=yo(10,Ce-r),d[c]=i>0?(u/yo(10,a-i)%yo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==at&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=at)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(De&&(e.e>Id||e.e<-Id))throw Error(vb+Xe(e));return e}function wN(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),De?ye(t,m):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/Ce),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=at-1;--l[o],l[i]+=at}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,De?ye(t,m):t):new h(0)}function Vo(e,t,n){var r,i=Xe(e),o=gr(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+bi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+bi(-i-1)+o,n&&(r=n-a)>0&&(o+=bi(r))):i>=a?(o+=bi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+bi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=bi(r))),e.s<0?"-"+o:o}function YA(e,t){if(e.length>t)return e.length=t,!0}function SN(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Po+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return KA(a,o.toString())}else if(typeof o!="string")throw Error(Po+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,i7.test(o))KA(a,o);else throw Error(Po+o)}if(i.prototype=G,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SN,i.config=i.set=o7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function o7(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,n,r,i=["precision",1,Ds,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ks(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Po+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Po+n+": "+r);return this}var gb=SN(r7);ln=new gb(1);const pe=gb;function EN(e){var t;return e===0?t=1:t=Math.floor(new pe(e).abs().log(10).toNumber())+1,t}function TN(e,t,n){for(var r=new pe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var AN=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},xN=(e,t,n)=>{if(e.lte(0))return new pe(0);var r=EN(e.toNumber()),i=new pe(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new pe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?new pe(l.toNumber()):new pe(Math.ceil(l.toNumber()))},a7=(e,t,n)=>{var r=new pe(1),i=new pe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new pe(10).pow(EN(e)-1),i=new pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pe(Math.floor(e)))}else e===0?i=new pe(Math.floor((t-1)/2)):n||(i=new pe(Math.floor(e)));for(var a=Math.floor((t-1)/2),s=[],l=0;l<t;l++)s.push(i.add(new pe(l-a).mul(r)).toNumber());return s},CN=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var a=xN(new pe(n).sub(t).div(r-1),i,o),s;t<=0&&n>=0?s=new pe(0):(s=new pe(t).add(n).div(2),s=s.sub(new pe(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new pe(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?CN(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new pe(l).mul(a)),tickMax:s.add(new pe(u).mul(a))})},s7=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=AN([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return a7(s,i,o);var{step:c,tickMin:d,tickMax:h}=CN(s,l,a,o,0),m=TN(d,h.add(new pe(.1).mul(c)),c);return n>r?m.reverse():m},l7=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=AN([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=xN(new pe(s).sub(a).div(l-1),o,0),c=[...TN(new pe(a),new pe(s),u),s];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},ON=e=>e.rootProps.maxBarSize,u7=e=>e.rootProps.barGap,RN=e=>e.rootProps.barCategoryGap,c7=e=>e.rootProps.barSize,Xh=e=>e.rootProps.stackOffset,IN=e=>e.rootProps.reverseStackOrder,yb=e=>e.options.chartName,bb=e=>e.rootProps.syncId,MN=e=>e.rootProps.syncMethod,_b=e=>e.options.eventEmitter,Jt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},cr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Qh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Zh(e,t,n){if(n!=="auto")return n;if(e!=null)return eo(e,t)?"category":"number"}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){f7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WA={allowDataOverflow:lo.allowDataOverflow,allowDecimals:lo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:lo.reversed,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:lo.type,unit:void 0},XA={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:cr.includeHidden,name:void 0,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:cr.type,unit:void 0},p7=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},wb=M([p7,pP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Zh(t,"angleAxis",WA.type))!==null&&n!==void 0?n:"category";return Md(Md({},WA),{},{type:r})}),m7=(e,t)=>e.polarAxis.radiusAxis[t],Sb=M([m7,pP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Zh(t,"radiusAxis",XA.type))!==null&&n!==void 0?n:"category";return Md(Md({},XA),{},{type:r})}),ep=e=>e.polarOptions,Eb=M([li,ui,ht],vY),PN=M([ep,Eb],(e,t)=>{if(e!=null)return rr(e.innerRadius,t,0)}),NN=M([ep,Eb],(e,t)=>{if(e!=null)return rr(e.outerRadius,t,t*.8)}),v7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},DN=M([ep],v7);M([wb,DN],Qh);var kN=M([Eb,PN,NN],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});M([Sb,kN],Qh);var UN=M([_e,ep,PN,NN,li,ui],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:rr(a,i,i/2),cy:rr(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),mt=(e,t)=>t,tp=(e,t,n)=>n;function Tb(e){return e==null?void 0:e.id}function LN(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=Tb(s);u.forEach((d,h)=>{var m=o==null||i?h:String(Ot(d,o,null)),v=Ot(d,s.dataKey,0),g;a.has(m)?g=a.get(m):g={},Object.assign(g,{[c]:v}),a.set(m,g)})}}),Array.from(a.values())}function np(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var rp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ip(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function g7(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var vt=e=>{var t=_e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Us=e=>e.tooltip.settings.axisId;function y7(e){if(e in vl)return vl[e]();var t="scale".concat(Pu(e));if(t in vl)return vl[t]()}function QA(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],s=i[1];return a<=s?o>=a&&o<=s:o>=s&&o<=a},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,a)=>{var s=e(o);if(s!=null){if(e.bandwidth&&a!==null&&a!==void 0&&a.position){var l=e.bandwidth();switch(a.position){case"middle":s+=l/2;break;case"end":s+=l;break}}return s}}}}function ZA(e,t,n){if(typeof e=="function")return QA(e.copy().domain(t).range(n));if(e!=null){var r=y7(e);if(r!=null)return r.domain(t).range(n),QA(r)}}var b7=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ti(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];fe(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(r){_7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _7(e,t,n){return(t=w7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qg=[0,"auto"],it={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BN=(e,t)=>e.cartesianAxis.xAxis[t],di=(e,t)=>{var n=BN(e,t);return n??it},ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ku},$N=(e,t)=>e.cartesianAxis.yAxis[t],hi=(e,t)=>{var n=$N(e,t);return n??ot},E7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ab=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??E7},$t=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);case"zAxis":return Ab(e,n);case"angleAxis":return wb(e,n);case"radiusAxis":return Sb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},T7=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hu=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);case"angleAxis":return wb(e,n);case"radiusAxis":return Sb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var xb=e=>e.graphicalItems.cartesianItems,A7=M([mt,tp],qN),HN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Gu=M([xb,$t,A7],HN,{memoizeOptions:{resultEqualityCheck:ip}}),GN=M([Gu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(np)),VN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),x7=M([Gu],VN),jN=e=>e.map(t=>t.data).filter(Boolean).flat(1),C7=M([Gu],jN,{memoizeOptions:{resultEqualityCheck:ip}}),FN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Cb=M([C7,vN],FN),KN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ot(i,r)}))):e.map(r=>({value:r})),op=M([Cb,$t,Gu],KN);function YN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lf(e){if(wr(e)||e instanceof Date){var t=Number(e);if(fe(t))return t}}function tx(e){if(Array.isArray(e)){var t=[lf(e[0]),lf(e[1])];return ti(t)?t:void 0}var n=lf(e);if(n!=null)return[n,n]}function ni(e){return e.map(lf).filter(mr)}function O7(e,t,n){return!n||typeof t!="number"||_r(t)?[]:n.length?ni(n.flatMap(r=>{var i=Ot(e,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!fe(o)||!fe(a)))return[t-o,t+a]})):[]}var rt=e=>{var t=vt(e),n=Us(e);return Hu(e,t,n)},Vu=M([rt],e=>e==null?void 0:e.dataKey),R7=M([GN,vN,rt],LN),JN=(e,t,n,r)=>{var i={},o=t.reduce((a,s)=>{if(s.stackId==null)return a;var l=a[s.stackId];return l==null&&(l=[]),l.push(s),a[s.stackId]=l,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(Tb);return[s,{stackedData:s8(e,c,n),graphicalItems:u}]}))},Hg=M([R7,GN,Xh,IN],JN),WN=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var a=d8(e,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},I7=M([$t],e=>e.allowDataOverflow),Ob=e=>{var t;if(e==null||!("domain"in e))return qg;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ni(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:qg},XN=M([$t],Ob),QN=M([XN,I7],gN),M7=M([Hg,fi,mt,QN],WN,{memoizeOptions:{resultEqualityCheck:rp}}),Rb=e=>e.errorBars,P7=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>YN(n,r)),Nd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},ZN=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(b=>YN(i,b)),h=Ot(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=O7(s,h,d);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(o==null||v<o)&&(o=v),(a==null||g>a)&&(a=g)}var y=tx(h);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),a=a==null?y[1]:Math.max(a,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=tx(Ot(s,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),fe(o)&&fe(a))return[o,a]},N7=M([Cb,$t,x7,Rb,mt],ZN,{memoizeOptions:{resultEqualityCheck:rp}});function D7(e){var{value:t}=e;if(wr(t)||t instanceof Date)return t}var k7=(e,t,n)=>{var r=e.map(D7).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WI(r))?kP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},eD=e=>e.referenceElements.dots,Ls=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),U7=M([eD,mt,tp],Ls),tD=e=>e.referenceElements.areas,L7=M([tD,mt,tp],Ls),nD=e=>e.referenceElements.lines,B7=M([nD,mt,tp],Ls),rD=(e,t)=>{if(e!=null){var n=ni(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$7=M(U7,mt,rD),iD=(e,t)=>{if(e!=null){var n=ni(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},z7=M([L7,mt],iD);function q7(e){var t;if(e.x!=null)return ni([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ni(n)}function H7(e){var t;if(e.y!=null)return ni([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ni(n)}var oD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?q7(r):H7(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},G7=M([B7,mt],oD),V7=M($7,G7,z7,(e,t,n)=>Nd(e,n,t)),aD=(e,t,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?Nd(r,o,i):Nd(o,i);return n7(t,u,e.allowDataOverflow)},j7=M([$t,XN,QN,M7,N7,V7,_e,mt],aD,{memoizeOptions:{resultEqualityCheck:rp}}),F7=[0,1],sD=(e,t,n,r,i,o,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,u=eo(t,o);if(u&&s==null){var c;return kP(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?k7(r,e,u):i==="expand"?F7:a}},Ib=M([$t,_e,Cb,op,Xh,mt,j7],sD);function K7(e){return e in vl}var lD=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Pu(r));return K7(o)?o:"point"}}},Bs=M([$t,zN,yb],lD);function Mb(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?ZA(e.scale,n,r):ZA(t,n,r)}var uD=(e,t,n)=>{var r=Ob(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ti(e))return s7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ti(e))return l7(e,t.tickCount,t.allowDecimals)}},Pb=M([Ib,Hu,Bs],uD),cD=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ti(t)&&Array.isArray(n)&&n.length>0){var i,o,a=t[0],s=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,s),Math.max(l,u)]}return t},Y7=M([$t,Ib,Pb,mt],cD),J7=M(op,$t,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ni(e.map(d=>d.value))).sort((d,h)=>d-h),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/a}}),fD=M(J7,_e,RN,ht,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!fe(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=rr(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),W7=(e,t,n)=>{var r=di(e,t);return r==null||typeof r.padding!="string"?0:fD(e,"xAxis",t,n,r.padding)},X7=(e,t,n)=>{var r=hi(e,t);return r==null||typeof r.padding!="string"?0:fD(e,"yAxis",t,n,r.padding)},Q7=M(di,W7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Z7=M(hi,X7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),eW=M([ht,Q7,$h,Bh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),tW=M([ht,_e,Z7,$h,Bh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ju=(e,t,n,r)=>{var i;switch(t){case"xAxis":return eW(e,n,r);case"yAxis":return tW(e,n,r);case"zAxis":return(i=Ab(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return DN(e);case"radiusAxis":return kN(e,n);default:return}},dD=M([$t,ju],Qh),nW=M([Bs,Y7],b7),ap=M([$t,Bs,nW,dD],Mb);M([Gu,Rb,mt],P7);function hD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sp=(e,t)=>t,lp=(e,t,n)=>n,rW=M(Uh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hD)),iW=M(Lh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hD)),pD=(e,t)=>({width:e.width,height:t.height}),oW=(e,t)=>{var n=typeof t.width=="number"?t.width:ku;return{width:n,height:e.height}},mD=M(ht,di,pD),aW=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},sW=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},lW=M(ui,ht,rW,sp,lp,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=pD(t,s);a==null&&(a=aW(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),uW=M(li,ht,iW,sp,lp,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=oW(t,s);a==null&&(a=sW(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),cW=(e,t)=>{var n=di(e,t);if(n!=null)return lW(e,n.orientation,n.mirror)},fW=M([ht,di,cW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),dW=(e,t)=>{var n=hi(e,t);if(n!=null)return uW(e,n.orientation,n.mirror)},hW=M([ht,hi,dW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),vD=M(ht,hi,(e,t)=>{var n=typeof t.width=="number"?t.width:ku;return{width:n,height:e.height}}),nx=(e,t,n)=>{switch(t){case"xAxis":return mD(e,n).width;case"yAxis":return vD(e,n).height;default:return}},gD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=eo(e,r),l=t.map(u=>u.value);if(a&&s&&o==="category"&&i&&WI(l))return l}},Nb=M([_e,op,$t,mt],gD),yD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=eo(e,r);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},Db=M([_e,op,Hu,mt],yD);M([_e,T7,Bs,ap,Nb,Db,ju,Pb,mt],(e,t,n,r,i,o,a,s,l)=>{if(t!=null){var u=eo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}});var pW=(e,t,n,r,i,o,a,s,l)=>{if(!(t==null||r==null)){var u=eo(e,l),{type:c,ticks:d,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/m:0;v=l==="angleAxis"&&o!=null&&o.length>=2?fn(o[0]-o[1])*2*v:v;var g=d||i;return g?g.map((y,b)=>{var _=a?a.indexOf(y):y,w=r.map(_);return fe(w)?{index:b,coordinate:w+v,value:y,offset:v}:null}).filter(mr):u&&s?s.map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:y,index:b,offset:v}:null}).filter(mr):r.ticks?r.ticks(h).map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:y,index:b,offset:v}:null}).filter(mr):r.domain().map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:a?a[y]:y,index:b,offset:v}:null}).filter(mr)}},bD=M([_e,Hu,Bs,ap,Pb,ju,Nb,Db,mt],pW),mW=(e,t,n,r,i,o,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=eo(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?fn(r[0]-r[1])*2*u:u,s&&o?o.map((c,d)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:c,index:d,offset:u}:null}).filter(mr):n.ticks?n.ticks(l).map((c,d)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:c,index:d,offset:u}:null}).filter(mr):n.domain().map((c,d)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:i?i[c]:c,index:d,offset:u}:null}).filter(mr)}},vs=M([_e,Hu,ap,ju,Nb,Db,mt],mW),gs=M($t,ap,(e,t)=>{if(!(e==null||t==null))return Pd(Pd({},e),{},{scale:t})}),vW=M([$t,Bs,Ib,dD],Mb);M((e,t,n)=>Ab(e,n),vW,(e,t)=>{if(!(e==null||t==null))return Pd(Pd({},e),{},{scale:t})});var gW=M([_e,Uh,Lh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_D=e=>e.options.defaultTooltipEventType,wD=e=>e.options.validateTooltipEventTypes;function SD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function kb(e,t){var n=_D(e),r=wD(e);return SD(t,n,r)}function yW(e){return Y(t=>kb(t,e))}var ED=(e,t)=>{var n,r=Number(t);if(!(_r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},bW=e=>e.tooltip.settings,Ci={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_W={itemInteraction:{click:Ci,hover:Ci},axisInteraction:{click:Ci,hover:Ci},keyboardInteraction:Ci,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TD=Zt({name:"tooltip",initialState:_W,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ne()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ne()},removeTooltipEntrySettings:{reducer(e,t){var n=nr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ne()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:wW,replaceTooltipEntrySettings:SW,removeTooltipEntrySettings:EW,setTooltipSettingsState:TW,setActiveMouseOverItemIndex:AD,mouseLeaveItem:AW,mouseLeaveChart:xD,setActiveClickItemIndex:xW,setMouseOverAxisIndex:CD,setMouseClickAxisIndex:CW,setSyncInteraction:Gg,setKeyboardInteraction:Vg}=TD.actions,OW=TD.reducer;function rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function NW(e){return e.index!=null}var OD=(e,t,n,r)=>{if(t==null)return Ci;var i=PW(e,t,n);if(i==null)return Ci;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(NW(i)){if(o)return Lc(Lc({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Lc(Lc({},Ci),{},{coordinate:i.coordinate})};function DW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function kW(e,t){var n=DW(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function UW(e,t,n){if(n==null||t==null)return!0;var r=Ot(e,t);return r==null||!ti(n)?!0:kW(r,n)}var Ub=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!fe(o))return i;var a=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(a,Math.min(o,s)),u=t[l];return u==null||UW(u,n,r)?String(l):null},RD=(e,t,n,r,i,o,a)=>{if(o!=null){var s=a[0],l=s==null?void 0:s.getPosition(o);if(l!=null)return l;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},ID=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},MD=e=>e.options.tooltipPayloadSearcher,$s=e=>e.tooltip;function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){LW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LW(e,t,n){return(t=BW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zW(e,t){return e??t}var PD=(e,t,n,r,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:g,settings:y}=m,b=zW(g,s),_=Array.isArray(b)?iP(b,u,c):b,w=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:r,S=y==null?void 0:y.nameKey,A;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&a==="axis"?A=QF(_,r,i):A=o(_,t,l,S),Array.isArray(A))A.forEach(x=>{var R=ox(ox({},y),{},{name:x.name,unit:x.unit,color:void 0,fill:void 0});h.push(hT({tooltipEntrySettings:R,dataKey:x.dataKey,payload:x.payload,value:Ot(x.payload,x.dataKey),name:x.name}))});else{var T;h.push(hT({tooltipEntrySettings:y,dataKey:w,payload:A,value:Ot(A,w),name:(T=Ot(A,S))!==null&&T!==void 0?T:y==null?void 0:y.name}))}return h},d)}},Lb=M([rt,zN,yb],lD),qW=M([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HW=M([vt,Us],qN),zs=M([qW,rt,HW],HN,{memoizeOptions:{resultEqualityCheck:ip}}),GW=M([zs],e=>e.filter(np)),VW=M([zs],jN,{memoizeOptions:{resultEqualityCheck:ip}}),qs=M([VW,fi],FN),jW=M([GW,fi,rt],LN),Bb=M([qs,rt,zs],KN),ND=M([rt],Ob),FW=M([rt],e=>e.allowDataOverflow),DD=M([ND,FW],gN),KW=M([zs],e=>e.filter(np)),YW=M([jW,KW,Xh,IN],JN),JW=M([YW,fi,vt,DD],WN),WW=M([zs],VN),XW=M([qs,rt,WW,Rb,vt],ZN,{memoizeOptions:{resultEqualityCheck:rp}}),QW=M([eD,vt,Us],Ls),ZW=M([QW,vt],rD),eX=M([tD,vt,Us],Ls),tX=M([eX,vt],iD),nX=M([nD,vt,Us],Ls),rX=M([nX,vt],oD),iX=M([ZW,rX,tX],Nd),oX=M([rt,ND,DD,JW,XW,iX,_e,vt],aD),Fu=M([rt,_e,qs,Bb,Xh,vt,oX],sD),aX=M([Fu,rt,Lb],uD),sX=M([rt,Fu,aX,vt],cD),kD=e=>{var t=vt(e),n=Us(e),r=!1;return ju(e,t,n,r)},UD=M([rt,kD],Qh),LD=M([rt,Lb,sX,UD],Mb),lX=M([_e,Bb,rt,vt],gD),uX=M([_e,Bb,rt,vt],yD),cX=(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=eo(e,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fn(i[0]-i[1])*2*d:d,u&&a?a.map((h,m)=>{var v=r.map(h);return fe(v)?{coordinate:v+d,value:h,index:m,offset:d}:null}).filter(mr):r.domain().map((h,m)=>{var v=r.map(h);return fe(v)?{coordinate:v+d,value:o?o[h]:h,index:m,offset:d}:null}).filter(mr)}}},pi=M([_e,rt,Lb,LD,kD,lX,uX,vt],cX),$b=M([_D,wD,bW],(e,t,n)=>SD(n.shared,e,t)),BD=e=>e.tooltip.settings.trigger,zb=e=>e.tooltip.settings.defaultIndex,Ku=M([$s,$b,BD,zb],OD),ys=M([Ku,qs,Vu,Fu],Ub),$D=M([pi,ys],ED),zD=M([Ku],e=>{if(e)return e.dataKey});M([Ku],e=>{if(e)return e.graphicalItemId});var qD=M([$s,$b,BD,zb],ID),fX=M([li,ui,_e,ht,pi,zb,qD],RD),dX=M([Ku,fX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hX=M([Ku],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),pX=M([qD,ys,fi,Vu,$D,MD,$b],PD);M([pX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(r){mX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mX(e,t,n){return(t=vX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yX=()=>Y(rt),bX=()=>{var e=yX(),t=Y(pi),n=Y(LD);return fd(!e||!n?void 0:sx(sx({},e),{},{scale:n}),t)};function lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(n),!0).forEach(function(r){_X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _X(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},TX=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:a}=r;return da(da(da({},r),xt(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return da(da(da({},r),xt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function AX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var HD=(e,t,n,r,i)=>{var o,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<a;s++){var l,u,c,d,h,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,v=(c=n[s])===null||c===void 0?void 0:c.coordinate,g=s>=a-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(h=n[s+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||v==null||g==null))if(fn(v-m)!==fn(g-v)){var b=[];if(fn(g-v)===fn(i[1]-i[0])){y=g;var _=v+i[1]-i[0];b[0]=Math.min(_,(_+m)/2),b[1]=Math.max(_,(_+m)/2)}else{y=m;var w=g+i[1]-i[0];b[0]=Math.min(v,(w+v)/2),b[1]=Math.max(v,(w+v)/2)}var S=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){var A;return(A=n[s])===null||A===void 0?void 0:A.index}}else{var T=Math.min(m,g),x=Math.max(m,g);if(e>(T+v)/2&&e<=(x+v)/2){var R;return(R=n[s])===null||R===void 0?void 0:R.index}}}else if(t)for(var C=0;C<a;C++){var I=t[C];if(I!=null){var N=t[C+1],P=t[C-1];if(C===0&&N!=null&&e<=(I.coordinate+N.coordinate)/2||C===a-1&&P!=null&&e>(I.coordinate+P.coordinate)/2||C>0&&C<a-1&&P!=null&&N!=null&&e>(I.coordinate+P.coordinate)/2&&e<=(I.coordinate+N.coordinate)/2)return I.index}}return-1},xX=()=>Y(yb),qb=(e,t)=>t,GD=(e,t,n)=>n,Hb=(e,t,n,r)=>r,CX=M(pi,e=>xh(e,t=>t.coordinate)),Gb=M([$s,qb,GD,Hb],OD),Vb=M([Gb,qs,Vu,Fu],Ub),OX=(e,t,n)=>{if(t!=null){var r=$s(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VD=M([$s,qb,GD,Hb],ID),Dd=M([li,ui,_e,ht,pi,Hb,VD],RD),RX=M([Gb,Dd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),jD=M([pi,Vb],ED),IX=M([VD,Vb,fi,Vu,jD,MD,qb],PD),MX=M([Gb,Vb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),PX=(e,t,n,r,i,o,a)=>{if(!(!e||!n||!r||!i)&&AX(e,a)){var s=h8(e,t),l=HD(s,o,i,n,r),u=EX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},NX=(e,t,n,r,i,o,a)=>{if(!(!e||!r||!i||!o||!n)){var s=wY(e,n);if(s){var l=p8(s,t),u=HD(l,a,o,r,i),c=TX(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},DX=(e,t,n,r,i,o,a,s)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?PX(e,t,r,i,o,a,s):NX(e,t,n,r,i,o,a)},kX=M(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),UX=M(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Jt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:g7}});function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(n),!0).forEach(function(r){LX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LX(e,t,n){return(t=BX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zX={},qX={zIndexMap:Object.values(Jt).reduce((e,t)=>cx(cx({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),zX)},HX=new Set(Object.values(Jt));function GX(e){return HX.has(e)}var FD=Zt({name:"zIndex",initialState:qX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ne()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!GX(n)&&delete e.zIndexMap[n])},prepare:Ne()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ne()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ne()}}}),{registerZIndexPortal:VX,unregisterZIndexPortal:jX,registerZIndexPortalElement:FX,unregisterZIndexPortalElement:KX}=FD.actions,YX=FD.reducer;function ro(e){var{zIndex:t,children:n}=e,r=F8(),i=r&&t!==void 0&&t!==0,o=wn(),a=Ve();E.useLayoutEffect(()=>i?(a(VX({zIndex:t})),()=>{a(jX({zIndex:t}))}):Ms,[a,t,i]);var s=Y(l=>kX(l,t,o));return i?s?sy.createPortal(n,s):null:n}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(n),!0).forEach(function(r){JX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return E.isValidElement(t)?E.cloneElement(t,r):E.createElement(n,r)}function ZX(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,h=r,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,g,y;if(c==="ScatterChart")v=d,g=DK,y=Jt.cursorLine;else if(c==="BarChart")v=kK(s,d,o,a),g=OP,y=Jt.cursorRectangle;else if(s==="radial"&&ZI(d)){var{cx:b,cy:_,radius:w,startAngle:S,endAngle:A}=RP(d);v={cx:b,cy:_,startAngle:S,endAngle:A,innerRadius:w,outerRadius:w},g=MP,y=Jt.cursorLine}else v={points:AY(s,d,o)},g=EP,y=Jt.cursorLine;var T=typeof l=="object"&&"className"in l?l.className:void 0,x=Bc(Bc(Bc(Bc({stroke:"#ccc",pointerEvents:"none"},o),v),g0(l)),{},{payload:h,payloadIndex:m,className:Me("recharts-tooltip-cursor",T)});return E.createElement(ro,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},E.createElement(QX,{cursor:l,cursorComp:g,cursorProps:x}))}function eQ(e){var t=bX(),n=G8(),r=Ps(),i=xX();return t==null||n==null||r==null||i==null?null:E.createElement(ZX,jg({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var KD=E.createContext(null),tQ=()=>E.useContext(KD),YD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,v=new Array(m);h<m;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,v){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,m),!0;case 6:return y.fn.call(y.context,c,d,h,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var S=y.length,A;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,c);break;case 3:y[w].fn.call(y[w].context,c,d);break;case 4:y[w].fn.call(y[w].context,c,d,h);break;default:if(!_)for(A=1,_=new Array(b-1);A<b;A++)_[A-1]=arguments[A];y[w].fn.apply(y[w].context,_)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==c||h&&!v[g].once||d&&v[g].context!==d)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(YD);var nQ=YD.exports;const rQ=or(nQ);var vu=new rQ,Fg="recharts.syncEvent.tooltip",dx="recharts.syncEvent.brush",iQ=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!_r(n))return e[n]}},oQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},JD=Zt({name:"options",initialState:oQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aQ=JD.reducer,{createEventEmitter:sQ}=JD.actions;function lQ(e){return e.tooltip.syncInteraction}var uQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WD=Zt({name:"chartData",initialState:uQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:hx,setDataStartEndIndexes:cQ,setComputedData:vie}=WD.actions,fQ=WD.reducer,dQ=["x","y"];function px(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?px(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vQ(e,t){if(e==null)return{};var n,r,i=gQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yQ(){var e=Y(bb),t=Y(_b),n=Ve(),r=Y(MN),i=Y(pi),o=Ps(),a=zh(),s=Y(l=>l.rootProps.className);E.useEffect(()=>{if(e==null)return Ms;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var h;if(a&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:v,y:g}=m,y=vQ(m,dQ),{x:b,y:_,width:w,height:S}=c.payload.sourceViewBox,A=ha(ha({},y),{},{x:a.x+(w?(v-b)/w:0)*a.width,y:a.y+(S?(g-_)/S:0)*a.height});n(ha(ha({},c),{},{payload:ha(ha({},c.payload),{},{coordinate:A})}))}else n(c);return}if(i!=null){var T;if(typeof r=="function"){var x={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},R=r(i,x);T=i[R]}else r==="value"&&(T=i.find(k=>String(k.value)===c.payload.label));var{coordinate:C}=c.payload;if(T==null||c.payload.active===!1||C==null||a==null){n(Gg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:N}=C,P=Math.min(I,a.x+a.width),q=Math.min(N,a.y+a.height),H={x:o==="horizontal"?T.coordinate:P,y:o==="horizontal"?q:T.coordinate},Z=Gg({active:c.payload.active,coordinate:H,dataKey:c.payload.dataKey,index:String(T.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(Z)}}};return vu.on(Fg,l),()=>{vu.off(Fg,l)}},[s,n,t,e,r,i,o,a])}function bQ(){var e=Y(bb),t=Y(_b),n=Ve();E.useEffect(()=>{if(e==null)return Ms;var r=(i,o,a)=>{t!==a&&e===i&&n(cQ(o))};return vu.on(dx,r),()=>{vu.off(dx,r)}},[n,t,e])}function _Q(){var e=Ve();E.useEffect(()=>{e(sQ())},[e]),yQ(),bQ()}function wQ(e,t,n,r,i,o){var a=Y(m=>OX(m,e,t)),s=Y(_b),l=Y(bb),u=Y(MN),c=Y(lQ),d=c==null?void 0:c.active,h=zh();E.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=Gg({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});vu.emit(Fg,l,m,s)}},[d,n,a,i,r,s,l,u,o,h])}function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(n),!0).forEach(function(r){SQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SQ(e,t,n){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e){return e.dataKey}function xQ(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(hK,t)}var gx=[],CQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function OQ(e){var t,n,r=Gn(e,CQ),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:b,shared:_,trigger:w,defaultIndex:S,portal:A,axisId:T}=r,x=Ve(),R=typeof S=="number"?String(S):S;E.useEffect(()=>{x(TW({shared:_,trigger:w,axisId:T,active:i,defaultIndex:R}))},[x,_,w,T,i,R]);var C=zh(),I=SP(),N=yW(_),{activeIndex:P,isActive:q}=(t=Y(zt=>MX(zt,N,w,R)))!==null&&t!==void 0?t:{},H=Y(zt=>IX(zt,N,w,R)),Z=Y(zt=>jD(zt,N,w,R)),k=Y(zt=>RX(zt,N,w,R)),$=H,B=tQ(),j=(n=i??q)!==null&&n!==void 0?n:!1,[X,ke]=Q5([$,j]),je=N==="axis"?Z:void 0;wQ(N,w,k,je,P,j);var It=A??B;if(It==null||C==null||N==null)return null;var Ue=$??gx;j||(Ue=gx),u&&Ue.length&&(Ue=v5(Ue.filter(zt=>zt.value!=null&&(zt.hide!==!0||r.includeHidden)),h,AQ));var Sn=Ue.length>0,Hs=E.createElement(_K,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:j,coordinate:k,hasPayload:Sn,offset:d,position:m,reverseDirection:v,useTranslate3d:g,viewBox:C,wrapperStyle:y,lastBoundingBox:X,innerRef:ke,hasPortalFromProps:!!A},xQ(l,vx(vx({},r),{},{payload:Ue,label:je,active:j,activeIndex:P,coordinate:k,accessibilityLayer:I})));return E.createElement(E.Fragment,null,sy.createPortal(Hs,It),j&&E.createElement(eQ,{cursor:b,tooltipEventType:N,coordinate:k,payload:Ue,index:P}))}var jb=e=>null;jb.displayName="Cell";function RQ(e,t,n){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PQ{constructor(t){RQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yx(Object(n),!0).forEach(function(r){DQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DQ(e,t,n){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LQ={cacheSize:2e3,enableCache:!0},XD=NQ({},LQ),bx=new PQ(XD.cacheSize),BQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_x="recharts_measurement_span";function $Q(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var wx=(e,t)=>{try{var n=document.getElementById(_x);n||(n=document.createElement("span"),n.setAttribute("id",_x),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,BQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Dl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vh.isSsr)return{width:0,height:0};if(!XD.enableCache)return wx(t,n);var r=$Q(t,n),i=bx.get(r);if(i)return i;var o=wx(t,n);return bx.set(r,o),o},QD;function zQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ex=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FQ=["cm","mm","pt","pc","in","Q","px"];function KQ(e){return FQ.includes(e)}var Ba="NaN";function YQ(e,t){return e*jQ[t]}class wt{static parse(t){var n,[,r,i]=(n=VQ.exec(t))!==null&&n!==void 0?n:[];return r==null?wt.NaN:new wt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_r(t)&&(this.unit=""),n!==""&&!GQ.test(n)&&(this.num=NaN,this.unit=""),KQ(n)&&(this.num=YQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _r(this.num)}}QD=wt;zQ(wt,"NaN",new QD(NaN,""));function ZD(e){if(e==null||e.includes(Ba))return Ba;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=Sx.exec(t))!==null&&n!==void 0?n:[],a=wt.parse(r??""),s=wt.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return Ba;t=t.replace(Sx,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=Ex.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(c??""),v=wt.parse(h??""),g=d==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Ba;t=t.replace(Ex,g.toString())}return t}var Tx=/\(([^()]*)\)/;function JQ(e){for(var t=e,n;(n=Tx.exec(t))!=null;){var[,r]=n;t=t.replace(Tx,ZD(r))}return t}function WQ(e){var t=e.replace(/\s+/g,"");return t=JQ(t),t=ZD(t),t}function XQ(e){try{return WQ(e)}catch{return Ba}}function Mm(e){var t=XQ(e.slice(5,-1));return t===Ba?"":t}var QQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ZQ=["dx","dy","angle","className","breakAll"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(null,arguments)}function Ax(e,t){if(e==null)return{};var n,r,i=eZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ek=/[ \f\n\r\t\v\u2028\u2029]+/,tk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ft(t)||(n?i=t.toString().split(""):i=t.toString().split(ek));var o=i.map(s=>({word:s,width:Dl(s,r).width})),a=n?0:Dl("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function tZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var nk=(e,t,n,r)=>e.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),rk=e=>e.reduce((t,n)=>t.width>n.width?t:n),nZ="",xx=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=tk({breakAll:n,style:r,children:l+nZ});if(!u)return[!1,[]];var c=nk(u.wordsWithComputedWidth,o,a,s),d=c.length>i||rk(c).width>Number(o);return[d,c]},rZ=(e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=F(o),c=String(a),d=nk(t,r,n,i);if(!u||i)return d;var h=d.length>o||rk(d).width>Number(r);if(!h)return d;for(var m=0,v=c.length-1,g=0,y;m<=v&&g<=c.length-1;){var b=Math.floor((m+v)/2),_=b-1,[w,S]=xx(c,_,l,s,o,r,n,i),[A]=xx(c,b,l,s,o,r,n,i);if(!w&&!A&&(m=b+1),w&&A&&(v=b-1),!w&&A){y=S;break}g++}return y||d},Cx=e=>{var t=ft(e)?[]:e.toString().split(ek);return[{words:t,width:void 0}]},iZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!Vh.isSsr){var s,l,u=tk({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return Cx(r);return rZ({breakAll:o,children:r,maxLines:a,style:i},s,l,t,!!n)}return Cx(r)},ik="#808080",oZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:ik,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Fb=E.forwardRef((e,t)=>{var n=Gn(e,oZ),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=Ax(n,QQ),h=E.useMemo(()=>iZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:v,angle:g,className:y,breakAll:b}=d,_=Ax(d,ZQ);if(!wr(r)||!wr(i)||h.length===0)return null;var w=Number(r)+(F(m)?m:0),S=Number(i)+(F(v)?v:0);if(!fe(w)||!fe(S))return null;var A;switch(c){case"start":A=Mm("calc(".concat(a,")"));break;case"middle":A=Mm("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:A=Mm("calc(".concat(h.length-1," * -").concat(o,")"));break}var T=[],x=h[0];if(l&&x!=null){var R=x.width,{width:C}=d;T.push("scale(".concat(F(C)&&F(R)?C/R:1,")"))}return g&&T.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),T.length&&(_.transform=T.join(" ")),E.createElement("text",Kg({},zn(_),{ref:t,x:w,y:S,className:Me("recharts-text",y),textAnchor:u,fill:s.includes("url")?ik:s}),h.map((I,N)=>{var P=I.words.join(b?"":" ");return E.createElement("tspan",{x:w,dy:N===0?A:o,key:"".concat(P,"-").concat(N)},P)}))});Fb.displayName="Text";function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uZ=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:a,height:s,upperWidth:l,lowerWidth:u}=H0(t),c=o,d=o+(l-u)/2,h=(c+d)/2,m=(l+u)/2,v=c+l/2,g=s>=0?1:-1,y=g*r,b=g>0?"end":"start",_=g>0?"start":"end",w=l>=0?1:-1,S=w*r,A=w>0?"end":"start",T=w>0?"start":"end",x=i;if(n==="top"){var R={x:c+l/2,y:a-y,horizontalAnchor:"middle",verticalAnchor:b};return x&&(R.height=Math.max(a-x.y,0),R.width=l),R}if(n==="bottom"){var C={x:d+u/2,y:a+s+y,horizontalAnchor:"middle",verticalAnchor:_};return x&&(C.height=Math.max(x.y+x.height-(a+s),0),C.width=u),C}if(n==="left"){var I={x:h-S,y:a+s/2,horizontalAnchor:A,verticalAnchor:"middle"};return x&&(I.width=Math.max(I.x-x.x,0),I.height=s),I}if(n==="right"){var N={x:h+m+S,y:a+s/2,horizontalAnchor:T,verticalAnchor:"middle"};return x&&(N.width=Math.max(x.x+x.width-N.x,0),N.height=s),N}var P=x?{width:m,height:s}:{};return n==="insideLeft"?fr({x:h+S,y:a+s/2,horizontalAnchor:T,verticalAnchor:"middle"},P):n==="insideRight"?fr({x:h+m-S,y:a+s/2,horizontalAnchor:A,verticalAnchor:"middle"},P):n==="insideTop"?fr({x:c+l/2,y:a+y,horizontalAnchor:"middle",verticalAnchor:_},P):n==="insideBottom"?fr({x:d+u/2,y:a+s-y,horizontalAnchor:"middle",verticalAnchor:b},P):n==="insideTopLeft"?fr({x:c+S,y:a+y,horizontalAnchor:T,verticalAnchor:_},P):n==="insideTopRight"?fr({x:c+l-S,y:a+y,horizontalAnchor:A,verticalAnchor:_},P):n==="insideBottomLeft"?fr({x:d+S,y:a+s-y,horizontalAnchor:T,verticalAnchor:b},P):n==="insideBottomRight"?fr({x:d+u-S,y:a+s-y,horizontalAnchor:A,verticalAnchor:b},P):n&&typeof n=="object"&&(F(n.x)||zo(n.x))&&(F(n.y)||zo(n.y))?fr({x:o+rr(n.x,m),y:a+rr(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},P):fr({x:v,y:a+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)},cZ=["labelRef"],fZ=["content"];function Rx(e,t){if(e==null)return{};var n,r,i=dZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ix(Object(n),!0).forEach(function(r){hZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(null,arguments)}var ok=E.createContext(null),vZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=E.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return E.createElement(ok.Provider,{value:l},s)},ak=()=>{var e=E.useContext(ok),t=zh();return e||(t?H0(t):void 0)},gZ=E.createContext(null),yZ=()=>{var e=E.useContext(gZ),t=Y(UN);return e||t},bZ=e=>{var{value:t,formatter:n}=e,r=ft(e.children)?t:e.children;return typeof n=="function"?n(r):r},Kb=e=>e!=null&&typeof e=="function",_Z=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wZ=(e,t,n,r,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=i,v=(u+c)/2,g=_Z(d,h),y=g>=0?1:-1,b,_;switch(t){case"insideStart":b=d+y*o,_=m;break;case"insideEnd":b=h-y*o,_=!m;break;case"end":b=h+y*o,_=m;break;default:throw new Error("Unsupported position ".concat(t))}_=g<=0?_:!_;var w=xt(s,l,v,b),S=xt(s,l,v,b+(_?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),T=ft(e.id)?ru("recharts-radial-line-"):e.id;return E.createElement("text",Dr({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:T,d:A})),E.createElement("textPath",{xlinkHref:"#".concat(T)},n))},SZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=xt(r,i,a+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:m,y:v}=xt(r,i,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},uf=e=>e!=null&&"cx"in e&&F(e.cx),EZ={angle:0,offset:5,zIndex:Jt.label,position:"middle",textBreakAll:!1};function TZ(e){if(!uf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function _i(e){var t=Gn(e,EZ),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:s,className:l="",textBreakAll:u,labelRef:c}=t,d=yZ(),h=ak(),m=i==="center"?h:d??h,v,g,y;n==null?v=m:uf(n)?v=n:v=H0(n);var b=TZ(v);if(!v||ft(o)&&ft(a)&&!E.isValidElement(s)&&typeof s!="function")return null;var _=gl(gl({},t),{},{viewBox:v});if(E.isValidElement(s)){var{labelRef:w}=_,S=Rx(_,cZ);return E.cloneElement(s,S)}if(typeof s=="function"){var{content:A}=_,T=Rx(_,fZ);if(g=E.createElement(s,T),E.isValidElement(g))return g}else g=bZ(t);var x=zn(t);if(uf(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return wZ(t,i,g,x,v);y=SZ(v,t.offset,t.position)}else{if(!b)return null;var R=uZ({viewBox:b,position:i,offset:t.offset,parentViewBox:uf(r)?void 0:r});y=gl(gl({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return E.createElement(ro,{zIndex:t.zIndex},E.createElement(Fb,Dr({ref:c,className:Me("recharts-label",l)},x,y,{textAnchor:tZ(x.textAnchor)?x.textAnchor:y.textAnchor,breakAll:u}),g))}_i.displayName="Label";var AZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?E.createElement(_i,Dr({key:"label-implicit"},r)):wr(e)?E.createElement(_i,Dr({key:"label-implicit",value:e},r)):E.isValidElement(e)?e.type===_i?E.cloneElement(e,gl({key:"label-implicit"},r)):E.createElement(_i,Dr({key:"label-implicit",content:e},r)):Kb(e)?E.createElement(_i,Dr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?E.createElement(_i,Dr({},e,{key:"label-implicit"},r)):null};function xZ(e){var{label:t,labelRef:n}=e,r=ak();return AZ(t,r,n)||null}var sk={},lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(lk);var uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk,n=uk,r=Eh;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(sk);var CZ=sk.last;const OZ=or(CZ);var RZ=["valueAccessor"],IZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kd.apply(null,arguments)}function Mx(e,t){if(e==null)return{};var n,r,i=MZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PZ=e=>Array.isArray(e.value)?OZ(e.value):e.value,ck=E.createContext(void 0),NZ=ck.Provider,fk=E.createContext(void 0);fk.Provider;function DZ(){return E.useContext(ck)}function kZ(){return E.useContext(fk)}function cf(e){var{valueAccessor:t=PZ}=e,n=Mx(e,RZ),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=Mx(n,IZ),u=DZ(),c=kZ(),d=u||c;return!d||!d.length?null:E.createElement(ro,{zIndex:s??Jt.label},E.createElement(Wr,{className:"recharts-label-list"},d.map((h,m)=>{var v,g=ft(r)?t(h,m):Ot(h.payload,r),y=ft(o)?{}:{id:"".concat(o,"-").concat(m)};return E.createElement(_i,kd({key:"label-".concat(m)},zn(h),l,y,{fill:(v=n.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:a,viewBox:h.viewBox,index:m,zIndex:0}))})))}cf.displayName="LabelList";function UZ(e){var{label:t}=e;return t?t===!0?E.createElement(cf,{key:"labelList-implicit"}):E.isValidElement(t)||Kb(t)?E.createElement(cf,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(cf,kd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var LZ={radiusAxis:{},angleAxis:{}},dk=Zt({name:"polarAxis",initialState:LZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gie,removeRadiusAxis:yie,addAngleAxis:bie,removeAngleAxis:_ie}=dk.actions,BZ=dk.reducer;function $Z(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var hk={exports:{}},we={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb=Symbol.for("react.transitional.element"),Jb=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),dp=Symbol.for("react.consumer"),hp=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),zZ=Symbol.for("react.view_transition"),qZ=Symbol.for("react.client.reference");function jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yb:switch(e=e.type,e){case up:case fp:case cp:case mp:case vp:case zZ:return e;default:switch(e=e&&e.$$typeof,e){case hp:case pp:case yp:case gp:return e;case dp:return e;default:return t}}case Jb:return t}}}we.ContextConsumer=dp;we.ContextProvider=hp;we.Element=Yb;we.ForwardRef=pp;we.Fragment=up;we.Lazy=yp;we.Memo=gp;we.Portal=Jb;we.Profiler=fp;we.StrictMode=cp;we.Suspense=mp;we.SuspenseList=vp;we.isContextConsumer=function(e){return jn(e)===dp};we.isContextProvider=function(e){return jn(e)===hp};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yb};we.isForwardRef=function(e){return jn(e)===pp};we.isFragment=function(e){return jn(e)===up};we.isLazy=function(e){return jn(e)===yp};we.isMemo=function(e){return jn(e)===gp};we.isPortal=function(e){return jn(e)===Jb};we.isProfiler=function(e){return jn(e)===fp};we.isStrictMode=function(e){return jn(e)===cp};we.isSuspense=function(e){return jn(e)===mp};we.isSuspenseList=function(e){return jn(e)===vp};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===up||e===fp||e===cp||e===mp||e===vp||typeof e=="object"&&e!==null&&(e.$$typeof===yp||e.$$typeof===gp||e.$$typeof===hp||e.$$typeof===dp||e.$$typeof===pp||e.$$typeof===qZ||e.getModuleId!==void 0)};we.typeOf=jn;hk.exports=we;var HZ=hk.exports,Px=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Nx=null,Pm=null,pk=e=>{if(e===Nx&&Array.isArray(Pm))return Pm;var t=[];return E.Children.forEach(e,n=>{ft(n)||(HZ.isFragment(n)?t=t.concat(pk(n.props.children)):t.push(n))}),Pm=t,Nx=e,t};function GZ(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Px(i)):r=[Px(t)],pk(e).forEach(i=>{var o=us(i,"type.displayName")||us(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(mk);var VZ=mk.isPlainObject;const jZ=or(VZ);var Dx,kx,Ux,Lx,Bx;function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(n),!0).forEach(function(r){FZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(null,arguments)}function sl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qx=(e,t,n,r,i)=>{var o=n-r,a;return a=ze(Dx||(Dx=sl(["M ",",",""])),e,t),a+=ze(kx||(kx=sl(["L ",",",""])),e+n,t),a+=ze(Ux||(Ux=sl(["L ",",",""])),e+n-o/2,t+i),a+=ze(Lx||(Lx=sl(["L ",",",""])),e+n-o/2-r,t+i),a+=ze(Bx||(Bx=sl(["L ",","," Z"])),e,t),a},JZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WZ=e=>{var t=Gn(e,JZ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=E.useRef(null),[m,v]=E.useState(-1),g=E.useRef(i),y=E.useRef(o),b=E.useRef(a),_=E.useRef(n),w=E.useRef(r),S=F0(e,"trapezoid-");if(E.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var H=h.current.getTotalLength();H&&v(H)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var A=Me("recharts-trapezoid",s);if(!d)return E.createElement("g",null,E.createElement("path",Ud({},zn(t),{className:A,d:qx(n,r,i,o,a)})));var T=g.current,x=y.current,R=b.current,C=_.current,I=w.current,N="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),q=TP(["strokeDasharray"],u,l);return E.createElement(j0,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},H=>{var Z=St(T,i,H),k=St(x,o,H),$=St(R,a,H),B=St(C,n,H),j=St(I,r,H);h.current&&(g.current=Z,y.current=k,b.current=$,_.current=B,w.current=j);var X=H>0?{transition:q,strokeDasharray:P}:{strokeDasharray:N};return E.createElement("path",Ud({},zn(t),{className:A,d:qx(B,j,Z,k,$),ref:h,style:zx(zx({},X),t.style)}))})},XZ=["option","shapeType","activeClassName"];function QZ(e,t){if(e==null)return{};var n,r,i=ZZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(n),!0).forEach(function(r){eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eee(e,t,n){return(t=tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tee(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ree(e,t){return Ld(Ld({},t),e)}function iee(e,t){return e==="symbols"}function Gx(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return E.createElement(OP,n);case"trapezoid":return E.createElement(WZ,n);case"sector":return E.createElement(MP,n);case"symbols":if(iee(t))return E.createElement(QI,n);break;case"curve":return E.createElement(EP,n);default:return null}}function oee(e){return E.isValidElement(e)?e.props:e}function aee(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=QZ(e,XZ),o;if(E.isValidElement(t))o=E.cloneElement(t,Ld(Ld({},i),oee(t)));else if(typeof t=="function")o=t(i,i.index);else if(jZ(t)&&typeof t!="boolean"){var a=ree(t,i);o=E.createElement(Gx,{shapeType:n,elementProps:a})}else{var s=i;o=E.createElement(Gx,{shapeType:n,elementProps:s})}return i.isActive?E.createElement(Wr,{className:r},o):o}var vk=(e,t,n)=>{var r=Ve();return(i,o)=>a=>{e==null||e(i,o,a),r(AD({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},gk=e=>{var t=Ve();return(n,r)=>i=>{e==null||e(n,r,i),t(AW())}},yk=(e,t,n)=>{var r=Ve();return(i,o)=>a=>{e==null||e(i,o,a),r(xW({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function see(e){var{tooltipEntrySettings:t}=e,n=Ve(),r=wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(wW(t)):i.current!==t&&n(SW({prev:i.current,next:t})),i.current=t)},[t,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(EW(i.current)),i.current=null)},[n]),null}function lee(e){var{legendPayload:t}=e,n=Ve(),r=wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(oK(t)):i.current!==t&&n(aK({prev:i.current,next:t})),i.current=t)},[n,r,t]),E.useLayoutEffect(()=>()=>{i.current&&(n(sK(i.current)),i.current=null)},[n]),null}var Nm,uee=()=>{var[e]=E.useState(()=>ru("uid-"));return e},cee=(Nm=pU.useId)!==null&&Nm!==void 0?Nm:uee;function fee(e,t){var n=cee();return t||(e?"".concat(e,"-").concat(n):n)}var dee=E.createContext(void 0),hee=e=>{var{id:t,type:n,children:r}=e,i=fee("recharts-".concat(n),t);return E.createElement(dee.Provider,{value:i},r(i))},pee={cartesianItems:[],polarItems:[]},bk=Zt({name:"graphicalItems",initialState:pee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ne()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ne()},removeCartesianGraphicalItem:{reducer(e,t){var n=nr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ne()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ne()},removePolarGraphicalItem:{reducer(e,t){var n=nr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ne()}}}),{addCartesianGraphicalItem:mee,replaceCartesianGraphicalItem:vee,removeCartesianGraphicalItem:gee,addPolarGraphicalItem:wie,removePolarGraphicalItem:Sie}=bk.actions,yee=bk.reducer,bee=e=>{var t=Ve(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(mee(e)):n.current!==e&&t(vee({prev:n.current,next:e})),n.current=e},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(t(gee(n.current)),n.current=null)},[t]),null},_ee=E.memo(bee);function Vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=See(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function See(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _k=0,Tee={xAxis:{},yAxis:{},zAxis:{}},wk=Zt({name:"cartesianAxis",initialState:Tee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ne()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ne()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ne()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ne()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ne()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ne()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ne()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ne()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ne()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=jx(jx({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:Aee,replaceXAxis:xee,removeXAxis:Cee,addYAxis:Oee,replaceYAxis:Ree,removeYAxis:Iee,addZAxis:Eie,replaceZAxis:Tie,removeZAxis:Aie,updateYAxisWidth:Mee}=wk.actions,Pee=wk.reducer,Nee=M([ht],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Dee=M([Nee,li,ui],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Sk=()=>Y(Dee),Fx=(e,t,n)=>{var r=n??e;if(!ft(r))return rr(r,t,0)},kee=(e,t,n)=>{var r={},i=e.filter(np),o=e.filter(u=>u.stackId==null),a=i.reduce((u,c)=>{var d=u[c.stackId];return d==null&&(d=[]),d.push(c),u[c.stackId]=d,u},r),s=Object.entries(a).map(u=>{var c,[d,h]=u,m=h.map(g=>g.dataKey),v=Fx(t,n,(c=h[0])===null||c===void 0?void 0:c.barSize);return{stackId:d,dataKeys:m,barSize:v}}),l=o.map(u=>{var c=[u.dataKey].filter(h=>h!=null),d=Fx(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ee(e,t,n,r,i){var o,a=r.length;if(!(a<1)){var s=rr(e,n,0,!0),l,u=[];if(fe((o=r[0])===null||o===void 0?void 0:o.barSize)){var c=!1,d=n/a,h=r.reduce((_,w)=>_+(w.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&d>0&&(c=!0,d*=.9,h=a*d);var m=(n-h)/2>>0,v={offset:m-s,size:0};l=r.reduce((_,w)=>{var S,A={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:v.offset+v.size+s,size:c?d:(S=w.barSize)!==null&&S!==void 0?S:0}},T=[..._,A];return v=A.position,T},u)}else{var g=rr(t,n,0,!0);n-2*g-(a-1)*s<=0&&(s=0);var y=(n-2*g-(a-1)*s)/a;y>1&&(y>>=0);var b=fe(i)?Math.min(y,i):y;l=r.reduce((_,w,S)=>[..._,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+s)*S+(y-b)/2,size:b}}],u)}return l}}var zee=(e,t,n,r,i,o,a)=>{var s=ft(a)?t:a,l=$ee(n,r,i!==o?i:o,e,s);return i!==o&&l!=null&&(l=l.map(u=>$c($c({},u),{},{position:$c($c({},u.position),{},{offset:u.position.offset-i/2})}))),l},qee=(e,t)=>{var n=Tb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},Hee=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Gee(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&fe(e.zIndex)?e.zIndex:t}var Vee=e=>{var{chartData:t}=e,n=Ve(),r=wn();return E.useEffect(()=>r?()=>{}:(n(hx(t)),()=>{n(hx(void 0))}),[t,n,r]),null},Yx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Ek=Zt({name:"brush",initialState:Yx,reducers:{setBrushSettings(e,t){return t.payload==null?Yx:t.payload}}}),{setBrushSettings:xie}=Ek.actions,jee=Ek.reducer;function Fee(e){return(e%180+180)%180}var Kee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Fee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Yee={dots:[],areas:[],lines:[]},Tk=Zt({name:"referenceElements",initialState:Yee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=nr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=nr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=nr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Cie,removeDot:Oie,addArea:Rie,removeArea:Iie,addLine:Mie,removeLine:Pie}=Tk.actions,Jee=Tk.reducer,Wee=E.createContext(void 0),Xee=e=>{var{children:t}=e,[n]=E.useState("".concat(ru("recharts"),"-clip")),r=Sk();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return E.createElement(Wee.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function Ak(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Qee(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Kee(r,n)}function Zee(e,t,n){var r=n==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function gu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function ete(e,t){return Ak(e,t+1)}function tte(e,t,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=t,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Ak(r,u)};var g=l,y,b=()=>(y===void 0&&(y=n(v,g)),y),_=v.coordinate,w=l===0||gu(e,_,b,c,s);w||(l=0,c=a,u+=1),w&&(c=_+e*(b()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function nte(e,t,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:s,end:l}=t,u=1;u<=a;u++){for(var c=(a-1)%u,d=s,h=!0,m=function(){var S=r[g];if(S==null)return 0;var A=g,T,x=()=>(T===void 0&&(T=n(S,A)),T),R=S.coordinate,C=g===c||gu(e,R,x,d,l);if(!C)return h=!1,1;C&&(d=R+e*(x()/2+i))},v,g=c;g<a&&(v=m(),!(v!==0&&v===1));g+=u);if(h){for(var y=[],b=c;b<a;b+=u){var _=r[b];_!=null&&y.push(_)}return y}}return[]}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return(t=ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ite(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(h){var m=o[h];if(m==null)return 1;var v=m,g,y=()=>(g===void 0&&(g=n(m,h)),g);if(h===a-1){var b=e*(v.coordinate+e*y()/2-l);o[h]=v=Rt(Rt({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else o[h]=v=Rt(Rt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=gu(e,v.tickCoord,y,s,l);_&&(l=v.tickCoord-e*(y()/2+i),o[h]=Rt(Rt({},v),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function ste(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1];if(c!=null){var d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);if(a[s-1]=c=Rt(Rt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=gu(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Rt(Rt({},c),{},{isShow:!0}))}}}for(var v=o?s-1:s,g=function(_){var w=a[_];if(w==null)return 1;var S=w,A,T=()=>(A===void 0&&(A=n(w,_)),A);if(_===0){var x=e*(S.coordinate-e*T()/2-l);a[_]=S=Rt(Rt({},S),{},{tickCoord:x<0?S.coordinate-x*e:S.coordinate})}else a[_]=S=Rt(Rt({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var R=gu(e,S.tickCoord,T,l,u);R&&(l=S.tickCoord+e*(T()/2+i),a[_]=Rt(Rt({},S),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return a}function lte(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(F(l)||Vh.isSsr){var h;return(h=ete(i,F(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",g=c&&v==="width"?Dl(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(A,T)=>{var x=typeof u=="function"?u(A.value,T):A.value;return v==="width"?Qee(Dl(x,{fontSize:t,letterSpacing:n}),g,d):Dl(x,{fontSize:t,letterSpacing:n})[v]},b=i[0],_=i[1],w=i.length>=2&&b!=null&&_!=null?fn(_.coordinate-b.coordinate):1,S=Zee(o,w,v);return l==="equidistantPreserveStart"?tte(w,S,y,i,a):l==="equidistantPreserveEnd"?nte(w,S,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=ste(w,S,y,i,a,l==="preserveStartEnd"):m=ate(w,S,y,i,a),m.filter(A=>A.isShow))}var ute=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},cte=["axisLine","width","height","className","hide","ticks","axisType"];function fte(e,t){if(e==null)return{};var n,r,i=dte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jt.axis};function vte(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=$e($e($e({},l),Ji(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=$e($e({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);u=$e($e({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return E.createElement("line",jo({},u,{className:Me("recharts-cartesian-axis-line",us(s,"className"))}))}function gte(e,t,n,r,i,o,a,s,l){var u,c,d,h,m,v,g=s?-1:1,y=e.tickSize||a,b=F(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!s*i,d=h-g*y,v=d-g*l,m=b;break;case"left":d=h=e.coordinate,c=t+ +!s*r,u=c-g*y,m=u-g*l,v=b;break;case"right":d=h=e.coordinate,c=t+ +s*r,u=c+g*y,m=u+g*l,v=b;break;default:u=c=e.coordinate,h=n+ +s*i,d=h+g*y,v=d+g*l,m=b;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:m,y:v}}}function yte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _te(e){var{option:t,tickProps:n,value:r}=e,i,o=Me(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,$e($e({},n),{},{className:o}));else if(typeof t=="function")i=t($e($e({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Me(a,$Z(t))),i=E.createElement(Fb,jo({},n,{className:a}),r)}return i}var wte=E.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:m,width:v,height:g,tickSize:y,tickMargin:b,fontSize:_,letterSpacing:w,getTicksConfig:S,events:A,axisType:T}=e,x=lte($e($e({},S),{},{ticks:n}),_,w),R=yte(c,d),C=bte(c,d),I=Ji(S),N=g0(r),P={};typeof i=="object"&&(P=i);var q=$e($e({},I),{},{fill:"none"},P),H=x.map($=>$e({entry:$},gte($,h,m,v,g,c,y,d,b))),Z=H.map($=>{var{entry:B,line:j}=$;return E.createElement(Wr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},i&&E.createElement("line",jo({},q,j,{className:Me("recharts-cartesian-axis-tick-line",us(i,"className"))})))}),k=H.map(($,B)=>{var j,X,{entry:ke,tick:je}=$,It=$e($e($e($e({verticalAnchor:C},I),{},{textAnchor:R,stroke:"none",fill:o},je),{},{index:B,payload:ke,visibleTicksCount:x.length,tickFormatter:a,padding:l},u),{},{angle:(j=(X=u==null?void 0:u.angle)!==null&&X!==void 0?X:I.angle)!==null&&j!==void 0?j:0}),Ue=$e($e({},It),N);return E.createElement(Wr,jo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ke.value,"-").concat(ke.coordinate,"-").concat(ke.tickCoord)},S0(A,ke,B)),r&&E.createElement(_te,{option:r,tickProps:Ue,value:"".concat(typeof a=="function"?a(ke.value,B):ke.value).concat(s||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},k.length>0&&E.createElement(ro,{zIndex:Jt.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},k)),Z.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},Z))}),Ste=E.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=fte(e,cte),[c,d]=E.useState(""),[h,m]=E.useState(""),v=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return ute({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=E.useCallback(y=>{if(y){var b=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var _=b[0];if(_){var w=window.getComputedStyle(_),S=w.fontSize,A=w.letterSpacing;(S!==c||A!==h)&&(d(S),m(A))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(ro,{zIndex:e.zIndex},E.createElement(Wr,{className:Me("recharts-cartesian-axis",o)},E.createElement(vte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ji(e)}),E.createElement(wte,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),E.createElement(vZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},E.createElement(xZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Wb=E.forwardRef((e,t)=>{var n=Gn(e,No);return E.createElement(Ste,jo({},n,{ref:t}))});Wb.displayName="CartesianAxis";var Ete={},xk=Zt({name:"errorBars",initialState:Ete,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Nie,replaceErrorBar:Die,removeErrorBar:kie}=xk.actions,Tte=xk.reducer,Ate=["children"];function xte(e,t){if(e==null)return{};var n,r,i=Cte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rte=E.createContext(Ote);function Ite(e){var{children:t}=e,n=xte(e,Ate);return E.createElement(Rte.Provider,{value:n},t)}function Ck(e,t){var n,r,i=Y(u=>di(u,e)),o=Y(u=>hi(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:it.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function Mte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Sk(),{needClipX:o,needClipY:a,needClip:s}=Ck(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:c*2,height:a?d:d*2}))}var Pte={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=E;function Nte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dte=typeof Object.is=="function"?Object.is:Nte,kte=Yu.useSyncExternalStore,Ute=Yu.useRef,Lte=Yu.useEffect,Bte=Yu.useMemo,$te=Yu.useDebugValue;Pte.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Ute(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Bte(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var v=a.value;if(i(v,m))return d=v}return d=m}if(v=d,Dte(c,m))return v;var g=r(m);return i!==void 0&&i(v,g)?(c=m,v):(c=m,d=g)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=kte(e,o[0],o[1]);return Lte(function(){a.hasValue=!0,a.value=s},[s]),$te(s),s};function zte(e){e()}function qte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zte(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Xx={notify(){},get:()=>[]};function Hte(e,t){let n,r=Xx,i=0,o=!1;function a(g){c();const y=r.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),d())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=qte())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Xx)}function h(){o||(o=!0,c())}function m(){o&&(o=!1,d())}const v={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return v}var Gte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vte=Gte(),jte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fte=jte(),Kte=()=>Vte||Fte?E.useLayoutEffect:E.useEffect,Yte=Kte();function Qx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jte(e,t){if(Qx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Qx(e[n[i]],t[n[i]]))return!1;return!0}var Dm=Symbol.for("react-redux-context"),km=typeof globalThis<"u"?globalThis:{};function Wte(){if(!E.createContext)return{};const e=km[Dm]??(km[Dm]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Xte=Wte();function Qte(e){const{children:t,context:n,serverState:r,store:i}=e,o=E.useMemo(()=>{const l=Hte(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);Yte(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||Xte;return E.createElement(s.Provider,{value:o},t)}var Zte=Qte,ene=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Xb(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ene.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Jte(e[r],t[r]))return!1}else if(!tne(e[r],t[r]))return!1;return!0}function ea(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:_k}function ta(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:_k}var nne="Invariant failed";function rne(e,t){throw new Error(nne)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(null,arguments)}function Bd(e){return E.createElement(aee,Yg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ine=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(F(t))return t;var o=F(r)||ft(r);return o?t(r,i):(o||rne(),n)}},one=(e,t,n)=>n,ane=(e,t)=>t,Ju=M([xb,ane],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),sne=M([Ju],e=>e==null?void 0:e.maxBarSize),lne=(e,t,n,r)=>r,une=M([_e,xb,ea,ta,one],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),cne=(e,t,n)=>{var r=_e(e),i=ea(e,t),o=ta(e,t);if(!(i==null||o==null))return r==="horizontal"?Hg(e,"yAxis",o,n):Hg(e,"xAxis",i,n)},fne=(e,t)=>{var n=_e(e),r=ea(e,t),i=ta(e,t);if(!(r==null||i==null))return n==="horizontal"?nx(e,"xAxis",r):nx(e,"yAxis",i)},dne=M([une,c7,fne],kee),hne=(e,t,n)=>{var r,i,o=Ju(e,t);if(o==null)return 0;var a=ea(e,t),s=ta(e,t);if(a==null||s==null)return 0;var l=_e(e),u=ON(e),{maxBarSize:c}=o,d=ft(c)?u:c,h,m;return l==="horizontal"?(h=gs(e,"xAxis",a,n),m=vs(e,"xAxis",a,n)):(h=gs(e,"yAxis",s,n),m=vs(e,"yAxis",s,n)),(r=(i=fd(h,m,!0))!==null&&i!==void 0?i:d)!==null&&r!==void 0?r:0},Ok=(e,t,n)=>{var r=_e(e),i=ea(e,t),o=ta(e,t);if(!(i==null||o==null)){var a,s;return r==="horizontal"?(a=gs(e,"xAxis",i,n),s=vs(e,"xAxis",i,n)):(a=gs(e,"yAxis",o,n),s=vs(e,"yAxis",o,n)),fd(a,s)}},pne=M([dne,ON,u7,RN,hne,Ok,sne],zee),mne=(e,t,n)=>{var r=ea(e,t);if(r!=null)return gs(e,"xAxis",r,n)},vne=(e,t,n)=>{var r=ta(e,t);if(r!=null)return gs(e,"yAxis",r,n)},gne=(e,t,n)=>{var r=ea(e,t);if(r!=null)return vs(e,"xAxis",r,n)},yne=(e,t,n)=>{var r=ta(e,t);if(r!=null)return vs(e,"yAxis",r,n)},bne=M([pne,Ju],Hee),_ne=M([cne,Ju],qee),wne=M([ht,z0,mne,vne,gne,yne,bne,_e,t7,Ok,_ne,Ju,lne],(e,t,n,r,i,o,a,s,l,u,c,d,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:g}=l;if(!(d==null||a==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||o==null||u==null)){var{data:y}=d,b;if(y!=null&&y.length>0?b=y:b=m==null?void 0:m.slice(v,g+1),b!=null)return Jne({layout:s,barSettings:d,pos:a,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:c,displayedData:b,offset:e,cells:h,dataStartIndex:v})}}),Sne=["index"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(null,arguments)}function Ene(e,t){if(e==null)return{};var n,r,i=Tne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rk=E.createContext(void 0),Ane=e=>{var t=E.useContext(Rk);if(t!=null)return t.stackId;if(e!=null)return l8(e)},xne=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Cne=e=>{var t=E.useContext(Rk);if(t!=null){var{stackId:n}=t;return"url(#".concat(xne(n,e),")")}},Ik=e=>{var{index:t}=e,n=Ene(e,Sne),r=Cne(t);return E.createElement(Wr,Jg({className:"recharts-bar-stack-layer",clipPath:r},n))},One=["onMouseEnter","onMouseLeave","onClick"],Rne=["value","background","tooltipPosition"],Ine=["id"],Mne=["onMouseEnter","onClick","onMouseLeave"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(null,arguments)}function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(n),!0).forEach(function(r){Pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pne(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $d(e,t){if(e==null)return{};var n,r,i=kne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Une=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:oP(n,t),payload:e}]},Lne=E.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:Ms,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:oP(o,t),hide:a,type:l,color:i,unit:s,graphicalItemId:u}};return E.createElement(see,{tooltipEntrySettings:c})});function Bne(e){var t=Y(ys),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,u=$d(o,One),c=vk(a,r,o.id),d=gk(s),h=yk(l,r,o.id);if(!i||n==null)return null;var m=g0(i);return E.createElement(ro,{zIndex:Gee(i,Jt.barBackground)},n.map((v,g)=>{var{value:y,background:b,tooltipPosition:_}=v,w=$d(v,Rne);if(!b)return null;var S=c(v,g),A=d(v,g),T=h(v,g),x=Nt(Nt(Nt(Nt(Nt({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},b),m),S0(u,v,g)),{},{onMouseEnter:S,onMouseLeave:A,onClick:T,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return E.createElement(Bd,ri({key:"background-bar-".concat(g)},x))}))}function $ne(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Nt(Nt({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return E.createElement(NZ,{value:t?i:void 0},n)}function zne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=e,s=Y(ys),l=Y(zD),u=n&&String(o)===s&&(l==null||a===l),c=u?n:t;return u?E.createElement(ro,{zIndex:Jt.activeBar},E.createElement(Ik,{index:o},E.createElement(Bd,ri({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a})))):E.createElement(Bd,ri({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a}))}function qne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return E.createElement(Bd,ri({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function Hne(e){var t,{data:n,props:r}=e,i=(t=Ji(r))!==null&&t!==void 0?t:{},{id:o}=i,a=$d(i,Ine),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:h}=r,m=$d(r,Mne),v=vk(c,l,o),g=gk(h),y=yk(d,l,o);return n?E.createElement(E.Fragment,null,n.map((b,_)=>E.createElement(Ik,ri({index:_,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(_),className:"recharts-bar-rectangle"},S0(m,b,_),{onMouseEnter:v(b,_),onMouseLeave:g(b,_),onClick:y(b,_)}),u?E.createElement(zne,{shape:s,activeBar:u,baseProps:a,entry:b,index:_,dataKey:l}):E.createElement(qne,{shape:s,baseProps:a,entry:b,index:_,dataKey:l})))):null}function Gne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=n.current,h=F0(t,"recharts-bar-"),[m,v]=E.useState(!1),g=!m,y=E.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=E.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return E.createElement($ne,{showLabels:g,rects:r},E.createElement(j0,{animationId:h,begin:a,duration:s,isActive:o,easing:l,onAnimationEnd:y,onAnimationStart:b,key:h},_=>{var w=_===1?r:r==null?void 0:r.map((S,A)=>{var T=d&&d[A];if(T)return Nt(Nt({},S),{},{x:St(T.x,S.x,_),y:St(T.y,S.y,_),width:St(T.width,S.width,_),height:St(T.height,S.height,_)});if(i==="horizontal"){var x=St(0,S.height,_),R=St(S.stackedBarStart,S.y,_);return Nt(Nt({},S),{},{y:R,height:x})}var C=St(0,S.width,_),I=St(S.stackedBarStart,S.x,_);return Nt(Nt({},S),{},{width:C,x:I})});return _>0&&(n.current=w??null),w==null?null:E.createElement(Wr,null,E.createElement(Hne,{props:t,data:w}))}),E.createElement(UZ,{label:t.label}),t.children)}function Vne(e){var t=E.useRef(null);return E.createElement(Gne,{previousRectanglesRef:t,props:e})}var Mk=0,jne=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ot(e,t)}};class Fne extends E.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:u}=this.props;if(t||n==null)return null;var c=Me("recharts-bar",i),d=u;return E.createElement(Wr,{className:c,id:u},s&&E.createElement("defs",null,E.createElement(Mte,{clipPathId:d,xAxisId:o,yAxisId:a})),E.createElement(Wr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},E.createElement(Bne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),E.createElement(Vne,this.props)))}}var Kne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Mk,xAxisId:0,yAxisId:0,zIndex:Jt.bar};function Yne(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=Ck(t,n),h=Ps(),m=wn(),v=GZ(e.children,jb),g=Y(_=>wne(_,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,E.createElement(Ite,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:jne,errorBarOffset:y},E.createElement(Fne,ri({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Jne(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:v,dataStartIndex:g}=e,y=t==="horizontal"?s:a,b=c?y.scale.domain():null,_=u8({numericAxis:y}),w=y.scale.map(_);return d.map((S,A)=>{var T,x,R,C,I,N;if(c){var P=c[A+g];if(P==null)return null;T=r8(P,b)}else T=Ot(S,n),Array.isArray(T)||(T=[_,T]);var q=ine(r,Mk)(T[1],A);if(t==="horizontal"){var H,Z=s.scale.map(T[0]),k=s.scale.map(T[1]);if(Z==null||k==null)return null;x=cT({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:S,index:A}),R=(H=k??Z)!==null&&H!==void 0?H:void 0,C=i.size;var $=Z-k;if(I=_r($)?0:$,N={x,y:h.top,width:C,height:h.height},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var B=fn(I||q)*(Math.abs(q)-Math.abs(I));R-=B,I+=B}}else{var j=a.scale.map(T[0]),X=a.scale.map(T[1]);if(j==null||X==null)return null;if(x=j,R=cT({axis:s,ticks:u,bandSize:o,offset:i.offset,entry:S,index:A}),C=X-j,I=i.size,N={x:h.left,y:R,width:h.width,height:I},Math.abs(q)>0&&Math.abs(C)<Math.abs(q)){var ke=fn(C||q)*(Math.abs(q)-Math.abs(C));C+=ke}}if(x==null||R==null||C==null||I==null)return null;var je=Nt(Nt({},S),{},{stackedBarStart:w,x,y:R,width:C,height:I,value:c?T:T[1],payload:S,background:N,tooltipPosition:{x:x+C/2,y:R+I/2},parentViewBox:v},m&&m[A]&&m[A].props);return je}).filter(Boolean)}function Wne(e){var t=Gn(e,Kne),n=Ane(t.stackId),r=wn();return E.createElement(hee,{id:t.id,type:"bar"},i=>E.createElement(E.Fragment,null,E.createElement(lee,{legendPayload:Une(t)}),E.createElement(Lne,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),E.createElement(_ee,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),E.createElement(ro,{zIndex:t.zIndex},E.createElement(Yne,ri({},t,{id:i})))))}var Pk=E.memo(Wne,Xb);Pk.displayName="Bar";var Xne=["domain","range"],Qne=["domain","range"];function eC(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Nk(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=eC(e,Xne),{domain:o,range:a}=t,s=eC(t,Qne);return!tC(n,o)||!tC(r,a)?!1:Xb(i,s)}var ere=["type"],tre=["dangerouslySetInnerHTML","ticks","scale"],nre=["id","scale"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rre(e,t,n){return(t=ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ire(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xg(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sre(e){var t=Ve(),n=E.useRef(null),r=hP(),{type:i}=e,o=Xg(e,ere),a=Zh(r,"xAxis",i),s=E.useMemo(()=>{if(a!=null)return rC(rC({},o),{},{type:a})},[o,a]);return E.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Aee(s)):n.current!==s&&t(xee({prev:n.current,next:s})),n.current=s)},[s,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Cee(n.current)),n.current=null)},[t]),null}var lre=e=>{var{xAxisId:t,className:n}=e,r=Y(z0),i=wn(),o="xAxis",a=Y(b=>bD(b,o,t,i)),s=Y(b=>mD(b,t)),l=Y(b=>fW(b,t)),u=Y(b=>BN(b,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=Xg(e,tre),{id:v,scale:g}=u,y=Xg(u,nre);return E.createElement(Wb,Wg({},m,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:Me("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},ure={allowDataOverflow:it.allowDataOverflow,allowDecimals:it.allowDecimals,allowDuplicatedCategory:it.allowDuplicatedCategory,angle:it.angle,axisLine:No.axisLine,height:it.height,hide:!1,includeHidden:it.includeHidden,interval:it.interval,label:!1,minTickGap:it.minTickGap,mirror:it.mirror,orientation:it.orientation,padding:it.padding,reversed:it.reversed,scale:it.scale,tick:it.tick,tickCount:it.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:it.type,xAxisId:0},cre=e=>{var t=Gn(e,ure);return E.createElement(E.Fragment,null,E.createElement(sre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),E.createElement(lre,t))},Dk=E.memo(cre,Nk);Dk.displayName="XAxis";var fre=["type"],dre=["dangerouslySetInnerHTML","ticks","scale"],hre=["id","scale"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(null,arguments)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){pre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pre(e,t,n){return(t=mre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zg(e,t){if(e==null)return{};var n,r,i=gre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yre(e){var t=Ve(),n=E.useRef(null),r=hP(),{type:i}=e,o=Zg(e,fre),a=Zh(r,"yAxis",i),s=E.useMemo(()=>{if(a!=null)return oC(oC({},o),{},{type:a})},[a,o]);return E.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Oee(s)):n.current!==s&&t(Ree({prev:n.current,next:s})),n.current=s)},[s,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}function bre(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=E.useRef(null),a=E.useRef(null),s=Y(z0),l=wn(),u=Ve(),c="yAxis",d=Y(T=>vD(T,t)),h=Y(T=>hW(T,t)),m=Y(T=>bD(T,c,t,l)),v=Y(T=>$N(T,t));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!d||Kb(i)||E.isValidElement(i)||v==null)){var T=o.current;if(T){var x=T.getCalculatedWidth();Math.round(d.width)!==Math.round(x)&&u(Mee({id:t,width:x}))}}},[m,d,u,i,t,r,v]),d==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:b}=e,_=Zg(e,dre),{id:w,scale:S}=v,A=Zg(v,hre);return E.createElement(Wb,Qg({},_,A,{ref:o,labelRef:a,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:Me("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:m,axisType:c}))}var _re={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:No.axisLine,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,label:!1,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:ot.type,width:ot.width,yAxisId:0},wre=e=>{var t=Gn(e,_re);return E.createElement(E.Fragment,null,E.createElement(yre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),E.createElement(bre,t))},kk=E.memo(wre,Nk);kk.displayName="YAxis";var Sre=(e,t)=>t,Qb=M([Sre,_e,UN,vt,UD,pi,CX,ht],DX),Zb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Uk=qn("mouseClick"),Lk=Du();Lk.startListening({actionCreator:Uk,effect:(e,t)=>{var n=e.payload,r=Qb(t.getState(),Zb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(CW({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ey=qn("mouseMove"),Bk=Du(),zc=null;Bk.startListening({actionCreator:ey,effect:(e,t)=>{var n=e.payload;zc!==null&&cancelAnimationFrame(zc);var r=Zb(n);zc=requestAnimationFrame(()=>{var i=t.getState(),o=kb(i,i.tooltip.settings.shared);if(o==="axis"){var a=Qb(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(CD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(xD())}zc=null})}});function Ere(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$k=Zt({name:"rootProps",initialState:aC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:aC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Tre=$k.reducer,{updateOptions:Are}=$k.actions,xre=null,Cre={updatePolarOptions:(e,t)=>t.payload},zk=Zt({name:"polarOptions",initialState:xre,reducers:Cre}),{updatePolarOptions:Uie}=zk.actions,Ore=zk.reducer,qk=qn("keyDown"),Hk=qn("focus"),e_=Du();e_.startListening({actionCreator:qk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Ub(i,qs(n),Vu(n),Fu(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=pi(n);if(o==="Enter"){var u=Dd(n,"axis","hover",String(i.index));t.dispatch(Vg({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=gW(n),d=c==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,m=s+h*d;if(!(l==null||m>=l.length||m<0)){var v=Dd(n,"axis","hover",String(m));t.dispatch(Vg({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});e_.startListening({actionCreator:Hk,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Dd(n,"axis","hover",String(o));t.dispatch(Vg({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var An=qn("externalEvent"),Gk=Du(),Um=new Map;Gk.startListening({actionCreator:An,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Um.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:dX(s),activeDataKey:zD(s),activeIndex:ys(s),activeLabel:$D(s),activeTooltipIndex:ys(s),isTooltipActive:hX(s)};n(l,r)}finally{Um.delete(i)}});Um.set(i,a)}}});var Rre=M([$s],e=>e.tooltipItemPayloads),Ire=M([Rre,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),Vk=qn("touchMove"),jk=Du();jk.startListening({actionCreator:Vk,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=kb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=Qb(r,Zb({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(CD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(v8),d=(s=u.getAttribute(g8))!==null&&s!==void 0?s:void 0,h=zs(r).find(g=>g.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,v=Ire(r,c,d);t.dispatch(AD({activeDataKey:m,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Mre=IM({brush:jee,cartesianAxis:Pee,chartData:fQ,errorBars:Tte,graphicalItems:yee,layout:Q6,legend:lK,options:aQ,polarAxis:BZ,polarOptions:Ore,referenceElements:Jee,rootProps:Tre,tooltip:OW,zIndex:YX}),Pre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return E6({reducer:Mre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Lk.middleware,Bk.middleware,e_.middleware,Gk.middleware,jk.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(jM({type:"raf"}))},devTools:{serialize:{replacer:Ere},name:"recharts-".concat(n)}})};function Nre(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=wn(),o=E.useRef(null);if(i)return n;o.current==null&&(o.current=Pre(t,r));var a=M0;return E.createElement(Zte,{context:a,store:o.current},n)}function Dre(e){var{layout:t,margin:n}=e,r=Ve(),i=wn();return E.useEffect(()=>{i||(r(J6(t)),r(Y6(n)))},[r,i,t,n]),null}var kre=E.memo(Dre,Xb);function Ure(e){var t=Ve();return E.useEffect(()=>{t(Are(e))},[t,e]),null}function sC(e){var{zIndex:t,isPanorama:n}=e,r=E.useRef(null),i=Ve();return E.useLayoutEffect(()=>(r.current&&i(FX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(KX({zIndex:t,isPanorama:n}))}),[i,t,n]),E.createElement("g",{tabIndex:-1,ref:r})}function lC(e){var{children:t,isPanorama:n}=e,r=Y(UX);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(sC,{key:a,zIndex:a,isPanorama:n})),t,o.map(a=>E.createElement(sC,{key:a,zIndex:a,isPanorama:n})))}var Lre=["children"];function Bre(e,t){if(e==null)return{};var n,r,i=$re(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $re(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(null,arguments)}var zre={width:"100%",height:"100%",display:"block"},qre=E.forwardRef((e,t)=>{var n=V8(),r=j8(),i=SP();if(!Wi(n)||!Wi(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),E.createElement(MI,zd({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:zre,ref:t}),o)}),Hre=e=>{var{children:t}=e,n=Y($h);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return E.createElement(MI,{width:r,height:i,x:a,y:o},t)},uC=E.forwardRef((e,t)=>{var{children:n}=e,r=Bre(e,Lre),i=wn();return i?E.createElement(Hre,null,E.createElement(lC,{isPanorama:!0},n)):E.createElement(qre,zd({ref:t},r),E.createElement(lC,{isPanorama:!1},n))});function Gre(){var e=Ve(),[t,n]=E.useState(null),r=Y(m8);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;fe(o)&&o!==r&&e(X6(o))}},[t,e,r]),n}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){jre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jre(e,t,n){return(t=Fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(null,arguments)}var Yre=()=>(_Q(),null);function qd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Jre=E.forwardRef((e,t)=>{var n,r,i=E.useRef(null),[o,a]=E.useState({containerWidth:qd((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:qd((r=e.style)===null||r===void 0?void 0:r.height)}),s=E.useCallback((u,c)=>{a(d=>{var h=Math.round(u),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=v=>{var g=v[0];if(g!=null){var{width:y,height:b}=g.contentRect;s(y,b)}},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,s]);return E.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),E.createElement(E.Fragment,null,E.createElement(Uu,{width:o.containerWidth,height:o.containerHeight}),E.createElement("div",Vi({ref:l},e)))}),Wre=E.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=E.useState({containerWidth:qd(n),containerHeight:qd(r)}),a=E.useCallback((l,u)=>{o(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=E.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[t,a]);return E.createElement(E.Fragment,null,E.createElement(Uu,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Vi({ref:s},e)))}),Xre=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement("div",Vi({ref:t},e)))}),Qre=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?E.createElement(Wre,Vi({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?E.createElement(Xre,Vi({},e,{width:n,height:r,ref:t})):E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement("div",Vi({ref:t},e)))});function Zre(e){return e?Jre:Qre}var eie=E.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:y,width:b,responsive:_,dispatchTouchEvents:w=!0}=e,S=E.useRef(null),A=Ve(),[T,x]=E.useState(null),[R,C]=E.useState(null),I=Gre(),N=q0(),P=(N==null?void 0:N.width)>0?N.width:b,q=(N==null?void 0:N.height)>0?N.height:i,H=E.useCallback(U=>{I(U),typeof t=="function"&&t(U),x(U),C(U),U!=null&&(S.current=U)},[I,t,x,C]),Z=E.useCallback(U=>{A(Uk(U)),A(An({handler:o,reactEvent:U}))},[A,o]),k=E.useCallback(U=>{A(ey(U)),A(An({handler:u,reactEvent:U}))},[A,u]),$=E.useCallback(U=>{A(xD()),A(An({handler:c,reactEvent:U}))},[A,c]),B=E.useCallback(U=>{A(ey(U)),A(An({handler:d,reactEvent:U}))},[A,d]),j=E.useCallback(()=>{A(Hk())},[A]),X=E.useCallback(U=>{A(qk(U.key))},[A]),ke=E.useCallback(U=>{A(An({handler:a,reactEvent:U}))},[A,a]),je=E.useCallback(U=>{A(An({handler:s,reactEvent:U}))},[A,s]),It=E.useCallback(U=>{A(An({handler:l,reactEvent:U}))},[A,l]),Ue=E.useCallback(U=>{A(An({handler:h,reactEvent:U}))},[A,h]),Sn=E.useCallback(U=>{A(An({handler:g,reactEvent:U}))},[A,g]),Hs=E.useCallback(U=>{w&&A(Vk(U)),A(An({handler:v,reactEvent:U}))},[A,w,v]),zt=E.useCallback(U=>{A(An({handler:m,reactEvent:U}))},[A,m]),bp=Zre(_);return E.createElement(KD.Provider,{value:T},E.createElement(mF.Provider,{value:R},E.createElement(bp,{width:P??(y==null?void 0:y.width),height:q??(y==null?void 0:y.height),className:Me("recharts-wrapper",r),style:Vre({position:"relative",cursor:"default",width:P,height:q},y),onClick:Z,onContextMenu:ke,onDoubleClick:je,onFocus:j,onKeyDown:X,onMouseDown:It,onMouseEnter:k,onMouseLeave:$,onMouseMove:B,onMouseUp:Ue,onTouchEnd:zt,onTouchMove:Hs,onTouchStart:Sn,ref:H},E.createElement(Yre,null),n)))}),tie=["width","height","responsive","children","className","style","compact","title","desc"];function nie(e,t){if(e==null)return{};var n,r,i=rie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iie=E.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,d=nie(e,tie),h=Ji(d);return l?E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement(uC,{otherAttributes:h,title:u,desc:c},o)):E.createElement(eie,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(uC,{otherAttributes:h,title:u,desc:c,ref:t},E.createElement(Xee,null,o)))});function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}var oie={top:5,right:5,bottom:5,left:5},aie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:oie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},sie=E.forwardRef(function(t,n){var r,i=Gn(t.categoricalChartProps,aie),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return E.createElement(Nre,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},E.createElement(Vee,{chartData:u.data}),E.createElement(kre,{layout:i.layout,margin:i.margin}),E.createElement(Ure,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(iie,ty({},i,{ref:n})))}),lie=["axis","item"],uie=E.forwardRef((e,t)=>E.createElement(sie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lie,tooltipPayloadSearcher:iQ,categoricalChartProps:e,ref:t}));const cie=()=>{const[e,t]=E.useState(null),[n,r]=E.useState([]),[i,o]=E.useState([]),[a,s]=E.useState("dashboard"),[l,u]=E.useState(null),[c,d]=E.useState(void 0),[h,m]=E.useState(!0),[v,g]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const C=localStorage.getItem("au_user");let I=null;C&&(I=JSON.parse(C),t(I),(I==null?void 0:I.role)===Cn.ADMIN&&s("admin"));const[N,P]=await Promise.all([xi.getQuizzes(),xi.getAttempts((I==null?void 0:I.role)===Cn.STUDENT?I.id:void 0)]);r(N.length?N:YL),o(P);const q=localStorage.getItem("au_ai_enabled");q!==null&&g(q==="true")}catch(C){console.error("DB Sync Failure",C)}finally{m(!1)}})()},[]);const y=()=>{t(null),localStorage.removeItem("au_user"),s("dashboard")},b=R=>{t(R),localStorage.setItem("au_user",JSON.stringify(R)),s(R.role===Cn.ADMIN?"admin":"dashboard")},_=async R=>{m(!0);try{await xi.saveAttempt(R),o(C=>[...C,R]),u(null),s("stats")}catch{alert("Database error saving results.")}finally{m(!1)}},w=async R=>{m(!0);try{await xi.saveQuiz(R),r(C=>C.find(N=>N.id===R.id)?C.map(N=>N.id===R.id?R:N):[R,...C]),s("admin")}catch{alert("Error saving curriculum.")}finally{m(!1)}},S=()=>{const R=!v;g(R),localStorage.setItem("au_ai_enabled",String(R))};if(!e)return O.jsx(Rz,{onLogin:b});if(h)return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:O.jsxs("div",{className:"flex flex-col items-center gap-4",children:[O.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),O.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:"Aditya Portal Syncing..."})]})});const A=e.role===Cn.ADMIN,T=i.filter(R=>R.studentId===e.id),x=n.map(R=>{const C=T.filter(N=>N.quizId===R.id),I=C.length?Math.max(...C.map(N=>N.score/N.totalQuestions*100)):0;return{name:R.title.substring(0,10),score:Math.round(I)}}).filter(R=>R.score>0);return O.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[O.jsxs("nav",{className:"w-full md:w-72 glass border-r border-slate-200 p-8 flex flex-col gap-8 sticky top-0 md:h-screen z-50",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center font-bold text-white shadow-lg shadow-blue-100",children:"A"}),O.jsxs("div",{children:[O.jsx("span",{className:"font-extrabold text-lg tracking-tight block",children:"Aditya Univ"}),O.jsxs("span",{className:"text-[9px] uppercase font-black text-blue-600 tracking-widest",children:[e.role," PORTAL"]})]})]}),O.jsxs("div",{className:"flex flex-col gap-2",children:[A?O.jsxs("button",{onClick:()=>s("admin"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="admin"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[O.jsx(pR,{className:"w-5 h-5"})," Faculty Console"]}):O.jsxs("button",{onClick:()=>s("dashboard"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="dashboard"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[O.jsx(JL,{className:"w-5 h-5"})," Student Hub"]}),O.jsxs("button",{onClick:()=>s("library"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="library"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[O.jsx(Mw,{className:"w-5 h-5"})," Library"]}),O.jsxs("button",{onClick:()=>s("stats"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="stats"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[O.jsx(WL,{className:"w-5 h-5"})," Analytics"]}),O.jsx("div",{className:"pt-4 mt-4 border-t border-slate-100",children:O.jsxs("button",{onClick:()=>s("ai-assistant"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all w-full text-left ${a==="ai-assistant"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:bg-slate-100"}`,children:[O.jsx(Pw,{className:"w-5 h-5"})," AI Assistant",O.jsx("span",{className:"ml-auto text-[7px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded font-black uppercase",children:"Beta"})]})})]}),O.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[O.jsxs("div",{className:"mb-4 flex items-center gap-3 p-3 bg-slate-50 rounded-2xl",children:[O.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center font-bold text-blue-600 text-xs",children:e.name[0]}),O.jsxs("div",{className:"overflow-hidden",children:[O.jsx("p",{className:"text-xs font-bold truncate",children:e.name}),O.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:A?"Faculty":"Student"})]})]}),O.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-red-50 text-red-600 font-bold hover:bg-red-600 hover:text-white transition-all",children:[O.jsx(XL,{className:"w-4 h-4"})," Sign Out"]})]})]}),O.jsxs("main",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:[a==="dashboard"&&O.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[O.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900",children:"Academic Assessments"}),O.jsxs("p",{className:"text-slate-500 mb-12 font-medium",children:["Hello ",e.name.split(" ")[0],", select a module to start your test."]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map(R=>O.jsxs("div",{className:"glass p-10 rounded-[3rem] border border-slate-100 hover:border-blue-400 transition-all flex flex-col group relative bg-white/80",children:[O.jsx("div",{className:"absolute top-8 right-8 text-[10px] font-black uppercase text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:R.category}),O.jsx("h3",{className:"text-2xl font-black mb-4 group-hover:text-blue-600 transition-colors",children:R.title}),O.jsx("p",{className:"text-slate-500 text-sm mb-8 leading-relaxed line-clamp-2",children:R.description}),O.jsx("button",{onClick:()=>{u(R),s("quiz")},className:"mt-auto w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-600 transition-all shadow-xl shadow-slate-100",children:"Launch Module"})]},R.id))})]}),a==="admin"&&A&&O.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[O.jsxs("div",{className:"flex justify-between items-center mb-12",children:[O.jsx("h1",{className:"text-5xl font-black tracking-tighter",children:"Faculty Console"}),O.jsxs("div",{className:"flex gap-4",children:[O.jsxs("button",{onClick:S,className:`px-6 py-4 rounded-2xl font-bold text-[10px] uppercase tracking-widest transition-all border ${v?"bg-green-50 text-green-600 border-green-200":"bg-slate-50 text-slate-400 border-slate-200"}`,children:["AI Features: ",v?"Requested":"Offline"]}),O.jsx("button",{onClick:()=>{d(void 0),s("editor")},className:"px-8 py-4 bg-blue-600 text-white font-black text-xs uppercase tracking-widest rounded-2xl shadow-xl shadow-blue-100 hover:bg-blue-700 transition-all",children:"Create New Quiz"})]})]}),O.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:O.jsxs("div",{className:"p-8 bg-blue-600 rounded-[2.5rem] text-white shadow-2xl shadow-blue-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-2xl font-black mb-2",children:"Institutional Configuration"}),O.jsx("p",{className:"opacity-80 text-sm font-medium",children:"Manage curriculum and AI module toggles."})]}),O.jsxs("div",{className:"flex items-center gap-4 bg-white/10 p-4 rounded-2xl border border-white/20",children:[O.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Toggle AI Option"}),O.jsx("div",{onClick:S,className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${v?"bg-green-400":"bg-slate-400"}`,children:O.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${v?"translate-x-6":"translate-x-0"}`})})]})]})}),O.jsx("div",{className:"glass rounded-[2.5rem] overflow-hidden border border-slate-200 bg-white/50",children:O.jsxs("table",{className:"w-full text-left",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[O.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-400",children:"Curriculum Module"}),O.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-400 text-right",children:"Actions"})]})}),O.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(R=>O.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[O.jsxs("td",{className:"p-6",children:[O.jsx("span",{className:"font-black text-slate-800 text-lg",children:R.title}),O.jsx("br",{}),O.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[R.questions.length," Questions  ",R.duration," Mins"]})]}),O.jsxs("td",{className:"p-6 text-right",children:[O.jsx("button",{onClick:()=>{d(R),s("editor")},className:"text-blue-600 font-black text-xs uppercase px-4 py-2 hover:bg-blue-50 rounded-xl transition-all",children:"Edit"}),O.jsx("button",{onClick:()=>xi.deleteQuiz(R.id).then(()=>r(n.filter(C=>C.id!==R.id))),className:"text-red-500 font-black text-xs uppercase px-4 py-2 hover:bg-red-50 rounded-xl transition-all ml-2",children:"Delete"})]})]},R.id))})]})})]}),a==="stats"&&O.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[O.jsx("h1",{className:"text-5xl font-black mb-12 tracking-tighter text-slate-900",children:"Performance Analysis"}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[O.jsxs("div",{className:"lg:col-span-2 glass p-10 rounded-[3rem] border border-slate-200 min-h-[400px] bg-white/80",children:[O.jsx("h3",{className:"text-xl font-black mb-8 text-slate-800",children:"Mastery Distribution"}),O.jsx(q8,{width:"100%",height:300,children:O.jsxs(uie,{data:x,children:[O.jsx(Dk,{dataKey:"name",hide:!0}),O.jsx(kk,{hide:!0,domain:[0,100]}),O.jsx(OQ,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"}}),O.jsx(Pk,{dataKey:"score",radius:[12,12,12,12],barSize:45,children:x.map((R,C)=>O.jsx(jb,{fill:C%2===0?"#3b82f6":"#8b5cf6"},C))})]})})]}),O.jsxs("div",{className:"glass p-10 rounded-[3rem] bg-blue-600 text-white flex flex-col justify-center shadow-2xl shadow-blue-200",children:[O.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-2",children:"Aggregate Proficiency"}),O.jsxs("h2",{className:"text-8xl font-black",children:[x.length?Math.round(x.reduce((R,C)=>R+C.score,0)/x.length):0,"%"]}),O.jsx("p",{className:"text-sm mt-6 opacity-80 leading-relaxed font-medium",children:"Your current standing across all Aditya University modules."})]})]})]}),a==="ai-assistant"&&O.jsxs("div",{className:"max-w-4xl mx-auto text-center py-20 animate-slideUp",children:[O.jsx("div",{className:"w-24 h-24 bg-slate-900 text-white rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl",children:O.jsx(Pw,{className:"w-12 h-12"})}),O.jsx("h1",{className:"text-5xl font-black mb-6 tracking-tighter",children:"AI Tutor Assistant"}),O.jsxs("div",{className:"glass p-10 rounded-[3rem] border border-slate-200 bg-white/80 max-w-2xl mx-auto",children:[O.jsx("p",{className:"text-slate-600 font-bold mb-8",children:"The Aditya University AI ChatBox has been removed as an active feature and kept as a development option."}),O.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-100 rounded-2xl text-left",children:[O.jsx("h4",{className:"font-black text-blue-600 uppercase text-[10px] tracking-widest mb-3",children:"Developer Note:"}),O.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[O.jsxs("li",{className:"flex items-start gap-2",children:[O.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),"Functional connectivity to Gemini API has been stubbed."]}),O.jsxs("li",{className:"flex items-start gap-2",children:[O.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),"UI Placeholder is active for future conversational logic."]}),O.jsxs("li",{className:"flex items-start gap-2",children:[O.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),"Toggle this feature in the Faculty Console."]})]})]}),O.jsx("button",{className:"mt-10 px-10 py-4 bg-slate-100 text-slate-400 rounded-2xl font-black text-xs uppercase tracking-widest cursor-not-allowed",children:"System Paused"})]})]}),a==="quiz"&&l&&O.jsx(iF,{quiz:l,userId:e.id,onComplete:_,onCancel:()=>s(A?"admin":"dashboard")}),a==="editor"&&A&&O.jsx(oF,{quiz:c,onSave:w,onCancel:()=>s("admin")}),a==="library"&&O.jsxs("div",{className:"max-w-5xl mx-auto text-center py-32 animate-slideUp",children:[O.jsx("div",{className:"w-24 h-24 bg-blue-50 text-blue-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-blue-50",children:O.jsx(Mw,{className:"w-12 h-12"})}),O.jsx("h1",{className:"text-4xl font-black mb-4",children:"Faculty Resource Library"}),O.jsx("p",{className:"text-slate-500 max-w-md mx-auto leading-relaxed",children:"Study guides and lecture materials are managed via the Secure College Database."})]})]})]})},Fk=document.getElementById("root");if(!Fk)throw new Error("Could not find root element to mount to");const fie=KL.createRoot(Fk);fie.render(O.jsx(_C.StrictMode,{children:O.jsx(cie,{})}));
