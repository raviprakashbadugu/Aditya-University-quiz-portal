var YD=Object.defineProperty;var JD=(e,t,n)=>t in e?YD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _p=(e,t,n)=>JD(e,typeof t!="symbol"?t+"":t,n);function WD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fC={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD=Symbol.for("react.transitional.element"),QD=Symbol.for("react.fragment");function dC(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:XD,type:e,key:r,ref:t!==void 0?t:null,props:n}}Hd.Fragment=QD;Hd.jsx=dC;Hd.jsxs=dC;fC.exports=Hd;var C=fC.exports,hC={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.transitional.element"),ZD=Symbol.for("react.portal"),e2=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),n2=Symbol.for("react.profiler"),r2=Symbol.for("react.consumer"),i2=Symbol.for("react.context"),o2=Symbol.for("react.forward_ref"),a2=Symbol.for("react.suspense"),s2=Symbol.for("react.memo"),pC=Symbol.for("react.lazy"),l2=Symbol.for("react.activity"),r_=Symbol.iterator;function u2(e){return e===null||typeof e!="object"?null:(e=r_&&e[r_]||e["@@iterator"],typeof e=="function"?e:null)}var mC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,gC={};function bs(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}bs.prototype.isReactComponent={};bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yC(){}yC.prototype=bs.prototype;function iy(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}var oy=iy.prototype=new yC;oy.constructor=iy;vC(oy,bs.prototype);oy.isPureReactComponent=!0;var i_=Array.isArray;function Bm(){}var Re={H:null,A:null,T:null,S:null},bC=Object.prototype.hasOwnProperty;function ay(e,t,n){var r=n.ref;return{$$typeof:ry,type:e,key:t,ref:r!==void 0?r:null,props:n}}function c2(e,t){return ay(e.type,t,e.props)}function sy(e){return typeof e=="object"&&e!==null&&e.$$typeof===ry}function f2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o_=/\/+/g;function wp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f2(""+e.key):t.toString(36)}function d2(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Bm,Bm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function pa(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ry:case ZD:a=!0;break;case pC:return a=e._init,pa(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+wp(e,0):r,i_(i)?(n="",a!=null&&(n=a.replace(o_,"$&/")+"/"),pa(i,t,n,"",function(u){return u})):i!=null&&(sy(i)&&(i=c2(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(o_,"$&/")+"/")+a)),t.push(i)),1;a=0;var s=r===""?".":r+":";if(i_(e))for(var l=0;l<e.length;l++)r=e[l],o=s+wp(r,l),a+=pa(r,t,n,o,i);else if(l=u2(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=s+wp(r,l++),a+=pa(r,t,n,o,i);else if(o==="object"){if(typeof e.then=="function")return pa(d2(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Wu(e,t,n){if(e==null)return e;var r=[],i=0;return pa(e,r,"","",function(o){return t.call(n,o,i++)}),r}function h2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var a_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},p2={map:Wu,forEach:function(e,t,n){Wu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wu(e,function(){t++}),t},toArray:function(e){return Wu(e,function(t){return t})||[]},only:function(e){if(!sy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Activity=l2;ee.Children=p2;ee.Component=bs;ee.Fragment=e2;ee.Profiler=n2;ee.PureComponent=iy;ee.StrictMode=t2;ee.Suspense=a2;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;ee.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};ee.cache=function(e){return function(){return e.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=vC({},e.props),i=e.key;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)!bC.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return ay(e.type,i,r)};ee.createContext=function(e){return e={$$typeof:i2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:r2,_context:e},e};ee.createElement=function(e,t,n){var r,i={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)bC.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return ay(e,o,i)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:o2,render:e}};ee.isValidElement=sy;ee.lazy=function(e){return{$$typeof:pC,_payload:{_status:-1,_result:e},_init:h2}};ee.memo=function(e,t){return{$$typeof:s2,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Re.T,n={};Re.T=n;try{var r=e(),i=Re.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Bm,a_)}catch(o){a_(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),Re.T=t}};ee.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};ee.use=function(e){return Re.H.use(e)};ee.useActionState=function(e,t,n){return Re.H.useActionState(e,t,n)};ee.useCallback=function(e,t){return Re.H.useCallback(e,t)};ee.useContext=function(e){return Re.H.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};ee.useEffect=function(e,t){return Re.H.useEffect(e,t)};ee.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};ee.useId=function(){return Re.H.useId()};ee.useImperativeHandle=function(e,t,n){return Re.H.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Re.H.useMemo(e,t)};ee.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};ee.useReducer=function(e,t,n){return Re.H.useReducer(e,t,n)};ee.useRef=function(e){return Re.H.useRef(e)};ee.useState=function(e){return Re.H.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Re.H.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Re.H.useTransition()};ee.version="19.2.4";hC.exports=ee;var E=hC.exports;const _C=or(E),m2=WD({__proto__:null,default:_C},[E]);var wC={exports:{}},Gd={},SC={exports:{}},EC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var B=D.length;D.push($);e:for(;0<B;){var V=B-1>>>1,X=D[V];if(0<i(X,$))D[V]=$,D[B]=X,B=V;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],B=D.pop();if(B!==$){D[0]=B;e:for(var V=0,X=D.length,De=X>>>1;V<De;){var Ve=2*(V+1)-1,It=D[Ve],Ue=Ve+1,Sn=D[Ue];if(0>i(It,B))Ue<X&&0>i(Sn,It)?(D[V]=Sn,D[Ue]=B,V=Ue):(D[V]=It,D[Ve]=B,V=Ve);else if(Ue<X&&0>i(Sn,B))D[V]=Sn,D[Ue]=B,V=Ue;else break e}}return $}function i(D,$){var B=D.sortIndex-$.sortIndex;return B!==0?B:D.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,v=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function S(D){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function A(D){if(g=!1,S(D),!v)if(n(l)!==null)v=!0,T||(T=!0,P());else{var $=n(u);$!==null&&Z(A,$.startTime-D)}}var T=!1,x=-1,R=5,O=-1;function I(){return y?!0:!(e.unstable_now()-O<R)}function N(){if(y=!1,T){var D=e.unstable_now();O=D;var $=!0;try{e:{v=!1,g&&(g=!1,_(x),x=-1),m=!0;var B=h;try{t:{for(S(D),f=n(l);f!==null&&!(f.expirationTime>D&&I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var X=V(f.expirationTime<=D);if(D=e.unstable_now(),typeof X=="function"){f.callback=X,S(D),$=!0;break t}f===n(l)&&r(l),S(D)}else r(l);f=n(l)}if(f!==null)$=!0;else{var De=n(u);De!==null&&Z(A,De.startTime-D),$=!1}}break e}finally{f=null,h=B,m=!1}$=void 0}}finally{$?P():T=!1}}}var P;if(typeof w=="function")P=function(){w(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=N,P=function(){q.postMessage(null)}}else P=function(){b(N,0)};function Z(D,$){x=b(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var B=h;h=$;try{return D()}finally{h=B}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return $()}finally{h=B}},e.unstable_scheduleCallback=function(D,$,B){var V=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,D={id:c++,callback:$,priorityLevel:D,startTime:B,expirationTime:X,sortIndex:-1},B>V?(D.sortIndex=B,t(u,D),n(l)===null&&D===n(u)&&(g?(_(x),x=-1):g=!0,Z(A,B-V))):(D.sortIndex=X,t(l,D),v||m||(v=!0,T||(T=!0,P()))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var $=h;return function(){var B=h;h=$;try{return D.apply(this,arguments)}finally{h=B}}}})(EC);SC.exports=EC;var v2=SC.exports,TC={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=E;function AC(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mi(){}var kt={d:{f:mi,r:function(){throw Error(AC(522))},D:mi,C:mi,L:mi,m:mi,X:mi,S:mi,M:mi},p:0,findDOMNode:null},y2=Symbol.for("react.portal");function b2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y2,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var yl=g2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function jd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(AC(299));return b2(e,t,null,n)};Bt.flushSync=function(e){var t=yl.T,n=kt.p;try{if(yl.T=null,kt.p=2,e)return e()}finally{yl.T=t,kt.p=n,kt.d.f()}};Bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,kt.d.C(e,t))};Bt.prefetchDNS=function(e){typeof e=="string"&&kt.d.D(e)};Bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=jd(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?kt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&kt.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=jd(t.as,t.crossOrigin);kt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&kt.d.M(e)};Bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=jd(n,t.crossOrigin);kt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=jd(t.as,t.crossOrigin);kt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else kt.d.m(e)};Bt.requestFormReset=function(e){kt.d.r(e)};Bt.unstable_batchedUpdates=function(e,t){return e(t)};Bt.useFormState=function(e,t,n){return yl.H.useFormState(e,t,n)};Bt.useFormStatus=function(){return yl.H.useHostTransitionStatus()};Bt.version="19.2.4";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(e){console.error(e)}}xC(),TC.exports=Bt;var ly=TC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=v2,CC=E,_2=ly;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function OC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IC(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function s_(e){if(yu(e)!==e)throw Error(k(188))}function w2(e){var t=e.alternate;if(!t){if(t=yu(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return s_(i),e;if(o===r)return s_(i),t;o=o.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function MC(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=MC(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,S2=Symbol.for("react.element"),Xu=Symbol.for("react.transitional.element"),ll=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),NC=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Hm=Symbol.for("react.activity"),E2=Symbol.for("react.memo_cache_sentinel"),l_=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=l_&&e[l_]||e["@@iterator"],typeof e=="function"?e:null)}var T2=Symbol.for("react.client.reference");function Gm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T2?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case $m:return"Profiler";case PC:return"StrictMode";case zm:return"Suspense";case qm:return"SuspenseList";case Hm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ll:return"Portal";case Dr:return e.displayName||"Context";case NC:return(e._context.displayName||"Context")+".Consumer";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cy:return t=e.displayName||null,t!==null?t:Gm(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return Gm(e(t))}catch{}}return null}var ul=Array.isArray,W=CC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=_2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ao={pending:!1,data:null,method:null,action:null},jm=[],Ea=-1;function Er(e){return{current:e}}function ct(e){0>Ea||(e.current=jm[Ea],jm[Ea]=null,Ea--)}function Ae(e,t){Ea++,jm[Ea]=e.current,e.current=t}var yr=Er(null),Dl=Er(null),ki=Er(null),ff=Er(null);function df(e,t){switch(Ae(ki,t),Ae(Dl,e),Ae(yr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pw(t),e=ZO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(yr),Ae(yr,e)}function Qa(){ct(yr),ct(Dl),ct(ki)}function Vm(e){e.memoizedState!==null&&Ae(ff,e);var t=yr.current,n=ZO(t,e.type);t!==n&&(Ae(Dl,e),Ae(yr,n))}function hf(e){Dl.current===e&&(ct(yr),ct(Dl)),ff.current===e&&(ct(ff),Fl._currentValue=Ao)}var Sp,u_;function uo(e){if(Sp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sp=t&&t[1]||"",u_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sp+e+u_}var Ep=!1;function Tp(e,t){if(!e||Ep)return"";Ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{Ep=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?uo(n):""}function A2(e,t){switch(e.tag){case 26:case 27:case 5:return uo(e.type);case 16:return uo("Lazy");case 13:return e.child!==t&&t!==null?uo("Suspense Fallback"):uo("Suspense");case 19:return uo("SuspenseList");case 0:case 15:return Tp(e.type,!1);case 11:return Tp(e.type.render,!1);case 1:return Tp(e.type,!0);case 31:return uo("Activity");default:return""}}function c_(e){try{var t="",n=null;do t+=A2(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Fm=Object.prototype.hasOwnProperty,fy=tt.unstable_scheduleCallback,Ap=tt.unstable_cancelCallback,x2=tt.unstable_shouldYield,C2=tt.unstable_requestPaint,hn=tt.unstable_now,O2=tt.unstable_getCurrentPriorityLevel,kC=tt.unstable_ImmediatePriority,DC=tt.unstable_UserBlockingPriority,pf=tt.unstable_NormalPriority,R2=tt.unstable_LowPriority,UC=tt.unstable_IdlePriority,I2=tt.log,M2=tt.unstable_setDisableYieldValue,bu=null,pn=null;function Oi(e){if(typeof I2=="function"&&M2(e),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(bu,e)}catch{}}var mn=Math.clz32?Math.clz32:k2,P2=Math.log,N2=Math.LN2;function k2(e){return e>>>=0,e===0?32:31-(P2(e)/N2|0)|0}var Qu=256,Zu=262144,ec=4194304;function co(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vd(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s!==0?(r=s&~o,r!==0?i=co(r):(a&=s,a!==0?i=co(a):n||(n=s&~e,n!==0&&(i=co(n))))):(s=r&~o,s!==0?i=co(s):a!==0?i=co(a):n||(n=r&~e,n!==0&&(i=co(n)))),i===0?0:t!==0&&t!==i&&!(t&o)&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function _u(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function D2(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(){var e=ec;return ec<<=1,!(ec&62914560)&&(ec=4194304),e}function xp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function U2(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-mn(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var m=h[c];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&BC(e,r,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(a&~t))}function BC(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-mn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function $C(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function zC(e,t){var n=t&-t;return n=n&42?1:dy(n),n&(e.suspendedLanes|t)?0:n}function dy(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hy(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function qC(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:cR(e.type))}function f_(e,t){var n=de.p;try{return de.p=e,t()}finally{de.p=n}}var Xi=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xi,Xt="__reactProps$"+Xi,_s="__reactContainer$"+Xi,Km="__reactEvents$"+Xi,L2="__reactListeners$"+Xi,B2="__reactHandles$"+Xi,d_="__reactResources$"+Xi,Su="__reactMarker$"+Xi;function py(e){delete e[Et],delete e[Xt],delete e[Km],delete e[L2],delete e[B2]}function Ta(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_s]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bw(e);e!==null;){if(n=e[Et])return n;e=bw(e)}return t}e=n,n=e.parentNode}return null}function ws(e){if(e=e[Et]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function $a(e){var t=e[d_];return t||(t=e[d_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Su]=!0}var HC=new Set,GC={};function Fo(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(GC[e]=t,e=0;e<t.length;e++)HC.add(t[e])}var $2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),h_={},p_={};function z2(e){return Fm.call(p_,e)?!0:Fm.call(h_,e)?!1:$2.test(e)?p_[e]=!0:(h_[e]=!0,!1)}function qc(e,t,n){if(z2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function tc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ar(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q2(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ym(e){if(!e._valueTracker){var t=jC(e)?"checked":"value";e._valueTracker=q2(e,t,""+e[t])}}function VC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var H2=/[\n"\\]/g;function Mn(e){return e.replace(H2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jm(e,t,n,r,i,o,a,s){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+On(t)):e.value!==""+On(t)&&(e.value=""+On(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Wm(e,a,On(t)):n!=null?Wm(e,a,On(n)):r!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+On(s):e.removeAttribute("name")}function FC(e,t,n,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Ym(e);return}n=n!=null?""+On(n):"",t=t!=null?""+On(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Ym(e)}function Wm(e,t,n){t==="number"&&mf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function KC(e,t,n){if(t!=null&&(t=""+On(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+On(n):""}function YC(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(k(92));if(ul(r)){if(1<r.length)throw Error(k(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=On(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Ym(e)}function es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var G2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m_(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||G2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function JC(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&m_(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&m_(e,o,t[o])}function my(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(e){return V2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ur(){}var Xm=null;function vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,qa=null;function v_(e){var t=ws(e);if(t&&(e=t.stateNode)){var n=e[Xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Xt]||null;if(!i)throw Error(k(90));Jm(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&VC(r)}break e;case"textarea":KC(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var Cp=!1;function WC(e,t,n){if(Cp)return e(t,n);Cp=!0;try{var r=e(t);return r}finally{if(Cp=!1,(Aa!==null||qa!==null)&&(rh(),Aa&&(t=Aa,e=qa,qa=Aa=null,v_(t),e)))for(t=0;t<e.length;t++)v_(e[t])}}function Ul(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Xt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(jr)try{var js={};Object.defineProperty(js,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Qm=!1}var Ri=null,gy=null,Gc=null;function XC(){if(Gc)return Gc;var e,t=gy,n=t.length,r,i="value"in Ri?Ri.value:Ri.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Gc=i.slice(e,1<r?1-r:void 0)}function jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nc(){return!0}function g_(){return!1}function Qt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nc:g_,this.isPropagationStopped=g_,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),t}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=Qt(Ko),Eu=Ie({},Ko,{view:0,detail:0}),F2=Qt(Eu),Op,Rp,Vs,Kd=Ie({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(Op=e.screenX-Vs.screenX,Rp=e.screenY-Vs.screenY):Rp=Op=0,Vs=e),Op)},movementY:function(e){return"movementY"in e?e.movementY:Rp}}),y_=Qt(Kd),K2=Ie({},Kd,{dataTransfer:0}),Y2=Qt(K2),J2=Ie({},Eu,{relatedTarget:0}),Ip=Qt(J2),W2=Ie({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),X2=Qt(W2),Q2=Ie({},Ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z2=Qt(Q2),eU=Ie({},Ko,{data:0}),b_=Qt(eU),tU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rU[e])?!!t[e]:!1}function yy(){return iU}var oU=Ie({},Eu,{key:function(e){if(e.key){var t=tU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(e){return e.type==="keypress"?jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aU=Qt(oU),sU=Ie({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=Qt(sU),lU=Ie({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),uU=Qt(lU),cU=Ie({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),fU=Qt(cU),dU=Ie({},Kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hU=Qt(dU),pU=Ie({},Ko,{newState:0,oldState:0}),mU=Qt(pU),vU=[9,13,27,32],by=jr&&"CompositionEvent"in window,bl=null;jr&&"documentMode"in document&&(bl=document.documentMode);var gU=jr&&"TextEvent"in window&&!bl,QC=jr&&(!by||bl&&8<bl&&11>=bl),w_=" ",S_=!1;function ZC(e,t){switch(e){case"keyup":return vU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function yU(e,t){switch(e){case"compositionend":return e1(t);case"keypress":return t.which!==32?null:(S_=!0,w_);case"textInput":return e=t.data,e===w_&&S_?null:e;default:return null}}function bU(e,t){if(xa)return e==="compositionend"||!by&&ZC(e,t)?(e=XC(),Gc=gy=Ri=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QC&&t.locale!=="ko"?null:t.data;default:return null}}var _U={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_U[e.type]:t==="textarea"}function t1(e,t,n,r){Aa?qa?qa.push(r):qa=[r]:Aa=r,t=Nf(t,"onChange"),0<t.length&&(n=new Fd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _l=null,Ll=null;function wU(e){WO(e,0)}function Yd(e){var t=cl(e);if(VC(t))return e}function T_(e,t){if(e==="change")return t}var n1=!1;if(jr){var Mp;if(jr){var Pp="oninput"in document;if(!Pp){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),Pp=typeof A_.oninput=="function"}Mp=Pp}else Mp=!1;n1=Mp&&(!document.documentMode||9<document.documentMode)}function x_(){_l&&(_l.detachEvent("onpropertychange",r1),Ll=_l=null)}function r1(e){if(e.propertyName==="value"&&Yd(Ll)){var t=[];t1(t,Ll,e,vy(e)),WC(wU,t)}}function SU(e,t,n){e==="focusin"?(x_(),_l=t,Ll=n,_l.attachEvent("onpropertychange",r1)):e==="focusout"&&x_()}function EU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(Ll)}function TU(e,t){if(e==="click")return Yd(t)}function AU(e,t){if(e==="input"||e==="change")return Yd(t)}function xU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:xU;function Bl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fm.call(t,i)||!yn(e[i],t[i]))return!1}return!0}function C_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O_(e,t){var n=C_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C_(n)}}function i1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mf(e.document)}return t}function _y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var CU=jr&&"documentMode"in document&&11>=document.documentMode,Ca=null,Zm=null,wl=null,ev=!1;function R_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ev||Ca==null||Ca!==mf(r)||(r=Ca,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Bl(wl,r)||(wl=r,r=Nf(Zm,"onSelect"),0<r.length&&(t=new Fd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ca)))}function oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oa={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionrun:oo("Transition","TransitionRun"),transitionstart:oo("Transition","TransitionStart"),transitioncancel:oo("Transition","TransitionCancel"),transitionend:oo("Transition","TransitionEnd")},Np={},a1={};jr&&(a1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yo(e){if(Np[e])return Np[e];if(!Oa[e])return e;var t=Oa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a1)return Np[e]=t[n];return e}var s1=Yo("animationend"),l1=Yo("animationiteration"),u1=Yo("animationstart"),OU=Yo("transitionrun"),RU=Yo("transitionstart"),IU=Yo("transitioncancel"),c1=Yo("transitionend"),f1=new Map,tv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tv.push("scrollEnd");function ar(e,t){f1.set(e,t),Fo(t,[e])}var vf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Ra=0,wy=0;function Jd(){for(var e=Ra,t=wy=Ra=0;t<e;){var n=xn[t];xn[t++]=null;var r=xn[t];xn[t++]=null;var i=xn[t];xn[t++]=null;var o=xn[t];if(xn[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&d1(n,i,o)}}function Wd(e,t,n,r){xn[Ra++]=e,xn[Ra++]=t,xn[Ra++]=n,xn[Ra++]=r,wy|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Sy(e,t,n,r){return Wd(e,t,n,r),gf(e)}function Jo(e,t){return Wd(e,null,null,t),gf(e)}function d1(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-mn(n),e=o.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),o):null}function gf(e){if(50<Il)throw Il=0,Sv=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function MU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new MU(e,t,n,r)}function Ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function h1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vc(e,t,n,r,i,o){var a=0;if(r=e,typeof e=="function")Ey(e)&&(a=1);else if(typeof e=="string")a=UL(e,n,yr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Hm:return e=an(31,n,t,i),e.elementType=Hm,e.lanes=o,e;case Sa:return xo(n.children,i,o,t);case PC:a=8,i|=24;break;case $m:return e=an(12,n,t,i|2),e.elementType=$m,e.lanes=o,e;case zm:return e=an(13,n,t,i),e.elementType=zm,e.lanes=o,e;case qm:return e=an(19,n,t,i),e.elementType=qm,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dr:a=10;break e;case NC:a=9;break e;case uy:a=11;break e;case cy:a=14;break e;case vi:a=16,r=null;break e}a=29,n=Error(k(130,e===null?"null":typeof e,"")),r=null}return t=an(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function xo(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function kp(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function p1(e){var t=an(18,null,null,0);return t.stateNode=e,t}function Dp(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var I_=new WeakMap;function Pn(e,t){if(typeof e=="object"&&e!==null){var n=I_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:c_(t)},I_.set(e,t),t)}return{value:e,source:t,stack:c_(t)}}var Ma=[],Pa=0,yf=null,$l=0,Rn=[],In=0,Vi=null,dr=1,hr="";function Mr(e,t){Ma[Pa++]=$l,Ma[Pa++]=yf,yf=e,$l=t}function m1(e,t,n){Rn[In++]=dr,Rn[In++]=hr,Rn[In++]=Vi,Vi=e;var r=dr;e=hr;var i=32-mn(r)-1;r&=~(1<<i),n+=1;var o=32-mn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,dr=1<<32-mn(t)+i|n<<i|r,hr=o+e}else dr=1<<o|n<<i|r,hr=e}function Ty(e){e.return!==null&&(Mr(e,1),m1(e,1,0))}function Ay(e){for(;e===yf;)yf=Ma[--Pa],Ma[Pa]=null,$l=Ma[--Pa],Ma[Pa]=null;for(;e===Vi;)Vi=Rn[--In],Rn[In]=null,hr=Rn[--In],Rn[In]=null,dr=Rn[--In],Rn[In]=null}function v1(e,t){Rn[In++]=dr,Rn[In++]=hr,Rn[In++]=Vi,dr=t.id,hr=t.overflow,Vi=e}var Tt=null,Oe=null,ae=!1,Di=null,Nn=!1,nv=Error(k(519));function Fi(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Pn(t,e)),nv}function M_(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Et]=e,t[Xt]=r,n){case"dialog":ne("cancel",t),ne("close",t);break;case"iframe":case"object":case"embed":ne("load",t);break;case"video":case"audio":for(n=0;n<jl.length;n++)ne(jl[n],t);break;case"source":ne("error",t);break;case"img":case"image":case"link":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"input":ne("invalid",t),FC(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ne("invalid",t);break;case"textarea":ne("invalid",t),YC(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||QO(t.textContent,n)?(r.popover!=null&&(ne("beforetoggle",t),ne("toggle",t)),r.onScroll!=null&&ne("scroll",t),r.onScrollEnd!=null&&ne("scrollend",t),r.onClick!=null&&(t.onclick=Ur),t=!0):t=!1,t||Fi(e,!0)}function P_(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Tt=Tt.return}}function na(e){if(e!==Tt)return!1;if(!ae)return P_(e),ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Cv(e.type,e.memoizedProps)),n=!n),n&&Oe&&Fi(e),P_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));Oe=yw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));Oe=yw(e)}else t===27?(t=Oe,Qi(e.type)?(e=Mv,Mv=null,Oe=e):Oe=t):Oe=Tt?Un(e.stateNode.nextSibling):null;return!0}function ko(){Oe=Tt=null,ae=!1}function Up(){var e=Di;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Di=null),e}function zl(e){Di===null?Di=[e]:Di.push(e)}var rv=Er(null),Wo=null,Lr=null;function wi(e,t,n){Ae(rv,t._currentValue),t._currentValue=n}function qr(e){e._currentValue=rv.current,ct(rv)}function iv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ov(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),iv(o.return,n,e),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(k(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),iv(a,n,e),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Ss(e,t,n,r){e=null;for(var i=t,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(k(387));if(a=a.memoizedProps,a!==null){var s=i.type;yn(i.pendingProps.value,a.value)||(e!==null?e.push(s):e=[s])}}else if(i===ff.current){if(a=i.alternate,a===null)throw Error(k(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}i=i.return}e!==null&&ov(t,e,n,r),t.flags|=262144}function bf(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Do(e){Wo=e,Lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return g1(Wo,e)}function rc(e,t){return Wo===null&&Do(e),g1(e,t)}function g1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Lr===null){if(e===null)throw Error(k(308));Lr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Lr=Lr.next=t;return n}var PU=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},NU=tt.unstable_scheduleCallback,kU=tt.unstable_NormalPriority,Je={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xy(){return{controller:new PU,data:new Map,refCount:0}}function Tu(e){e.refCount--,e.refCount===0&&NU(kU,function(){e.controller.abort()})}var Sl=null,av=0,ts=0,Ha=null;function DU(e,t){if(Sl===null){var n=Sl=[];av=0,ts=Xy(),Ha={status:"pending",value:void 0,then:function(r){n.push(r)}}}return av++,t.then(N_,N_),t}function N_(){if(--av===0&&Sl!==null){Ha!==null&&(Ha.status="fulfilled");var e=Sl;Sl=null,ts=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function UU(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var k_=W.S;W.S=function(e,t){MO=hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&DU(e,t),k_!==null&&k_(e,t)};var Co=Er(null);function Cy(){var e=Co.current;return e!==null?e:be.pooledCache}function Fc(e,t){t===null?Ae(Co,Co.current):Ae(Co,t.pool)}function y1(){var e=Cy();return e===null?null:{parent:Je._currentValue,pool:e}}var Es=Error(k(460)),Oy=Error(k(474)),Xd=Error(k(542)),_f={then:function(){}};function D_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function b1(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ur,Ur),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,L_(e),e;default:if(typeof t.status=="string")t.then(Ur,Ur);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,L_(e),e}throw Oo=t,Es}}function fo(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Oo=n,Es):n}}var Oo=null;function U_(){if(Oo===null)throw Error(k(459));var e=Oo;return Oo=null,e}function L_(e){if(e===Es||e===Xd)throw Error(k(483))}var Ga=null,ql=0;function ic(e){var t=ql;return ql+=1,Ga===null&&(Ga=[]),b1(Ga,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oc(e,t){throw t.$$typeof===S2?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _1(e){function t(b,_){if(e){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function r(b){for(var _=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(b,_){return b=zr(b,_),b.index=0,b.sibling=null,b}function o(b,_,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=67108866,_):w):(b.flags|=67108866,_)):(b.flags|=1048576,_)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function s(b,_,w,S){return _===null||_.tag!==6?(_=kp(w,b.mode,S),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,S){var A=w.type;return A===Sa?c(b,_,w.props.children,S,w.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&fo(A)===_.type)?(_=i(_,w.props),Fs(_,w),_.return=b,_):(_=Vc(w.type,w.key,w.props,null,b.mode,S),Fs(_,w),_.return=b,_)}function u(b,_,w,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Dp(w,b.mode,S),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function c(b,_,w,S,A){return _===null||_.tag!==7?(_=xo(w,b.mode,S,A),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=kp(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return w=Vc(_.type,_.key,_.props,null,b.mode,w),Fs(w,_),w.return=b,w;case ll:return _=Dp(_,b.mode,w),_.return=b,_;case vi:return _=fo(_),f(b,_,w)}if(ul(_)||Gs(_))return _=xo(_,b.mode,w,null),_.return=b,_;if(typeof _.then=="function")return f(b,ic(_),w);if(_.$$typeof===Dr)return f(b,rc(b,_),w);oc(b,_)}return null}function h(b,_,w,S){var A=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return A!==null?null:s(b,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:return w.key===A?l(b,_,w,S):null;case ll:return w.key===A?u(b,_,w,S):null;case vi:return w=fo(w),h(b,_,w,S)}if(ul(w)||Gs(w))return A!==null?null:c(b,_,w,S,null);if(typeof w.then=="function")return h(b,_,ic(w),S);if(w.$$typeof===Dr)return h(b,_,rc(b,w),S);oc(b,w)}return null}function m(b,_,w,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return b=b.get(w)||null,s(_,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xu:return b=b.get(S.key===null?w:S.key)||null,l(_,b,S,A);case ll:return b=b.get(S.key===null?w:S.key)||null,u(_,b,S,A);case vi:return S=fo(S),m(b,_,w,S,A)}if(ul(S)||Gs(S))return b=b.get(w)||null,c(_,b,S,A,null);if(typeof S.then=="function")return m(b,_,w,ic(S),A);if(S.$$typeof===Dr)return m(b,_,w,rc(_,S),A);oc(_,S)}return null}function v(b,_,w,S){for(var A=null,T=null,x=_,R=_=0,O=null;x!==null&&R<w.length;R++){x.index>R?(O=x,x=null):O=x.sibling;var I=h(b,x,w[R],S);if(I===null){x===null&&(x=O);break}e&&x&&I.alternate===null&&t(b,x),_=o(I,_,R),T===null?A=I:T.sibling=I,T=I,x=O}if(R===w.length)return n(b,x),ae&&Mr(b,R),A;if(x===null){for(;R<w.length;R++)x=f(b,w[R],S),x!==null&&(_=o(x,_,R),T===null?A=x:T.sibling=x,T=x);return ae&&Mr(b,R),A}for(x=r(x);R<w.length;R++)O=m(x,b,R,w[R],S),O!==null&&(e&&O.alternate!==null&&x.delete(O.key===null?R:O.key),_=o(O,_,R),T===null?A=O:T.sibling=O,T=O);return e&&x.forEach(function(N){return t(b,N)}),ae&&Mr(b,R),A}function g(b,_,w,S){if(w==null)throw Error(k(151));for(var A=null,T=null,x=_,R=_=0,O=null,I=w.next();x!==null&&!I.done;R++,I=w.next()){x.index>R?(O=x,x=null):O=x.sibling;var N=h(b,x,I.value,S);if(N===null){x===null&&(x=O);break}e&&x&&N.alternate===null&&t(b,x),_=o(N,_,R),T===null?A=N:T.sibling=N,T=N,x=O}if(I.done)return n(b,x),ae&&Mr(b,R),A;if(x===null){for(;!I.done;R++,I=w.next())I=f(b,I.value,S),I!==null&&(_=o(I,_,R),T===null?A=I:T.sibling=I,T=I);return ae&&Mr(b,R),A}for(x=r(x);!I.done;R++,I=w.next())I=m(x,b,R,I.value,S),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?R:I.key),_=o(I,_,R),T===null?A=I:T.sibling=I,T=I);return e&&x.forEach(function(P){return t(b,P)}),ae&&Mr(b,R),A}function y(b,_,w,S){if(typeof w=="object"&&w!==null&&w.type===Sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:e:{for(var A=w.key;_!==null;){if(_.key===A){if(A=w.type,A===Sa){if(_.tag===7){n(b,_.sibling),S=i(_,w.props.children),S.return=b,b=S;break e}}else if(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vi&&fo(A)===_.type){n(b,_.sibling),S=i(_,w.props),Fs(S,w),S.return=b,b=S;break e}n(b,_);break}else t(b,_);_=_.sibling}w.type===Sa?(S=xo(w.props.children,b.mode,S,w.key),S.return=b,b=S):(S=Vc(w.type,w.key,w.props,null,b.mode,S),Fs(S,w),S.return=b,b=S)}return a(b);case ll:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),S=i(_,w.children||[]),S.return=b,b=S;break e}else{n(b,_);break}else t(b,_);_=_.sibling}S=Dp(w,b.mode,S),S.return=b,b=S}return a(b);case vi:return w=fo(w),y(b,_,w,S)}if(ul(w))return v(b,_,w,S);if(Gs(w)){if(A=Gs(w),typeof A!="function")throw Error(k(150));return w=A.call(w),g(b,_,w,S)}if(typeof w.then=="function")return y(b,_,ic(w),S);if(w.$$typeof===Dr)return y(b,_,rc(b,w),S);oc(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),S=i(_,w),S.return=b,b=S):(n(b,_),S=kp(w,b.mode,S),S.return=b,b=S),a(b)):n(b,_)}return function(b,_,w,S){try{ql=0;var A=y(b,_,w,S);return Ga=null,A}catch(x){if(x===Es||x===Xd)throw x;var T=an(29,x,null,b.mode);return T.lanes=S,T.return=b,T}finally{}}}var Uo=_1(!0),w1=_1(!1),gi=!1;function Ry(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Li(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=gf(e),d1(e,null,n),t}return Wd(e,r,t,n),gf(e)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$C(e,n)}}function Lp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lv=!1;function Tl(){if(lv){var e=Ha;if(e!==null)throw e}}function Al(e,t,n,r){lv=!1;var i=e.updateQueue;gi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(oe&h)===h:(r&h)===h){h!==0&&h===ts&&(lv=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,g=s;h=t;var y=n;switch(g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Ie({},f,h);break e;case 2:gi=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),Yi|=a,e.lanes=a,e.memoizedState=f}}function S1(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function E1(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)S1(n[e],t)}var ns=Er(null),wf=Er(0);function B_(e,t){e=Yr,Ae(wf,e),Ae(ns,t),Yr=e|t.baseLanes}function uv(){Ae(wf,Yr),Ae(ns,ns.current)}function Iy(){Yr=wf.current,ct(ns),ct(wf)}var bn=Er(null),Dn=null;function Si(e){var t=e.alternate;Ae(He,He.current&1),Ae(bn,e),Dn===null&&(t===null||ns.current!==null||t.memoizedState!==null)&&(Dn=e)}function cv(e){Ae(He,He.current),Ae(bn,e),Dn===null&&(Dn=e)}function T1(e){e.tag===22?(Ae(He,He.current),Ae(bn,e),Dn===null&&(Dn=e)):Ei()}function Ei(){Ae(He,He.current),Ae(bn,bn.current)}function on(e){ct(bn),Dn===e&&(Dn=null),ct(He)}var He=Er(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Rv(n)||Iv(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vr=0,te=null,ge=null,Ke=null,Ef=!1,ja=!1,Lo=!1,Tf=0,Hl=0,Va=null,LU=0;function Le(){throw Error(k(321))}function My(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function Py(e,t,n,r,i,o){return Vr=o,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?tO:Gy,Lo=!1,o=n(r,i),Lo=!1,ja&&(o=x1(t,n,r,i)),A1(e),o}function A1(e){W.H=Gl;var t=ge!==null&&ge.next!==null;if(Vr=0,Ke=ge=te=null,Ef=!1,Hl=0,Va=null,t)throw Error(k(300));e===null||We||(e=e.dependencies,e!==null&&bf(e)&&(We=!0))}function x1(e,t,n,r){te=e;var i=0;do{if(ja&&(Va=null),Hl=0,ja=!1,25<=i)throw Error(k(301));if(i+=1,Ke=ge=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=nO,o=t(n,r)}while(ja);return o}function BU(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Au(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(te.flags|=1024),t}function Ny(){var e=Tf!==0;return Tf=0,e}function ky(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Dy(e){if(Ef){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ef=!1}Vr=0,Ke=ge=te=null,ja=!1,Hl=Tf=0,Va=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ge(){if(ge===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Ke===null?te.memoizedState:Ke.next;if(t!==null)Ke=t,ge=e;else{if(e===null)throw te.alternate===null?Error(k(467)):Error(k(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ke===null?te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(e){var t=Hl;return Hl+=1,Va===null&&(Va=[]),e=b1(Va,e,t),t=te,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?tO:Gy),e}function Zd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Au(e);if(e.$$typeof===Dr)return At(e)}throw Error(k(438,String(e)))}function Uy(e){var t=null,n=te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qd(),te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E2;return t.index++,n}function Fr(e,t){return typeof t=="function"?t(e):t}function Kc(e){var t=Ge();return Ly(t,ge,e)}function Ly(e,t,n){var r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var s=a=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(oe&f)===f:(Vr&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ts&&(c=!0);else if((Vr&h)===h){u=u.next,h===ts&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,a=o):l=l.next=f,te.lanes|=h,Yi|=h;f=u.action,Lo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,a=o):l=l.next=h,te.lanes|=f,Yi|=f;u=u.next}while(u!==null&&u!==t);if(l===null?a=o:l.next=s,!yn(o,e.memoizedState)&&(We=!0,c&&(n=Ha,n!==null)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Bp(e){var t=Ge(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);yn(o,t.memoizedState)||(We=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function C1(e,t,n){var r=te,i=Ge(),o=ae;if(o){if(n===void 0)throw Error(k(407));n=n()}else n=t();var a=!yn((ge||i).memoizedState,n);if(a&&(i.memoizedState=n,We=!0),i=i.queue,By(I1.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,rs(9,{destroy:void 0},R1.bind(null,r,i,n,t),null),be===null)throw Error(k(349));o||Vr&127||O1(r,t,n)}return n}function O1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t=Qd(),te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R1(e,t,n,r){t.value=n,t.getSnapshot=r,M1(t)&&P1(e)}function I1(e,t,n){return n(function(){M1(t)&&P1(e)})}function M1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function P1(e){var t=Jo(e,2);t!==null&&Wt(t,e,2)}function fv(e){var t=Mt();if(typeof e=="function"){var n=e;if(e=n(),Lo){Oi(!0);try{n()}finally{Oi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t}function N1(e,t,n,r){return e.baseState=n,Ly(e,ge,typeof r=="function"?r:Fr)}function $U(e,t,n,r,i){if(th(e))throw Error(k(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};W.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,k1(t,o)):(o.next=n.next,t.pending=n.next=o)}}function k1(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=W.T,a={};W.T=a;try{var s=n(i,r),l=W.S;l!==null&&l(a,s),$_(e,t,s)}catch(u){dv(e,t,u)}finally{o!==null&&a.types!==null&&(o.types=a.types),W.T=o}}else try{o=n(i,r),$_(e,t,o)}catch(u){dv(e,t,u)}}function $_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){z_(e,t,r)},function(r){return dv(e,t,r)}):z_(e,t,n)}function z_(e,t,n){t.status="fulfilled",t.value=n,D1(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,k1(e,n)))}function dv(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,D1(t),t=t.next;while(t!==r)}e.action=null}function D1(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function U1(e,t){return t}function q_(e,t){if(ae){var n=be.formState;if(n!==null){e:{var r=te;if(ae){if(Oe){t:{for(var i=Oe,o=Nn;i.nodeType!==8;){if(!o){i=null;break t}if(i=Un(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Oe=Un(i.nextSibling),r=i.data==="F!";break e}}Fi(r)}r=!1}r&&(t=n[0])}}return n=Mt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U1,lastRenderedState:t},n.queue=r,n=Q1.bind(null,te,r),r.dispatch=n,r=fv(!1),o=Hy.bind(null,te,!1,r.queue),r=Mt(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=$U.bind(null,te,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function H_(e){var t=Ge();return L1(t,ge,e)}function L1(e,t,n){if(t=Ly(e,t,U1)[0],e=Kc(Fr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Au(t)}catch(a){throw a===Es?Xd:a}else r=t;t=Ge();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(te.flags|=2048,rs(9,{destroy:void 0},zU.bind(null,i,n),null)),[r,o,e]}function zU(e,t){e.action=t}function G_(e){var t=Ge(),n=ge;if(n!==null)return L1(t,n,e);Ge(),t=t.memoizedState,n=Ge();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function rs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=te.updateQueue,t===null&&(t=Qd(),te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function B1(){return Ge().memoizedState}function Yc(e,t,n,r){var i=Mt();te.flags|=e,i.memoizedState=rs(1|t,{destroy:void 0},n,r===void 0?null:r)}function eh(e,t,n,r){var i=Ge();r=r===void 0?null:r;var o=i.memoizedState.inst;ge!==null&&r!==null&&My(r,ge.memoizedState.deps)?i.memoizedState=rs(t,o,n,r):(te.flags|=e,i.memoizedState=rs(1|t,o,n,r))}function j_(e,t){Yc(8390656,8,e,t)}function By(e,t){eh(2048,8,e,t)}function qU(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=Qd(),te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function $1(e){var t=Ge().memoizedState;return qU({ref:t,nextImpl:e}),function(){if(ce&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function z1(e,t){return eh(4,2,e,t)}function q1(e,t){return eh(4,4,e,t)}function H1(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G1(e,t,n){n=n!=null?n.concat([e]):null,eh(4,4,H1.bind(null,t,e),n)}function $y(){}function j1(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&My(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function V1(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&My(t,r[1]))return r[0];if(r=e(),Lo){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[r,t],r}function zy(e,t,n){return n===void 0||Vr&1073741824&&!(oe&261930)?e.memoizedState=t:(e.memoizedState=n,e=NO(),te.lanes|=e,Yi|=e,n)}function F1(e,t,n,r){return yn(n,t)?n:ns.current!==null?(e=zy(e,n,r),yn(e,t)||(We=!0),e):!(Vr&42)||Vr&1073741824&&!(oe&261930)?(We=!0,e.memoizedState=n):(e=NO(),te.lanes|=e,Yi|=e,t)}function K1(e,t,n,r,i){var o=de.p;de.p=o!==0&&8>o?o:8;var a=W.T,s={};W.T=s,Hy(e,!1,t,n);try{var l=i(),u=W.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=UU(l,r);xl(e,t,c,vn(e))}else xl(e,t,r,vn(e))}catch(f){xl(e,t,{then:function(){},status:"rejected",reason:f},vn())}finally{de.p=o,a!==null&&s.types!==null&&(a.types=s.types),W.T=a}}function HU(){}function hv(e,t,n,r){if(e.tag!==5)throw Error(k(476));var i=Y1(e).queue;K1(e,i,t,Ao,n===null?HU:function(){return J1(e),n(r)})}function Y1(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ao,baseState:Ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:Ao},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function J1(e){var t=Y1(e);t.next===null&&(t=e.alternate.memoizedState),xl(e,t.next.queue,{},vn())}function qy(){return At(Fl)}function W1(){return Ge().memoizedState}function X1(){return Ge().memoizedState}function GU(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vn();e=Ui(n);var r=Li(t,e,n);r!==null&&(Wt(r,t,n),El(r,t,n)),t={cache:xy()},e.payload=t;return}t=t.return}}function jU(e,t,n){var r=vn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},th(e)?Z1(t,n):(n=Sy(e,t,n,r),n!==null&&(Wt(n,e,r),eO(n,t,r)))}function Q1(e,t,n){var r=vn();xl(e,t,n,r)}function xl(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(th(e))Z1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,yn(s,a))return Wd(e,t,i,0),be===null&&Jd(),!1}catch{}finally{}if(n=Sy(e,t,i,r),n!==null)return Wt(n,e,r),eO(n,t,r),!0}return!1}function Hy(e,t,n,r){if(r={lane:2,revertLane:Xy(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},th(e)){if(t)throw Error(k(479))}else t=Sy(e,n,r,2),t!==null&&Wt(t,e,2)}function th(e){var t=e.alternate;return e===te||t!==null&&t===te}function Z1(e,t){ja=Ef=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eO(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$C(e,n)}}var Gl={readContext:At,use:Zd,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Gl.useEffectEvent=Le;var tO={readContext:At,use:Zd,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:j_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yc(4194308,4,H1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){Yc(4,2,e,t)},useMemo:function(e,t){var n=Mt();t=t===void 0?null:t;var r=e();if(Lo){Oi(!0);try{e()}finally{Oi(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mt();if(n!==void 0){var i=n(t);if(Lo){Oi(!0);try{n(t)}finally{Oi(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=jU.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=fv(e);var t=e.queue,n=Q1.bind(null,te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$y,useDeferredValue:function(e,t){var n=Mt();return zy(n,e,t)},useTransition:function(){var e=fv(!1);return e=K1.bind(null,te,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=te,i=Mt();if(ae){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),be===null)throw Error(k(349));oe&127||O1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,j_(I1.bind(null,r,o,e),[e]),r.flags|=2048,rs(9,{destroy:void 0},R1.bind(null,r,o,n,t),null),n},useId:function(){var e=Mt(),t=be.identifierPrefix;if(ae){var n=hr,r=dr;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=LU++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qy,useFormState:q_,useActionState:q_,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hy.bind(null,te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uy,useCacheRefresh:function(){return Mt().memoizedState=GU.bind(null,te)},useEffectEvent:function(e){var t=Mt(),n={impl:e};return t.memoizedState=n,function(){if(ce&2)throw Error(k(440));return n.impl.apply(void 0,arguments)}}},Gy={readContext:At,use:Zd,useCallback:j1,useContext:At,useEffect:By,useImperativeHandle:G1,useInsertionEffect:z1,useLayoutEffect:q1,useMemo:V1,useReducer:Kc,useRef:B1,useState:function(){return Kc(Fr)},useDebugValue:$y,useDeferredValue:function(e,t){var n=Ge();return F1(n,ge.memoizedState,e,t)},useTransition:function(){var e=Kc(Fr)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Au(e),t]},useSyncExternalStore:C1,useId:W1,useHostTransitionStatus:qy,useFormState:H_,useActionState:H_,useOptimistic:function(e,t){var n=Ge();return N1(n,ge,e,t)},useMemoCache:Uy,useCacheRefresh:X1};Gy.useEffectEvent=$1;var nO={readContext:At,use:Zd,useCallback:j1,useContext:At,useEffect:By,useImperativeHandle:G1,useInsertionEffect:z1,useLayoutEffect:q1,useMemo:V1,useReducer:Bp,useRef:B1,useState:function(){return Bp(Fr)},useDebugValue:$y,useDeferredValue:function(e,t){var n=Ge();return ge===null?zy(n,e,t):F1(n,ge.memoizedState,e,t)},useTransition:function(){var e=Bp(Fr)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Au(e),t]},useSyncExternalStore:C1,useId:W1,useHostTransitionStatus:qy,useFormState:G_,useActionState:G_,useOptimistic:function(e,t){var n=Ge();return ge!==null?N1(n,ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uy,useCacheRefresh:X1};nO.useEffectEvent=$1;function $p(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pv={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vn(),i=Ui(r);i.payload=t,n!=null&&(i.callback=n),t=Li(e,i,r),t!==null&&(Wt(t,e,r),El(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vn(),i=Ui(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Li(e,i,r),t!==null&&(Wt(t,e,r),El(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vn(),r=Ui(n);r.tag=2,t!=null&&(r.callback=t),t=Li(e,r,n),t!==null&&(Wt(t,e,n),El(t,e,n))}};function V_(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,o):!0}function F_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pv.enqueueReplaceState(t,t.state,null)}function Bo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ie({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function rO(e){vf(e)}function iO(e){console.error(e)}function oO(e){vf(e)}function Af(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function K_(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function mv(e,t,n){return n=Ui(n),n.tag=3,n.payload={element:null},n.callback=function(){Af(e,t)},n}function aO(e){return e=Ui(e),e.tag=3,e}function sO(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){K_(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){K_(t,n,r),typeof i!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function VU(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Ss(t,n,i,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?If():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===_f?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Wp(e,r,i)),!1;case 22:return n.flags|=65536,r===_f?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Wp(e,r,i)),!1}throw Error(k(435,n.tag))}return Wp(e,r,i),If(),!1}if(ae)return t=bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==nv&&(e=Error(k(422),{cause:r}),zl(Pn(e,n)))):(r!==nv&&(t=Error(k(423),{cause:r}),zl(Pn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Pn(r,n),i=mv(e.stateNode,r,i),Lp(e,i),qe!==4&&(qe=2)),!1;var o=Error(k(520),{cause:r});if(o=Pn(o,n),Rl===null?Rl=[o]:Rl.push(o),qe!==4&&(qe=2),t===null)return!0;r=Pn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=mv(n.stateNode,r,e),Lp(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Bi===null||!Bi.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=aO(i),sO(i,e,n,r),Lp(n,i),!1}n=n.return}while(n!==null);return!1}var jy=Error(k(461)),We=!1;function _t(e,t,n,r){t.child=e===null?w1(t,null,n,r):Uo(t,e.child,n,r)}function Y_(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return Do(t),r=Py(e,t,n,a,o,i),s=Ny(),e!==null&&!We?(ky(e,t,i),Kr(e,t,i)):(ae&&s&&Ty(t),t.flags|=1,_t(e,t,r,i),t.child)}function J_(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ey(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,lO(e,t,o,r,i)):(e=Vc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Vy(e,i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(a,r)&&e.ref===t.ref)return Kr(e,t,i)}return t.flags|=1,e=zr(o,r),e.ref=t.ref,e.return=t,t.child=e}function lO(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Bl(o,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=o,Vy(e,i))e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Kr(e,t,i)}return vv(e,t,n,r,i)}function uO(e,t,n,r){var i=r.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return W_(e,t,o,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fc(t,o!==null?o.cachePool:null),o!==null?B_(t,o):uv(),T1(t);else return r=t.lanes=536870912,W_(e,t,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(Fc(t,o.cachePool),B_(t,o),Ei(),t.memoizedState=null):(e!==null&&Fc(t,null),uv(),Ei());return _t(e,t,i,n),t.child}function fl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function W_(e,t,n,r,i){var o=Cy();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Fc(t,null),uv(),T1(t),e!==null&&Ss(e,t,r,!0),t.childLanes=i,null}function Jc(e,t){return t=xf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function X_(e,t,n){return Uo(t,e.child,null,n),e=Jc(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function FU(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ae){if(r.mode==="hidden")return e=Jc(t,r),t.lanes=536870912,fl(null,e);if(cv(t),(e=Oe)?(e=tR(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:dr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=p1(e),n.return=t,t.child=n,Tt=t,Oe=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return Jc(t,r)}var o=e.memoizedState;if(o!==null){var a=o.dehydrated;if(cv(t),i)if(t.flags&256)t.flags&=-257,t=X_(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if(We||Ss(e,t,n,!1),i=(n&e.childLanes)!==0,We||i){if(r=be,r!==null&&(a=zC(r,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Jo(e,a),Wt(r,e,a),jy;If(),t=X_(e,t,n)}else e=o.treeContext,Oe=Un(a.nextSibling),Tt=t,ae=!0,Di=null,Nn=!1,e!==null&&v1(t,e),t=Jc(t,r),t.flags|=4096;return t}return e=zr(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vv(e,t,n,r,i){return Do(t),n=Py(e,t,n,r,void 0,i),r=Ny(),e!==null&&!We?(ky(e,t,i),Kr(e,t,i)):(ae&&r&&Ty(t),t.flags|=1,_t(e,t,n,i),t.child)}function Q_(e,t,n,r,i,o){return Do(t),t.updateQueue=null,n=x1(t,r,n,i),A1(e),r=Ny(),e!==null&&!We?(ky(e,t,o),Kr(e,t,o)):(ae&&r&&Ty(t),t.flags|=1,_t(e,t,n,o),t.child)}function Z_(e,t,n,r,i){if(Do(t),t.stateNode===null){var o=Ia,a=n.contextType;typeof a=="object"&&a!==null&&(o=At(a)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pv,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},Ry(t),a=n.contextType,o.context=typeof a=="object"&&a!==null?At(a):Ia,o.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($p(t,n,a,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&pv.enqueueReplaceState(o,o.state,null),Al(t,r,o,i),Tl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var s=t.memoizedProps,l=Bo(n,s);o.props=l;var u=o.context,c=n.contextType;a=Ia,typeof c=="object"&&c!==null&&(a=At(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||u!==a)&&F_(t,o,r,a),gi=!1;var h=t.memoizedState;o.state=h,Al(t,r,o,i),Tl(),u=t.memoizedState,s||h!==u||gi?(typeof f=="function"&&($p(t,n,f,r),u=t.memoizedState),(l=gi||V_(t,n,l,r,h,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sv(e,t),a=t.memoizedProps,c=Bo(n,a),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,l=Ia,typeof u=="object"&&u!==null&&(l=At(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&F_(t,o,r,l),gi=!1,h=t.memoizedState,o.state=h,Al(t,r,o,i),Tl();var m=t.memoizedState;a!==f||h!==m||gi||e!==null&&e.dependencies!==null&&bf(e.dependencies)?(typeof s=="function"&&($p(t,n,s,r),m=t.memoizedState),(c=gi||V_(t,n,c,r,h,m,l)||e!==null&&e.dependencies!==null&&bf(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Wc(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Uo(t,e.child,null,i),t.child=Uo(t,null,n,i)):_t(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Kr(e,t,i),e}function ew(e,t,n,r){return ko(),t.flags|=256,_t(e,t,n,r),t.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(e){return{baseLanes:e,cachePool:y1()}}function Hp(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function cO(e,t,n){var r=t.pendingProps,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ae){if(i?Si(t):Ei(),(e=Oe)?(e=tR(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:dr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=p1(e),n.return=t,t.child=n,Tt=t,Oe=null)):e=null,e===null)throw Fi(t);return Iv(e)?t.lanes=32:t.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Ei(),i=t.mode,s=xf({mode:"hidden",children:s},i),r=xo(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r=t.child,r.memoizedState=qp(n),r.childLanes=Hp(e,a,n),t.memoizedState=zp,fl(null,r)):(Si(t),gv(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)t.flags&256?(Si(t),t.flags&=-257,t=Gp(e,t,n)):t.memoizedState!==null?(Ei(),t.child=e.child,t.flags|=128,t=null):(Ei(),s=r.fallback,i=t.mode,r=xf({mode:"visible",children:r.children},i),s=xo(s,i,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,Uo(t,e.child,null,n),r=t.child,r.memoizedState=qp(n),r.childLanes=Hp(e,a,n),t.memoizedState=zp,t=fl(null,r));else if(Si(t),Iv(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(k(419)),r.stack="",r.digest=a,zl({value:r,source:null,stack:null}),t=Gp(e,t,n)}else if(We||Ss(e,t,n,!1),a=(n&e.childLanes)!==0,We||a){if(a=be,a!==null&&(r=zC(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Jo(e,r),Wt(a,e,r),jy;Rv(s)||If(),t=Gp(e,t,n)}else Rv(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Oe=Un(s.nextSibling),Tt=t,ae=!0,Di=null,Nn=!1,e!==null&&v1(t,e),t=gv(t,r.children),t.flags|=4096);return t}return i?(Ei(),s=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=zr(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=zr(u,s):(s=xo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,fl(null,r),r=t.child,s=e.child.memoizedState,s===null?s=qp(n):(i=s.cachePool,i!==null?(l=Je._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=y1(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Hp(e,a,n),t.memoizedState=zp,fl(e.child,r)):(Si(t),n=e.child,e=n.sibling,n=zr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function gv(e,t){return t=xf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xf(e,t){return e=an(22,e,null,t),e.lanes=0,e}function Gp(e,t,n){return Uo(t,e.child,null,n),e=gv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),iv(e.return,t,n)}function jp(e,t,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function fO(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=He.current,s=(a&2)!==0;if(s?(a=a&1|2,t.flags|=128):a&=1,Ae(He,a),_t(e,t,r,n),r=ae?$l:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tw(e,n,t);else if(e.tag===19)tw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jp(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jp(t,!0,n,null,o,r);break;case"together":jp(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ss(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&bf(e)))}function KU(e,t,n){switch(t.tag){case 3:df(t,t.stateNode.containerInfo),wi(t,Je,e.memoizedState.cache),ko();break;case 27:case 5:Vm(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,cv(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Si(t),t.flags|=128,null):n&t.child.childLanes?cO(e,t,n):(Si(t),e=Kr(e,t,n),e!==null?e.sibling:null);Si(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Ss(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return fO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(He,He.current),r)break;return null;case 22:return t.lanes=0,uO(e,t,n,t.pendingProps);case 24:wi(t,Je,e.memoizedState.cache)}return Kr(e,t,n)}function dO(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Vy(e,n)&&!(t.flags&128))return We=!1,KU(e,t,n);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&m1(t,$l,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=fo(t.elementType),t.type=e,typeof e=="function")Ey(e)?(r=Bo(e,r),t.tag=1,t=Z_(null,t,e,r,n)):(t.tag=0,t=vv(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===uy){t.tag=11,t=Y_(null,t,e,r,n);break e}else if(i===cy){t.tag=14,t=J_(null,t,e,r,n);break e}}throw t=Gm(e)||e,Error(k(306,t,""))}}return t;case 0:return vv(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Bo(r,t.pendingProps),Z_(e,t,r,i,n);case 3:e:{if(df(t,t.stateNode.containerInfo),e===null)throw Error(k(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,sv(e,t),Al(t,r,null,n);var a=t.memoizedState;if(r=a.cache,wi(t,Je,r),r!==o.cache&&ov(t,[Je],n,!0),Tl(),r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=ew(e,t,r,n);break e}else if(r!==i){i=Pn(Error(k(424)),t),zl(i),t=ew(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Un(e.firstChild),Tt=t,ae=!0,Di=null,Nn=!0,n=w1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ko(),r===i){t=Kr(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 26:return Wc(e,t),e===null?(n=ww(t.type,null,t.pendingProps,null))?t.memoizedState=n:ae||(n=t.type,e=t.pendingProps,r=kf(ki.current).createElement(n),r[Et]=t,r[Xt]=e,Ct(r,n,e),lt(r),t.stateNode=r):t.memoizedState=ww(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vm(t),e===null&&ae&&(r=t.stateNode=nR(t.type,t.pendingProps,ki.current),Tt=t,Nn=!0,i=Oe,Qi(t.type)?(Mv=i,Oe=Un(r.firstChild)):Oe=i),_t(e,t,t.pendingProps.children,n),Wc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ae&&((i=r=Oe)&&(r=EL(r,t.type,t.pendingProps,Nn),r!==null?(t.stateNode=r,Tt=t,Oe=Un(r.firstChild),Nn=!1,i=!0):i=!1),i||Fi(t)),Vm(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,r=o.children,Cv(i,o)?r=null:a!==null&&Cv(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=Py(e,t,BU,null,null,n),Fl._currentValue=i),Wc(e,t),_t(e,t,r,n),t.child;case 6:return e===null&&ae&&((e=n=Oe)&&(n=TL(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,Tt=t,Oe=null,e=!0):e=!1),e||Fi(t)),null;case 13:return cO(e,t,n);case 4:return df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Uo(t,null,r,n):_t(e,t,r,n),t.child;case 11:return Y_(e,t,t.type,t.pendingProps,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(t,t.type,r.value),_t(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Do(t),i=At(i),r=r(i),t.flags|=1,_t(e,t,r,n),t.child;case 14:return J_(e,t,t.type,t.pendingProps,n);case 15:return lO(e,t,t.type,t.pendingProps,n);case 19:return fO(e,t,n);case 31:return FU(e,t,n);case 22:return uO(e,t,n,t.pendingProps);case 24:return Do(t),r=At(Je),e===null?(i=Cy(),i===null&&(i=be,o=xy(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Ry(t),wi(t,Je,i)):(e.lanes&n&&(sv(e,t),Al(t,null,null,n),Tl()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),wi(t,Je,r)):(r=o.cache,wi(t,Je,r),r!==i.cache&&ov(t,[Je],n,!0))),_t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function xr(e){e.flags|=4}function Vp(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(UO())e.flags|=8192;else throw Oo=_f,Oy}else e.flags&=-16777217}function nw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!oR(t))if(UO())e.flags|=8192;else throw Oo=_f,Oy}function ac(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?LC():536870912,e.lanes|=t,is|=t)}function Ks(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function YU(e,t,n){var r=t.pendingProps;switch(Ay(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),qr(Je),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(na(t)?xr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Up())),xe(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(xr(t),o!==null?(xe(t),nw(t,o)):(xe(t),Vp(t,i,null,r,n))):o?o!==e.memoizedState?(xr(t),xe(t),nw(t,o)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&xr(t),xe(t),Vp(t,i,e,r,n)),null;case 27:if(hf(t),n=ki.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(k(166));return xe(t),null}e=yr.current,na(t)?M_(t):(e=nR(i,r,n),t.stateNode=e,xr(t))}return xe(t),null;case 5:if(hf(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(k(166));return xe(t),null}if(o=yr.current,na(t))M_(t);else{var a=kf(ki.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Et]=t,o[Xt]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(Ct(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xr(t)}}return xe(t),Vp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(e=ki.current,na(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Tt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Et]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||QO(e.nodeValue,n)),e||Fi(t,!0)}else e=kf(e).createTextNode(r),e[Et]=t,t.stateNode=e}return xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=na(t),n!==null){if(e===null){if(!r)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[Et]=t}else ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else n=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if(t.flags&128)throw Error(k(558))}return xe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Et]=t}else ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else i=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(on(t),t):(on(t),null)}return on(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ac(t,t.updateQueue),xe(t),null);case 4:return Qa(),e===null&&Qy(t.stateNode.containerInfo),xe(t),null;case 10:return qr(t.type),xe(t),null;case 19:if(ct(He),r=t.memoizedState,r===null)return xe(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)Ks(r,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sf(e),o!==null){for(t.flags|=128,Ks(r,!1),e=o.updateQueue,t.updateQueue=e,ac(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)h1(n,e),n=n.sibling;return Ae(He,He.current&1|2),ae&&Mr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&hn()>Of&&(t.flags|=128,i=!0,Ks(r,!1),t.lanes=4194304)}else{if(!i)if(e=Sf(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ac(t,e),Ks(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ae)return xe(t),null}else 2*hn()-r.renderingStartTime>Of&&n!==536870912&&(t.flags|=128,i=!0,Ks(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=hn(),e.sibling=null,n=He.current,Ae(He,i?n&1|2:n&1),ae&&Mr(t,r.treeForkCount),e):(xe(t),null);case 22:case 23:return on(t),Iy(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),n=t.updateQueue,n!==null&&ac(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ct(Co),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qr(Je),xe(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function JU(e,t){switch(Ay(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(Je),Qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hf(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(k(340));ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(He),null;case 4:return Qa(),null;case 10:return qr(t.type),null;case 22:case 23:return on(t),Iy(),e!==null&&ct(Co),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qr(Je),null;case 25:return null;default:return null}}function hO(e,t){switch(Ay(t),t.tag){case 3:qr(Je),Qa();break;case 26:case 27:case 5:hf(t);break;case 4:Qa();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:ct(He);break;case 10:qr(t.type);break;case 22:case 23:on(t),Iy(),e!==null&&ct(Co);break;case 24:qr(Je)}}function xu(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){me(t,t.return,s)}}function Ki(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){me(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){me(t,t.return,c)}}function pO(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{E1(t,n)}catch(r){me(e,e.return,r)}}}function mO(e,t,n){n.props=Bo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){me(e,t,r)}}function Cl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){me(e,t,i)}}function pr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){me(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){me(e,t,i)}else n.current=null}function vO(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){me(e,e.return,i)}}function Fp(e,t,n){try{var r=e.stateNode;gL(r,e.type,n,t),r[Xt]=t}catch(i){me(e,e.return,i)}}function gO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qi(e.type)||e.tag===4}function Kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ur));else if(r!==4&&(r===27&&Qi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yv(e,t,n),e=e.sibling;e!==null;)yv(e,t,n),e=e.sibling}function Cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function yO(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ct(t,r,n),t[Et]=e,t[Xt]=n}catch(o){me(e,e.return,o)}}var Nr=!1,Ye=!1,Yp=!1,rw=typeof WeakSet=="function"?WeakSet:Set,st=null;function WU(e,t){if(e=e.containerInfo,Av=Bf,e=o1(e),_y(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xv={focusedElem:e,selectionRange:n},Bf=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var v=Bo(n.type,i);e=r.getSnapshotBeforeUpdate(v,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){me(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ov(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ov(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function bO(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Or(e,n),r&4&&xu(5,n);break;case 1:if(Or(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){me(n,n.return,a)}else{var i=Bo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}r&64&&pO(n),r&512&&Cl(n,n.return);break;case 3:if(Or(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{E1(e,t)}catch(a){me(n,n.return,a)}}break;case 27:t===null&&r&4&&yO(n);case 26:case 5:Or(e,n),t===null&&r&4&&vO(n),r&512&&Cl(n,n.return);break;case 12:Or(e,n);break;case 31:Or(e,n),r&4&&SO(e,n);break;case 13:Or(e,n),r&4&&EO(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=oL.bind(null,n),AL(e,n))));break;case 22:if(r=n.memoizedState!==null||Nr,!r){t=t!==null&&t.memoizedState!==null||Ye,i=Nr;var o=Ye;Nr=r,(Ye=t)&&!o?Rr(e,n,(n.subtreeFlags&8772)!==0):Or(e,n),Nr=i,Ye=o}break;case 30:break;default:Or(e,n)}}function _O(e){var t=e.alternate;t!==null&&(e.alternate=null,_O(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&py(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Vt=!1;function Cr(e,t,n){for(n=n.child;n!==null;)wO(e,t,n),n=n.sibling}function wO(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(bu,n)}catch{}switch(n.tag){case 26:Ye||pr(n,t),Cr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ye||pr(n,t);var r=Pe,i=Vt;Qi(n.type)&&(Pe=n.stateNode,Vt=!1),Cr(e,t,n),Ml(n.stateNode),Pe=r,Vt=i;break;case 5:Ye||pr(n,t);case 6:if(r=Pe,i=Vt,Pe=null,Cr(e,t,n),Pe=r,Vt=i,Pe!==null)if(Vt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(o){me(n,t,o)}else try{Pe.removeChild(n.stateNode)}catch(o){me(n,t,o)}break;case 18:Pe!==null&&(Vt?(e=Pe,vw(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ls(e)):vw(Pe,n.stateNode));break;case 4:r=Pe,i=Vt,Pe=n.stateNode.containerInfo,Vt=!0,Cr(e,t,n),Pe=r,Vt=i;break;case 0:case 11:case 14:case 15:Ki(2,n,t),Ye||Ki(4,n,t),Cr(e,t,n);break;case 1:Ye||(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&mO(n,t,r)),Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:Ye=(r=Ye)||n.memoizedState!==null,Cr(e,t,n),Ye=r;break;default:Cr(e,t,n)}}function SO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(n){me(t,t.return,n)}}}function EO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(n){me(t,t.return,n)}}function XU(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rw),t;default:throw Error(k(435,e.tag))}}function sc(e,t){var n=XU(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=aL.bind(null,e,r);r.then(i,i)}})}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(Qi(s.type)){Pe=s.stateNode,Vt=!1;break e}break;case 5:Pe=s.stateNode,Vt=!1;break e;case 3:case 4:Pe=s.stateNode.containerInfo,Vt=!0;break e}s=s.return}if(Pe===null)throw Error(k(160));wO(o,a,i),Pe=null,Vt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)TO(t,e),t=t.sibling}var Jn=null;function TO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),Gt(e),r&4&&(Ki(3,e,e.return),xu(3,e),Ki(5,e,e.return));break;case 1:Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),r&64&&Nr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Jn;if(Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Su]||o[Et]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Ct(o,r,n),o[Et]=e,lt(o),r=o;break e;case"link":var a=Ew("link","href",i).get(r+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),Ct(o,r,n),i.head.appendChild(o);break;case"meta":if(a=Ew("meta","content",i).get(r+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=i.createElement(r),Ct(o,r,n),i.head.appendChild(o);break;default:throw Error(k(468,r))}o[Et]=e,lt(o),r=o}e.stateNode=r}else Tw(i,e.type,e.stateNode);else e.stateNode=Sw(i,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Tw(i,e.type,e.stateNode):Sw(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Fp(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),n!==null&&r&4&&Fp(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ht(t,e),Gt(e),r&512&&(Ye||n===null||pr(n,n.return)),e.flags&32){i=e.stateNode;try{es(i,"")}catch(v){me(e,e.return,v)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Fp(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Yp=!0);break;case 6:if(Ht(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(k(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(v){me(e,e.return,v)}}break;case 3:if(Zc=null,i=Jn,Jn=Df(t.containerInfo),Ht(t,e),Jn=i,Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(v){me(e,e.return,v)}Yp&&(Yp=!1,AO(e));break;case 4:r=Jn,Jn=Df(e.stateNode.containerInfo),Ht(t,e),Gt(e),Jn=r;break;case 12:Ht(t,e),Gt(e);break;case 31:Ht(t,e),Gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 13:Ht(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nh=hn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Nr,c=Ye;if(Nr=u||i,Ye=c||l,Ht(t,e),Ye=c,Nr=u,Gt(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Nr||Ye||ho(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){me(l,l.return,v)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){me(l,l.return,v)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;i?gw(m,!0):gw(l.stateNode,!1)}catch(v){me(l,l.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,sc(e,n))));break;case 19:Ht(t,e),Gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sc(e,r)));break;case 30:break;case 21:break;default:Ht(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(gO(r)){n=r;break}r=r.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var i=n.stateNode,o=Kp(e);Cf(e,o,i);break;case 5:var a=n.stateNode;n.flags&32&&(es(a,""),n.flags&=-33);var s=Kp(e);Cf(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Kp(e);yv(e,u,l);break;default:throw Error(k(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Or(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bO(e,t.alternate,t),t=t.sibling}function ho(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ki(4,t,t.return),ho(t);break;case 1:pr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&mO(t,t.return,n),ho(t);break;case 27:Ml(t.stateNode);case 26:case 5:pr(t,t.return),ho(t);break;case 22:t.memoizedState===null&&ho(t);break;case 30:ho(t);break;default:ho(t)}e=e.sibling}}function Rr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Rr(i,o,n),xu(4,o);break;case 1:if(Rr(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){me(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)S1(l[i],s)}catch(u){me(r,r.return,u)}}n&&a&64&&pO(o),Cl(o,o.return);break;case 27:yO(o);case 26:case 5:Rr(i,o,n),n&&r===null&&a&4&&vO(o),Cl(o,o.return);break;case 12:Rr(i,o,n);break;case 31:Rr(i,o,n),n&&a&4&&SO(i,o);break;case 13:Rr(i,o,n),n&&a&4&&EO(i,o);break;case 22:o.memoizedState===null&&Rr(i,o,n),Cl(o,o.return);break;case 30:break;default:Rr(i,o,n)}t=t.sibling}}function Fy(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Tu(n))}function Ky(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tu(e))}function Fn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xO(e,t,n,r),t=t.sibling}function xO(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Fn(e,t,n,r),i&2048&&xu(9,t);break;case 1:Fn(e,t,n,r);break;case 3:Fn(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tu(e)));break;case 12:if(i&2048){Fn(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){me(t,t.return,l)}}else Fn(e,t,n,r);break;case 31:Fn(e,t,n,r);break;case 13:Fn(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,t.memoizedState!==null?o._visibility&2?Fn(e,t,n,r):Ol(e,t):o._visibility&2?Fn(e,t,n,r):(o._visibility|=2,ma(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Fy(a,t);break;case 24:Fn(e,t,n,r),i&2048&&Ky(t.alternate,t);break;default:Fn(e,t,n,r)}}function ma(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:ma(o,a,s,l,i),xu(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?ma(o,a,s,l,i):Ol(o,a):(c._visibility|=2,ma(o,a,s,l,i)),i&&u&2048&&Fy(a.alternate,a);break;case 24:ma(o,a,s,l,i),i&&u&2048&&Ky(a.alternate,a);break;default:ma(o,a,s,l,i)}t=t.sibling}}function Ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ol(n,r),i&2048&&Fy(r.alternate,r);break;case 24:Ol(n,r),i&2048&&Ky(r.alternate,r);break;default:Ol(n,r)}t=t.sibling}}var dl=8192;function ra(e,t,n){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)CO(e,t,n),e=e.sibling}function CO(e,t,n){switch(e.tag){case 26:ra(e,t,n),e.flags&dl&&e.memoizedState!==null&&LL(n,Jn,e.memoizedState,e.memoizedProps);break;case 5:ra(e,t,n);break;case 3:case 4:var r=Jn;Jn=Df(e.stateNode.containerInfo),ra(e,t,n),Jn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,ra(e,t,n),dl=r):ra(e,t,n));break;default:ra(e,t,n)}}function OO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ys(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];st=r,IO(r,e)}OO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)RO(e),e=e.sibling}function RO(e){switch(e.tag){case 0:case 11:case 15:Ys(e),e.flags&2048&&Ki(9,e,e.return);break;case 3:Ys(e);break;case 12:Ys(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xc(e)):Ys(e);break;default:Ys(e)}}function Xc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];st=r,IO(r,e)}OO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ki(8,t,t.return),Xc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function IO(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:Ki(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Tu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,st=r;else e:for(n=e;st!==null;){r=st;var i=r.sibling,o=r.return;if(_O(r),r===n){st=null;break e}if(i!==null){i.return=o,st=i;break e}st=o}}}var QU={getCacheForType:function(e){var t=At(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return At(Je).controller.signal}},ZU=typeof WeakMap=="function"?WeakMap:Map,ce=0,be=null,re=null,oe=0,he=0,rn=null,Ii=!1,Ts=!1,Yy=!1,Yr=0,qe=0,Yi=0,Ro=0,Jy=0,un=0,is=0,Rl=null,Ft=null,bv=!1,nh=0,MO=0,Of=1/0,Rf=null,Bi=null,et=0,$i=null,os=null,Hr=0,_v=0,wv=null,PO=null,Il=0,Sv=null;function vn(){return ce&2&&oe!==0?oe&-oe:W.T!==null?Xy():qC()}function NO(){if(un===0)if(!(oe&536870912)||ae){var e=Zu;Zu<<=1,!(Zu&3932160)&&(Zu=262144),un=e}else un=536870912;return e=bn.current,e!==null&&(e.flags|=32),un}function Wt(e,t,n){(e===be&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(as(e,0),Mi(e,oe,un,!1)),wu(e,n),(!(ce&2)||e!==be)&&(e===be&&(!(ce&2)&&(Ro|=n),qe===4&&Mi(e,oe,un,!1)),Tr(e))}function kO(e,t,n){if(ce&6)throw Error(k(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||_u(e,t),i=r?nL(e,t):Jp(e,t,!0),o=r;do{if(i===0){Ts&&!r&&Mi(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!eL(n)){i=Jp(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var s=e;i=Rl;var l=s.current.memoizedState.isDehydrated;if(l&&(as(s,a).flags|=256),a=Jp(s,a,!1),a!==2){if(Yy&&!l){s.errorRecoveryDisabledLanes|=o,Ro|=o,i=4;break e}o=Ft,Ft=i,o!==null&&(Ft===null?Ft=o:Ft.push.apply(Ft,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){as(e,0),Mi(e,t,0,!0);break}e:{switch(r=e,o=i,o){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:Mi(r,t,un,!Ii);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(i=nh+300-hn(),10<i)){if(Mi(r,t,un,!Ii),Vd(r,0,!0)!==0)break e;Hr=t,r.timeoutHandle=eR(iw.bind(null,r,n,Ft,Rf,bv,t,un,Ro,is,Ii,o,"Throttled",-0,0),i);break e}iw(r,n,Ft,Rf,bv,t,un,Ro,is,Ii,o,null,-0,0)}}break}while(!0);Tr(e)}function iw(e,t,n,r,i,o,a,s,l,u,c,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},CO(t,o,f);var v=(o&62914560)===o?nh-hn():(o&4194048)===o?MO-hn():0;if(v=BL(f,v),v!==null){Hr=o,e.cancelPendingCommit=v(aw.bind(null,e,t,o,n,r,i,a,s,l,c,f,null,h,m)),Mi(e,o,a,!u);return}}aw(e,t,o,n,r,i,a,s,l)}function eL(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yn(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mi(e,t,n,r){t&=~Jy,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-mn(i),a=1<<o;r[o]=-1,i&=~a}n!==0&&BC(e,n,t)}function rh(){return ce&6?!0:(Cu(0),!1)}function Wy(){if(re!==null){if(he===0)var e=re.return;else e=re,Lr=Wo=null,Dy(e),Ga=null,ql=0,e=re;for(;e!==null;)hO(e.alternate,e),e=e.return;re=null}}function as(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_L(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Hr=0,Wy(),be=e,re=n=zr(e.current,null),oe=t,he=0,rn=null,Ii=!1,Ts=_u(e,t),Yy=!1,is=un=Jy=Ro=Yi=qe=0,Ft=Rl=null,bv=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-mn(r),o=1<<i;t|=e[i],r&=~o}return Yr=t,Jd(),n}function DO(e,t){te=null,W.H=Gl,t===Es||t===Xd?(t=U_(),he=3):t===Oy?(t=U_(),he=4):he=t===jy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rn=t,re===null&&(qe=1,Af(e,Pn(t,e.current)))}function UO(){var e=bn.current;return e===null?!0:(oe&4194048)===oe?Dn===null:(oe&62914560)===oe||oe&536870912?e===Dn:!1}function LO(){var e=W.H;return W.H=Gl,e===null?Gl:e}function BO(){var e=W.A;return W.A=QU,e}function If(){qe=4,Ii||(oe&4194048)!==oe&&bn.current!==null||(Ts=!0),!(Yi&134217727)&&!(Ro&134217727)||be===null||Mi(be,oe,un,!1)}function Jp(e,t,n){var r=ce;ce|=2;var i=LO(),o=BO();(be!==e||oe!==t)&&(Rf=null,as(e,t)),t=!1;var a=qe;e:do try{if(he!==0&&re!==null){var s=re,l=rn;switch(he){case 8:Wy(),a=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var u=he;if(he=0,rn=null,Na(e,s,l,u),n&&Ts){a=0;break e}break;default:u=he,he=0,rn=null,Na(e,s,l,u)}}tL(),a=qe;break}catch(c){DO(e,c)}while(!0);return t&&e.shellSuspendCounter++,Lr=Wo=null,ce=r,W.H=i,W.A=o,re===null&&(be=null,oe=0,Jd()),a}function tL(){for(;re!==null;)$O(re)}function nL(e,t){var n=ce;ce|=2;var r=LO(),i=BO();be!==e||oe!==t?(Rf=null,Of=hn()+500,as(e,t)):Ts=_u(e,t);e:do try{if(he!==0&&re!==null){t=re;var o=rn;t:switch(he){case 1:he=0,rn=null,Na(e,t,o,1);break;case 2:case 9:if(D_(o)){he=0,rn=null,ow(t);break}t=function(){he!==2&&he!==9||be!==e||(he=7),Tr(e)},o.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:D_(o)?(he=0,rn=null,ow(t)):(he=0,rn=null,Na(e,t,o,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var s=re;if(a?oR(a):s.stateNode.complete){he=0,rn=null;var l=s.sibling;if(l!==null)re=l;else{var u=s.return;u!==null?(re=u,ih(u)):re=null}break t}}he=0,rn=null,Na(e,t,o,5);break;case 6:he=0,rn=null,Na(e,t,o,6);break;case 8:Wy(),qe=6;break e;default:throw Error(k(462))}}rL();break}catch(c){DO(e,c)}while(!0);return Lr=Wo=null,W.H=r,W.A=i,ce=n,re!==null?0:(be=null,oe=0,Jd(),qe)}function rL(){for(;re!==null&&!x2();)$O(re)}function $O(e){var t=dO(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?ih(e):re=t}function ow(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Q_(n,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=Q_(n,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:Dy(t);default:hO(n,t),t=re=h1(t,Yr),t=dO(n,t,Yr)}e.memoizedProps=e.pendingProps,t===null?ih(e):re=t}function Na(e,t,n,r){Lr=Wo=null,Dy(t),Ga=null,ql=0;var i=t.return;try{if(VU(e,i,t,n,oe)){qe=1,Af(e,Pn(n,e.current)),re=null;return}}catch(o){if(i!==null)throw re=i,o;qe=1,Af(e,Pn(n,e.current)),re=null;return}t.flags&32768?(ae||r===1?e=!0:Ts||oe&536870912?e=!1:(Ii=e=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),zO(t,e)):ih(t)}function ih(e){var t=e;do{if(t.flags&32768){zO(t,Ii);return}e=t.return;var n=YU(t.alternate,t,Yr);if(n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);qe===0&&(qe=5)}function zO(e,t){do{var n=JU(e.alternate,e);if(n!==null){n.flags&=32767,re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=n}while(e!==null);qe=6,re=null}function aw(e,t,n,r,i,o,a,s,l){e.cancelPendingCommit=null;do oh();while(et!==0);if(ce&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(o=t.lanes|t.childLanes,o|=wy,U2(e,n,o,a,s,l),e===be&&(re=be=null,oe=0),os=t,$i=e,Hr=n,_v=o,wv=i,PO=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,sL(pf,function(){return VO(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=W.T,W.T=null,i=de.p,de.p=2,a=ce,ce|=4;try{WU(e,t,n)}finally{ce=a,de.p=i,W.T=r}}et=1,qO(),HO(),GO()}}function qO(){if(et===1){et=0;var e=$i,t=os,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=W.T,W.T=null;var r=de.p;de.p=2;var i=ce;ce|=4;try{TO(t,e);var o=xv,a=o1(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&i1(s.ownerDocument.documentElement,s)){if(l!==null&&_y(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,g=Math.min(l.start,v),y=l.end===void 0?g:Math.min(l.end,v);!m.extend&&g>y&&(a=y,y=g,g=a);var b=O_(s,g),_=O_(s,y);if(b&&_&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==_.node||m.focusOffset!==_.offset)){var w=f.createRange();w.setStart(b.node,b.offset),m.removeAllRanges(),g>y?(m.addRange(w),m.extend(_.node,_.offset)):(w.setEnd(_.node,_.offset),m.addRange(w))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var S=f[s];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Bf=!!Av,xv=Av=null}finally{ce=i,de.p=r,W.T=n}}e.current=t,et=2}}function HO(){if(et===2){et=0;var e=$i,t=os,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=W.T,W.T=null;var r=de.p;de.p=2;var i=ce;ce|=4;try{bO(e,t.alternate,t)}finally{ce=i,de.p=r,W.T=n}}et=3}}function GO(){if(et===4||et===3){et=0,C2();var e=$i,t=os,n=Hr,r=PO;t.subtreeFlags&10256||t.flags&10256?et=5:(et=0,os=$i=null,jO(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bi=null),hy(n),t=t.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(bu,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=W.T,i=de.p,de.p=2,W.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{W.T=t,de.p=i}}Hr&3&&oh(),Tr(e),i=e.pendingLanes,n&261930&&i&42?e===Sv?Il++:(Il=0,Sv=e):Il=0,Cu(0)}}function jO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tu(t)))}function oh(){return qO(),HO(),GO(),VO()}function VO(){if(et!==5)return!1;var e=$i,t=_v;_v=0;var n=hy(Hr),r=W.T,i=de.p;try{de.p=32>n?32:n,W.T=null,n=wv,wv=null;var o=$i,a=Hr;if(et=0,os=$i=null,Hr=0,ce&6)throw Error(k(331));var s=ce;if(ce|=4,RO(o.current),xO(o,o.current,a,n),ce=s,Cu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(bu,o)}catch{}return!0}finally{de.p=i,W.T=r,jO(e,t)}}function sw(e,t,n){t=Pn(n,t),t=mv(e.stateNode,t,2),e=Li(e,t,2),e!==null&&(wu(e,2),Tr(e))}function me(e,t,n){if(e.tag===3)sw(e,e,n);else for(;t!==null;){if(t.tag===3){sw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){e=Pn(n,e),n=aO(2),r=Li(t,n,2),r!==null&&(sO(n,r,t,e),wu(r,2),Tr(r));break}}t=t.return}}function Wp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Yy=!0,i.add(n),e=iL.bind(null,e,t,n),t.then(e,e))}function iL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,be===e&&(oe&n)===n&&(qe===4||qe===3&&(oe&62914560)===oe&&300>hn()-nh?!(ce&2)&&as(e,0):Jy|=n,is===oe&&(is=0)),Tr(e)}function FO(e,t){t===0&&(t=LC()),e=Jo(e,t),e!==null&&(wu(e,t),Tr(e))}function oL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FO(e,n)}function aL(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(k(314))}r!==null&&r.delete(t),FO(e,n)}function sL(e,t){return fy(e,t)}var Mf=null,va=null,Ev=!1,Pf=!1,Xp=!1,Pi=0;function Tr(e){e!==va&&e.next===null&&(va===null?Mf=va=e:va=va.next=e),Pf=!0,Ev||(Ev=!0,uL())}function Cu(e,t){if(!Xp&&Pf){Xp=!0;do for(var n=!1,r=Mf;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-mn(42|e)+1)-1,o&=i&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,lw(r,o))}else o=oe,o=Vd(r,r===be?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||_u(r,o)||(n=!0,lw(r,o));r=r.next}while(n);Xp=!1}}function lL(){KO()}function KO(){Pf=Ev=!1;var e=0;Pi!==0&&bL()&&(e=Pi);for(var t=hn(),n=null,r=Mf;r!==null;){var i=r.next,o=YO(r,t);o===0?(r.next=null,n===null?Mf=i:n.next=i,i===null&&(va=n)):(n=r,(e!==0||o&3)&&(Pf=!0)),r=i}et!==0&&et!==5||Cu(e),Pi!==0&&(Pi=0)}function YO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var a=31-mn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=D2(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(t=be,n=oe,n=Vd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ap(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||_u(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ap(r),hy(n)){case 2:case 8:n=DC;break;case 32:n=pf;break;case 268435456:n=UC;break;default:n=pf}return r=JO.bind(null,e),n=fy(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ap(r),e.callbackPriority=2,e.callbackNode=null,2}function JO(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(oh()&&e.callbackNode!==n)return null;var r=oe;return r=Vd(e,e===be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(kO(e,r,t),YO(e,hn()),e.callbackNode!=null&&e.callbackNode===n?JO.bind(null,e):null)}function lw(e,t){if(oh())return null;kO(e,t,!0)}function uL(){wL(function(){ce&6?fy(kC,lL):KO()})}function Xy(){if(Pi===0){var e=ts;e===0&&(e=Qu,Qu<<=1,!(Qu&261888)&&(Qu=256)),Pi=e}return Pi}function uw(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hc(""+e)}function cw(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function cL(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var o=uw((i[Xt]||null).action),a=r.submitter;a&&(t=(t=a[Xt]||null)?uw(t.formAction):a.getAttribute("formAction"),t!==null&&(o=t,a=null));var s=new Fd("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Pi!==0){var l=a?cw(i,a):new FormData(i);hv(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?cw(i,a):new FormData(i),hv(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var Qp=0;Qp<tv.length;Qp++){var Zp=tv[Qp],fL=Zp.toLowerCase(),dL=Zp[0].toUpperCase()+Zp.slice(1);ar(fL,"on"+dL)}ar(s1,"onAnimationEnd");ar(l1,"onAnimationIteration");ar(u1,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(OU,"onTransitionRun");ar(RU,"onTransitionStart");ar(IU,"onTransitionCancel");ar(c1,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function WO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){vf(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){vf(c)}i.currentTarget=null,o=l}}}}function ne(e,t){var n=t[Km];n===void 0&&(n=t[Km]=new Set);var r=e+"__bubble";n.has(r)||(XO(t,e,2,!1),n.add(r))}function em(e,t,n){var r=0;t&&(r|=4),XO(n,e,r,t)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Qy(e){if(!e[lc]){e[lc]=!0,HC.forEach(function(n){n!=="selectionchange"&&(hL.has(n)||em(n,!1,e),em(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lc]||(t[lc]=!0,em("selectionchange",!1,t))}}function XO(e,t,n,r){switch(cR(t)){case 2:var i=qL;break;case 8:i=HL;break;default:i=n0}n=i.bind(null,t,n,e),i=void 0,!Qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;s!==null;){if(a=Ta(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}WC(function(){var u=o,c=vy(n),f=[];e:{var h=f1.get(e);if(h!==void 0){var m=Fd,v=e;switch(e){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":m=aU;break;case"focusin":v="focus",m=Ip;break;case"focusout":v="blur",m=Ip;break;case"beforeblur":case"afterblur":m=Ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uU;break;case s1:case l1:case u1:m=X2;break;case c1:m=fU;break;case"scroll":case"scrollend":m=F2;break;case"wheel":m=hU;break;case"copy":case"cut":case"paste":m=Z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=__;break;case"toggle":case"beforetoggle":m=mU}var g=(t&4)!==0,y=!g&&(e==="scroll"||e==="scrollend"),b=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,w;_!==null;){var S=_;if(w=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||w===null||b===null||(S=Ul(_,b),S!=null&&g.push(Vl(_,S,w))),y)break;_=_.return}0<g.length&&(h=new m(h,v,null,n,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Xm&&(v=n.relatedTarget||n.fromElement)&&(Ta(v)||v[_s]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ta(v):null,v!==null&&(y=yu(v),g=v.tag,v!==y||g!==5&&g!==27&&g!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=y_,S="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=__,S="onPointerLeave",b="onPointerEnter",_="pointer"),y=m==null?h:cl(m),w=v==null?h:cl(v),h=new g(S,_+"leave",m,n,c),h.target=y,h.relatedTarget=w,S=null,Ta(c)===u&&(g=new g(b,_+"enter",v,n,c),g.target=w,g.relatedTarget=y,S=g),y=S,m&&v)t:{for(g=pL,b=m,_=v,w=0,S=b;S;S=g(S))w++;S=0;for(var A=_;A;A=g(A))S++;for(;0<w-S;)b=g(b),w--;for(;0<S-w;)_=g(_),S--;for(;w--;){if(b===_||_!==null&&b===_.alternate){g=b;break t}b=g(b),_=g(_)}g=null}else g=null;m!==null&&fw(f,h,m,g,!1),v!==null&&y!==null&&fw(f,y,v,g,!0)}}e:{if(h=u?cl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=T_;else if(E_(h))if(n1)T=AU;else{T=EU;var x=SU}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&my(u.elementType)&&(T=T_):T=TU;if(T&&(T=T(e,u))){t1(f,T,n,c);break e}x&&x(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Wm(h,"number",h.value)}switch(x=u?cl(u):window,e){case"focusin":(E_(x)||x.contentEditable==="true")&&(Ca=x,Zm=u,wl=null);break;case"focusout":wl=Zm=Ca=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,R_(f,n,c);break;case"selectionchange":if(CU)break;case"keydown":case"keyup":R_(f,n,c)}var R;if(by)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xa?ZC(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(QC&&n.locale!=="ko"&&(xa||O!=="onCompositionStart"?O==="onCompositionEnd"&&xa&&(R=XC()):(Ri=c,gy="value"in Ri?Ri.value:Ri.textContent,xa=!0)),x=Nf(u,O),0<x.length&&(O=new b_(O,e,null,n,c),f.push({event:O,listeners:x}),R?O.data=R:(R=e1(n),R!==null&&(O.data=R)))),(R=gU?yU(e,n):bU(e,n))&&(O=Nf(u,"onBeforeInput"),0<O.length&&(x=new b_("onBeforeInput","beforeinput",null,n,c),f.push({event:x,listeners:O}),x.data=R)),cL(f,e,u,n,c)}WO(f,t)})}function Vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Ul(e,n),i!=null&&r.unshift(Vl(e,i,o)),i=Ul(e,t),i!=null&&r.push(Vl(e,i,o))),e.tag===3)return r;e=e.return}return[]}function pL(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fw(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Ul(n,o),u!=null&&a.unshift(Vl(n,u,l))):i||(u=Ul(n,o),u!=null&&a.push(Vl(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var mL=/\r\n?/g,vL=/\u0000|\uFFFD/g;function dw(e){return(typeof e=="string"?e:""+e).replace(mL,`
`).replace(vL,"")}function QO(e,t){return t=dw(t),dw(e)===t}function ve(e,t,n,r,i,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||es(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&es(e,""+r);break;case"className":tc(e,"class",r);break;case"tabIndex":tc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tc(e,n,r);break;case"style":JC(e,r,o);break;case"data":if(t!=="object"){tc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Hc(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",i.name,i,null),ve(e,t,"formEncType",i.formEncType,i,null),ve(e,t,"formMethod",i.formMethod,i,null),ve(e,t,"formTarget",i.formTarget,i,null)):(ve(e,t,"encType",i.encType,i,null),ve(e,t,"method",i.method,i,null),ve(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Hc(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Ur);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(k(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Hc(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ne("beforetoggle",e),ne("toggle",e),qc(e,"popover",r);break;case"xlinkActuate":Ar(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ar(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ar(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ar(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ar(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ar(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ar(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qc(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=j2.get(n)||n,qc(e,n,r))}}function Tv(e,t,n,r,i,o){switch(n){case"style":JC(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(k(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof r=="string"?es(e,r):(typeof r=="number"||typeof r=="bigint")&&es(e,""+r);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[Xt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):qc(e,n,r)}}}function Ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:ve(e,t,o,a,n,null)}}i&&ve(e,t,"srcSet",n.srcSet,n,null),r&&ve(e,t,"src",n.src,n,null);return;case"input":ne("invalid",e);var s=o=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(k(137,t));break;default:ve(e,t,r,c,n,null)}}FC(e,o,s,l,u,a,i,!1);return;case"select":ne("invalid",e),r=a=o=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:ve(e,t,i,s,n,null)}t=o,n=a,e.multiple=!!r,t!=null?za(e,!!r,t,!1):n!=null&&za(e,!!r,n,!0);return;case"textarea":ne("invalid",e),o=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:ve(e,t,a,s,n,null)}YC(e,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ve(e,t,l,r,n,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(r=0;r<jl.length;r++)ne(jl[r],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:ve(e,t,u,r,n,null)}return;default:if(my(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Tv(e,t,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&ve(e,t,s,r,n,null))}function gL(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||ve(e,t,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":o=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":a=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:m!==f&&ve(e,t,h,m,r,f)}}Jm(e,a,s,l,u,c,o,i);return;case"select":m=a=s=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||ve(e,t,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&ve(e,t,i,o,r,l)}t=s,n=a,r=m,h!=null?za(e,!!n,h,!1):!!r!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ve(e,t,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(k(91));break;default:i!==o&&ve(e,t,a,i,r,o)}KC(e,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ve(e,t,v,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ve(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&ve(e,t,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(k(137,t));break;default:ve(e,t,u,h,r,m)}return;default:if(my(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!==void 0&&!r.hasOwnProperty(y)&&Tv(e,t,y,void 0,r,h);for(c in r)h=r[c],m=n[c],!r.hasOwnProperty(c)||h===m||h===void 0&&m===void 0||Tv(e,t,c,h,r,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&ve(e,t,b,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||ve(e,t,f,h,r,m)}function hw(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yL(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&hw(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&hw(f)&&(l=l.responseEnd,a+=c*(l<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+a)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Av=null,xv=null;function kf(e){return e.nodeType===9?e:e.ownerDocument}function pw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nm=null;function bL(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var eR=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,wL=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(e){return mw.resolve(null).then(e).catch(SL)}:eR;function SL(e){setTimeout(function(){throw e})}function Qi(e){return e==="head"}function vw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),ls(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ml(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ml(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Su]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&Ml(e.ownerDocument.body);n=i}while(n);ls(t)}function gw(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Ov(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ov(n),py(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function EL(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Su])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function TL(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function tR(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Un(e.nextSibling),e===null))return null;return e}function Rv(e){return e.data==="$?"||e.data==="$~"}function Iv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AL(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mv=null;function yw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Un(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function bw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function nR(e,t,n){switch(t=kf(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function Ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);py(e)}var Ln=new Map,_w=new Set;function Df(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=de.d;de.d={f:xL,r:CL,D:OL,C:RL,L:IL,m:ML,X:NL,S:PL,M:kL};function xL(){var e=ii.f(),t=rh();return e||t}function CL(e){var t=ws(e);t!==null&&t.tag===5&&t.type==="form"?J1(t):ii.r(e)}var As=typeof document>"u"?null:document;function rR(e,t,n){var r=As;if(r&&typeof t=="string"&&t){var i=Mn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),_w.has(i)||(_w.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Ct(t,"link",e),lt(t),r.head.appendChild(t)))}}function OL(e){ii.D(e),rR("dns-prefetch",e,null)}function RL(e,t){ii.C(e,t),rR("preconnect",e,t)}function IL(e,t,n){ii.L(e,t,n);var r=As;if(r&&e&&t){var i='link[rel="preload"][as="'+Mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Mn(n.imageSizes)+'"]')):i+='[href="'+Mn(e)+'"]';var o=i;switch(t){case"style":o=ss(e);break;case"script":o=xs(e)}Ln.has(o)||(e=Ie({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(o,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Ou(o))||t==="script"&&r.querySelector(Ru(o))||(t=r.createElement("link"),Ct(t,"link",e),lt(t),r.head.appendChild(t)))}}function ML(e,t){ii.m(e,t);var n=As;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Mn(r)+'"][href="'+Mn(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xs(e)}if(!Ln.has(o)&&(e=Ie({rel:"modulepreload",href:e},t),Ln.set(o,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ru(o)))return}r=n.createElement("link"),Ct(r,"link",e),lt(r),n.head.appendChild(r)}}}function PL(e,t,n){ii.S(e,t,n);var r=As;if(r&&e){var i=$a(r).hoistableStyles,o=ss(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Ou(o)))s.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(o))&&Zy(e,n);var l=a=r.createElement("link");lt(l),Ct(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Qc(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function NL(e,t){ii.X(e,t);var n=As;if(n&&e){var r=$a(n).hoistableScripts,i=xs(e),o=r.get(i);o||(o=n.querySelector(Ru(i)),o||(e=Ie({src:e,async:!0},t),(t=Ln.get(i))&&e0(e,t),o=n.createElement("script"),lt(o),Ct(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function kL(e,t){ii.M(e,t);var n=As;if(n&&e){var r=$a(n).hoistableScripts,i=xs(e),o=r.get(i);o||(o=n.querySelector(Ru(i)),o||(e=Ie({src:e,async:!0,type:"module"},t),(t=Ln.get(i))&&e0(e,t),o=n.createElement("script"),lt(o),Ct(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function ww(e,t,n,r){var i=(i=ki.current)?Df(i):null;if(!i)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ss(n.href),n=$a(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ss(n.href);var o=$a(i).hoistableStyles,a=o.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=i.querySelector(Ou(e)))&&!o._p&&(a.instance=o,a.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),o||DL(i,e,n,a.state))),t&&r===null)throw Error(k(528,""));return a}if(t&&r!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(n),n=$a(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function ss(e){return'href="'+Mn(e)+'"'}function Ou(e){return'link[rel="stylesheet"]['+e+"]"}function iR(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function DL(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ct(t,"link",n),lt(t),e.head.appendChild(t))}function xs(e){return'[src="'+Mn(e)+'"]'}function Ru(e){return"script[async]"+e}function Sw(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Mn(n.href)+'"]');if(r)return t.instance=r,lt(r),r;var i=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),lt(r),Ct(r,"style",i),Qc(r,n.precedence,e),t.instance=r;case"stylesheet":i=ss(n.href);var o=e.querySelector(Ou(i));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;r=iR(n),(i=Ln.get(i))&&Zy(r,i),o=(e.ownerDocument||e).createElement("link"),lt(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Ct(o,"link",r),t.state.loading|=4,Qc(o,n.precedence,e),t.instance=o;case"script":return o=xs(n.src),(i=e.querySelector(Ru(o)))?(t.instance=i,lt(i),i):(r=n,(i=Ln.get(o))&&(r=Ie({},n),e0(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),lt(i),Ct(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Qc(r,n.precedence,e));return t.instance}function Qc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function e0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zc=null;function Ew(e,t,n){if(Zc===null){var r=new Map,i=Zc=new Map;i.set(n,r)}else i=Zc,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Su]||o[Et]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Tw(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function UL(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function oR(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function LL(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=ss(r.href),o=t.querySelector(Ou(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,lt(o);return}o=t.ownerDocument||t,r=iR(r),(i=Ln.get(i))&&Zy(r,i),o=o.createElement("link"),lt(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Ct(o,"link",r),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Uf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var rm=0;function BL(e,t){return e.stylesheets&&e.count===0&&ef(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&rm===0&&(rm=62500*yL());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>rm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lf=null;function ef(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lf=new Map,t.forEach($L,e),Lf=null,Uf.call(e))}function $L(e,t){if(!(t.state.loading&4)){var n=Lf.get(e);if(n)var r=n.get(null);else{n=new Map,Lf.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),o=n.get(a)||r,o===r&&n.set(null,i),n.set(a,i),this.count++,r=Uf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Fl={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:Ao,_currentValue2:Ao,_threadCount:0};function zL(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.hiddenUpdates=xp(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function aR(e,t,n,r,i,o,a,s,l,u,c,f){return e=new zL(e,t,n,a,l,u,c,f,s),t=1,o===!0&&(t|=24),o=an(3,null,null,t),e.current=o,o.stateNode=e,t=xy(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ry(o),e}function sR(e){return e?(e=Ia,e):Ia}function lR(e,t,n,r,i,o){i=sR(i),r.context===null?r.context=i:r.pendingContext=i,r=Ui(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Li(e,r,t),n!==null&&(Wt(n,e,t),El(n,e,t))}function Aw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function t0(e,t){Aw(e,t),(e=e.alternate)&&Aw(e,t)}function uR(e){if(e.tag===13||e.tag===31){var t=Jo(e,67108864);t!==null&&Wt(t,e,67108864),t0(e,67108864)}}function xw(e){if(e.tag===13||e.tag===31){var t=vn();t=dy(t);var n=Jo(e,t);n!==null&&Wt(n,e,t),t0(e,t)}}var Bf=!0;function qL(e,t,n,r){var i=W.T;W.T=null;var o=de.p;try{de.p=2,n0(e,t,n,r)}finally{de.p=o,W.T=i}}function HL(e,t,n,r){var i=W.T;W.T=null;var o=de.p;try{de.p=8,n0(e,t,n,r)}finally{de.p=o,W.T=i}}function n0(e,t,n,r){if(Bf){var i=Pv(r);if(i===null)tm(e,t,r,$f,n),Cw(e,r);else if(jL(i,e,t,n,r))r.stopPropagation();else if(Cw(e,r),t&4&&-1<GL.indexOf(e)){for(;i!==null;){var o=ws(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=co(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-mn(a);s.entanglements[1]|=l,a&=~l}Tr(o),!(ce&6)&&(Of=hn()+500,Cu(0))}}break;case 31:case 13:s=Jo(o,2),s!==null&&Wt(s,o,2),rh(),t0(o,2)}if(o=Pv(r),o===null&&tm(e,t,r,$f,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tm(e,t,r,null,n)}}function Pv(e){return e=vy(e),r0(e)}var $f=null;function r0(e){if($f=null,e=Ta(e),e!==null){var t=yu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=RC(t),e!==null)return e;e=null}else if(n===31){if(e=IC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $f=e,null}function cR(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(O2()){case kC:return 2;case DC:return 8;case pf:case R2:return 32;case UC:return 268435456;default:return 32}default:return 32}}var Nv=!1,zi=null,qi=null,Hi=null,Kl=new Map,Yl=new Map,Ti=[],GL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cw(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(t.pointerId)}}function Js(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ws(t),t!==null&&uR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jL(e,t,n,r,i){switch(t){case"focusin":return zi=Js(zi,e,t,n,r,i),!0;case"dragenter":return qi=Js(qi,e,t,n,r,i),!0;case"mouseover":return Hi=Js(Hi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Kl.set(o,Js(Kl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yl.set(o,Js(Yl.get(o)||null,e,t,n,r,i)),!0}return!1}function fR(e){var t=Ta(e.target);if(t!==null){var n=yu(t);if(n!==null){if(t=n.tag,t===13){if(t=RC(n),t!==null){e.blockedOn=t,f_(e.priority,function(){xw(n)});return}}else if(t===31){if(t=IC(n),t!==null){e.blockedOn=t,f_(e.priority,function(){xw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pv(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return t=ws(n),t!==null&&uR(t),e.blockedOn=n,!1;t.shift()}return!0}function Ow(e,t,n){tf(e)&&n.delete(t)}function VL(){Nv=!1,zi!==null&&tf(zi)&&(zi=null),qi!==null&&tf(qi)&&(qi=null),Hi!==null&&tf(Hi)&&(Hi=null),Kl.forEach(Ow),Yl.forEach(Ow)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,Nv||(Nv=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,VL)))}var cc=null;function Rw(e){cc!==e&&(cc=e,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(r0(r||n)===null)continue;break}var o=ws(n);o!==null&&(e.splice(t,3),t-=3,hv(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ls(e){function t(l){return uc(l,e)}zi!==null&&uc(zi,e),qi!==null&&uc(qi,e),Hi!==null&&uc(Hi,e),Kl.forEach(t),Yl.forEach(t);for(var n=0;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)fR(n),n.blockedOn===null&&Ti.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Xt]||null;if(typeof o=="function")a||Rw(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Xt]||null)s=a.formAction;else if(r0(i)!==null)continue}else s=a.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),Rw(n)}}}function dR(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function i0(e){this._internalRoot=e}ah.prototype.render=i0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,r=vn();lR(n,r,e,t,null,null)};ah.prototype.unmount=i0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lR(e.current,2,null,e,null,null),rh(),t[_s]=null}};function ah(e){this._internalRoot=e}ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=qC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ti.length&&t!==0&&t<Ti[n].priority;n++);Ti.splice(n,0,e),n===0&&fR(e)}};var Iw=CC.version;if(Iw!=="19.2.4")throw Error(k(527,Iw,"19.2.4"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=w2(t),e=e!==null?MC(e):null,e=e===null?null:e.stateNode,e};var FL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{bu=fc.inject(FL),pn=fc}catch{}}Gd.createRoot=function(e,t){if(!OC(e))throw Error(k(299));var n=!1,r="",i=rO,o=iO,a=oO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=aR(e,1,!1,null,null,n,r,null,i,o,a,dR),e[_s]=t.current,Qy(e),new i0(t)};Gd.hydrateRoot=function(e,t,n){if(!OC(e))throw Error(k(299));var r=!1,i="",o=rO,a=iO,s=oO,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=aR(e,1,!0,t,n??null,r,i,l,o,a,s,dR),t.context=sR(null),n=t.current,r=vn(),r=dy(r),i=Ui(r),i.callback=null,Li(n,i,r),n=r,t.current.lanes=n,wu(t,n),Tr(t),e[_s]=t.current,Qy(e),new ah(t)};Gd.version="19.2.4";function hR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hR)}catch(e){console.error(e)}}hR(),wC.exports=Gd;var KL=wC.exports;const YL=or(KL);var Cn=(e=>(e.STUDENT="STUDENT",e.ADMIN="ADMIN",e))(Cn||{});const JL=[{id:"q1",title:"Data Structures V.1",description:"Structural foundations of computer science. Arrays, Lists, and Stacks.",category:"Computer Science",duration:10,createdAt:new Date().toISOString(),questions:[{id:"q1_1",text:"Which data structure follows the LIFO principle?",options:["Queue","Stack","Tree","Graph"],correctAnswer:1},{id:"q1_2",text:"What is the time complexity of searching an element in a Hash Map (average case)?",options:["O(1)","O(n)","O(log n)","O(n^2)"],correctAnswer:0}]},{id:"q2",title:"Python Core",description:"Advanced assessment for core Python syntax and type management.",category:"Programming",duration:15,createdAt:new Date().toISOString(),questions:[{id:"q2_1",text:"Which of the following is an immutable data type in Python?",options:["List","Dictionary","Set","Tuple"],correctAnswer:3}]}],Mw=["Computer Science","Mathematics","Engineering","Soft Skills","General Awareness"],WL=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Pw=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),XL=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v16m-6 0a2 2 0 002 2h2a2 2 0 002-2"})}),QL=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),im=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),ZL=({className:e="w-6 h-6"})=>C.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),pR=({className:e="w-6 h-6"})=>C.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});function sh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eB(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const tB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class o0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class nB extends o0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nw extends o0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kw extends o0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kv||(kv={}));class rB{constructor(t,{headers:n={},customFetch:r,region:i=kv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=tB(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return eB(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(y=a.signal,c.addEventListener("abort",()=>a.abort())):y=a.signal);const b=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:g,signal:y}).catch(A=>{throw new nB(A)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new Nw(b);if(!b.ok)throw new kw(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield b.json():w==="application/octet-stream"||w==="application/pdf"?S=yield b.blob():w==="text/event-stream"?S=b:w==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof kw||s instanceof Nw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var iB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},oB=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const b=await o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=b:s=JSON.parse(b))}const g=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&y&&y.length>1&&(l=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const g=await o.text();try{a=JSON.parse(g),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&g===""?(u=204,c="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new iB(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",l="",u="";const c=o==null?void 0:o.cause;if(c){var f,h,m,v;const b=(f=c==null?void 0:c.message)!==null&&f!==void 0?f:"",_=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";s=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${b}`,_&&(s+=` (${_})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}const y=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},aB=class extends oB{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Dw=new RegExp("[,()]");var ga=class extends aB{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Dw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Dw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},sB=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new ga({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new ga({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",c.join(","))}}return new ga({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ga({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ga({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function lB(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e){var t=lB(e,"string");return Jl(t)=="symbol"?t:t+""}function cB(e,t,n){return(t=uB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){cB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fB=class mR{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const s=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(l,u)=>{const c=new AbortController,f=setTimeout(()=>c.abort(),o),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),s(l,u);const m=()=>{clearTimeout(f),c.abort()};return h.addEventListener("abort",m,{once:!0}),s(l,dc(dc({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",m)})}return s(l,dc(dc({},u),{},{signal:c.signal})).finally(()=>clearTimeout(f))}:this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new mR(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),f=r&&Object.values(n).some(c);f?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(s="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new ga({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class dB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hB="2.97.0",pB=`realtime-js/${hB}`,mB="1.0.0",vR="2.0.0",Lw=vR,Dv=1e4,vB=1e3,gB=100;var yi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yi||(yi={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wn||(Wn={}));var Uv;(function(e){e.websocket="websocket"})(Uv||(Uv={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class yB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,s.length),v.setUint8(g++,a.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,n),Array.from(l,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(g++,b.charCodeAt(0))),Array.from(f,b=>v.setUint8(g++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+r.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(r),m.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class gR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Bw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=bB(a,e,t,i),o),{}):{}},bB=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?yR(o,a):Lv(a)},yR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return EB(t,n)}switch(e){case Ee.bool:return _B(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return wB(t);case Ee.json:case Ee.jsonb:return SB(t);case Ee.timestamp:return TB(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Lv(t);default:return Lv(t)}},Lv=e=>e,_B=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},EB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>yR(t,s))}return e},TB=e=>typeof e=="string"?e.replace(" ","T"):e,bR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class om{constructor(t,n,r={},i=Dv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $w;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($w||($w={}));class Pl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Pl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=c.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(s[u]=v),g.length>0&&(l[u]=g)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const f=t[s].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zw||(zw={}));var Nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nl||(Nl={}));var Ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class ka{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new om(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new gR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Pl(this),this.broadcastEndpointURL=bR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Nl.PRESENCE]&&this.bindings[Nl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ir.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ir.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let _=0;_<y;_++){const w=g[_],{filter:{event:S,schema:A,table:T,filter:x}}=w,R=m&&m[_];if(R&&R.event===S&&ka.isFilterValueEqual(R.schema,A)&&ka.isFilterValueEqual(R.table,T)&&ka.isFilterValueEqual(R.filter,x))b.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ir.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qe.errored,t==null||t(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Qe.joined&&t===Nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new om(this,Wn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new om(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Wn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var v,g,y,b,_,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,A=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(_=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:b,type:_,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ka.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Bw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Bw(t.columns,t.old_record)),n}}const am=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AB=[1e3,2e3,5e3,1e4],xB=1e4,CB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OB{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dv,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=am,this.ref=0,this.reconnectTimer=null,this.vsn=Lw,this.logger=am,this.conn=null,this.sendBuffer=[],this.serializer=new yB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Uv.websocket}`,this.httpEndpoint=bR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yi.connecting:return bo.Connecting;case yi.open:return bo.Open;case yi.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ka(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yi.open||this.conn.readyState===yi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([CB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:pB};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new gR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Dv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:hc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:am,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Lw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>AB[v-1]||xB,this.vsn){case mB:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case vR:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RB(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function IB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function MB(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=RB(e.baseUrl,r,i),l=await IB(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?h:void 0,v=m==null?void 0:m.error;throw new Wl((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function pc(e){return e.join("")}var PB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:pc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(e.namespace)}`}),!0}catch(t){if(t instanceof Wl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return;throw n}}};function ia(e){return e.join("")}var NB=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},kB=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=MB({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new PB(this.client,t),this.tableOps=new NB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},lh=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function uh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mc=class extends lh{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_R=class extends lh{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const DB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bv=e=>{if(Array.isArray(e))return e.map(n=>Bv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Bv(r)}),t},LB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function BB(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $B(e){var t=BB(e,"string");return Xl(t)=="symbol"?t:t+""}function zB(e,t,n){return(t=$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){zB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Hw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},qB=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new mc(Hw(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new mc(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new _R(Hw(e),e,r))},HB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?K(K({},i),n):(UB(r)?(i.headers=K({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),K(K({},i),n))};async function Ws(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,HB(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>qB(u,l,r,a))})}function wR(e="storage"){return{get:async(t,n,r,i)=>Ws(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>Ws(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>Ws(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>Ws(t,"HEAD",n,K(K({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>Ws(t,"DELETE",n,i,o,r,e)}}const GB=wR("storage"),{get:Ql,post:Yn,put:$v,head:jB,remove:a0}=GB,sn=wR("vectors");var Cs=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=DB(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=K(K({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(uh(n))return{data:null,error:n};throw n}}},VB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(uh(t))return{data:null,error:t};throw t}}};let SR;SR=Symbol.toStringTag;var FB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[SR]="BlobDownloadBuilder",this.promise=null}asStream(){return new VB(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(uh(t))return{data:null,error:t};throw t}}};const KB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var YB=class extends Cs{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=K(K({},Gw),r);let s=K(K({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=K(K({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),f=await(e=="PUT"?$v:Yn)(i.fetch,`${i.url}/object/${c}`,o,K({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=K({upsert:Gw.upsert},r),c=K(K({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await $v(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=K({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Yn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new lh("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Yn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Yn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Yn(r.fetch,`${r.url}/object/sign/${i}`,K({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Yn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>K(K({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),s=()=>Ql(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0},n);return new FB(s,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Bv(await Ql(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await jB(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(uh(r)&&r instanceof _R){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await a0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=K(K(K({},KB),t),{},{prefix:e||""});return await Yn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=K({},e);return await Yn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const JB="2.97.0",Iu={"X-Client-Info":`storage-js/${JB}`};var WB=class extends Cs{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=K(K({},Iu),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ql(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ql(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Yn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await $v(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Yn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await a0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},XB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Yn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ql(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await a0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!LB(e))throw new lh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new kB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},QB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await sn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await sn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},ZB=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},e$=class extends Cs{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=K(K({},Iu),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},t$=class extends e${constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new n$(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},n$=class extends QB{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new r$(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},r$=class extends ZB{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,K(K({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},i$=class extends WB{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new YB(this.url,this.headers,e,this.fetch)}get vectors(){return new t$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XB(this.url+"/iceberg",this.headers,this.fetch)}};const ER="2.97.0",ya=30*1e3,zv=3,sm=zv*ya,o$="http://localhost:9999",a$="supabase.auth.token",s$={"X-Client-Info":`gotrue-js/${ER}`},qv="X-Supabase-Api-Version",TR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u$=10*60*1e3;class Zl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c$ extends Zl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function f$(e){return j(e)&&e.name==="AuthApiError"}class _o extends Zl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class oi extends Zl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class nn extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lm(e){return j(e)&&e.name==="AuthSessionMissingError"}class oa extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vc extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gc extends oi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d$(e){return j(e)&&e.name==="AuthImplicitGrantRedirectError"}class jw extends oi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h$ extends oi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hv extends oi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function um(e){return j(e)&&e.name==="AuthRetryableFetchError"}class Vw extends oi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gv extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fw=` 	
\r=`.split(""),p$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fw.length;t+=1)e[Fw[t].charCodeAt(0)]=-2;for(let t=0;t<zf.length;t+=1)e[zf[t].charCodeAt(0)]=t;return e})();function Kw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zf[r]),t.queuedBits-=6}}function AR(e,t,n){const r=p$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{g$(a,r,n)};for(let a=0;a<e.length;a+=1)AR(e.charCodeAt(a),i,o);return t.join("")}function m$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function v$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}m$(r,t)}}function g$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)AR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function y$(e){const t=[];return v$(e,n=>t.push(n)),new Uint8Array(t)}function wo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Kw(i,n,r)),Kw(null,n,r),t.join("")}function b$(e){return Math.round(Date.now()/1e3)+e}function _$(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},xR=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function w$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},so=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function yc(e){const t=e.split(".");if(t.length!==3)throw new Gv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!l$.test(t[r]))throw new Gv("JWT not in base64url format");return{header:JSON.parse(Yw(t[0])),payload:JSON.parse(Yw(t[1])),signature:Fa(t[2]),raw:{header:t[0],payload:t[1]}}}async function E$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function T$(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function A$(e){return("0"+e.toString(16)).substr(-2)}function x$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,A$).join("")}async function C$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function O$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await C$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aa(e,t,n=!1){const r=x$();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,i);const o=await O$(r);return[o,r===o?"plain":"s256"]}const R$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I$(e){const t=e.headers.get(qv);if(!t||!t.match(R$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function M$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function P$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(e){if(!N$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k$(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Jw(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D$=[502,503,504];async function Ww(e){var t;if(!S$(e))throw new Hv(po(e),0);if(D$.includes(e.status))throw new Hv(po(e),e.status);let n;try{n=await e.json()}catch(o){throw new _o(po(o),o)}let r;const i=I$(e);if(i&&i.getTime()>=TR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vw(po(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Vw(po(n),e.status,n.weak_password.reasons);throw new c$(po(n),e.status||500,r)}const U$=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function J(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[qv]||(o[qv]=TR["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await L$(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function L$(e,t,n,r,i,o){const a=U$(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Hv(po(l),0)}if(s.ok||await Ww(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Ww(l)}}function Kn(e){var t;let n=null;z$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=b$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Xw(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B$(e){return{data:e,error:null}}function $$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=sh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Qw(e){return e}function z$(e){return e.access_token&&e.refresh_token&&e.expires_in}const fm=["global","local","others"];class q${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=fm[0]){if(fm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=sh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(j(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ai})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sa(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ai})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){sa(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ai})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){sa(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){sa(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteFactor(t){sa(t.userId),sa(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qw});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(j(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}}function Zw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const la={debug:!!(globalThis&&xR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class OR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eS extends OR{}async function H$(e,t,n){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(la.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function G$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function j$(e){return parseInt(e,16)}function V$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function F$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=RR(e.address),v=c?`${c}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}b+=_}return`${y}
${b}`}class Fe extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class qf extends Fe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function K$({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(IR(a)){if(o.rp.id!==a)return new Fe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Y$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(IR(r)){if(n.rpId!==r)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class J${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const W$=new J$;function X$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=sh(e,["challenge","user","excludeCredentials"]),o=Fa(t).buffer,a=Object.assign(Object.assign({},n),{id:Fa(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Q$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=sh(e,["challenge","allowCredentials"]),i=Fa(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Fa(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Z$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:wo(new Uint8Array(e.response.attestationObject)),clientDataJSON:wo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ez(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wo(new Uint8Array(i.authenticatorData)),clientDataJSON:wo(new Uint8Array(i.clientDataJSON)),signature:wo(new Uint8Array(i.signature)),userHandle:i.userHandle?wo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tS(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:K$({error:t,options:e})}}}async function nz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qf("Browser returned unexpected credential type",t)}:{data:null,error:new qf("Empty credential response",t)}}catch(t){return{data:null,error:Y$({error:t,options:e})}}}const rz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=Hf(s,a):r[o]=Hf(a)}else r[o]=a}return r}function oz(e,t){return Hf(rz,e,t||{})}function az(e,t){return Hf(iz,e,t||{})}class sz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??W$.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const f=r;if(f)c.name=`${c.id}:${f}`;else{const m=(await this.client.getUser()).data.user,v=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=oz(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:h}=await tz({publicKey:c,signal:u});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const c=az(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:h}=await nz(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return j(s)?{data:null,error:s}:{data:null,error:new _o("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn authentication")};try{if(!tS())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new _o("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Zl("rpId is required for WebAuthn registration")};try{if(!tS())return{data:null,error:new _o("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new _o("Unexpected error in register",a)}}}}G$();const lz={url:o$,storageKey:a$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function nS(e,t,n){return await n()}const ua={};class eu{get jwks(){var t,n;return(n=(t=ua[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ua[this.storageKey]=Object.assign(Object.assign({},ua[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ua[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ua[this.storageKey]=Object.assign(Object.assign({},ua[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},lz),t);if(this.storageKey=o.storageKey,this.instanceID=(n=eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&yt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new q$({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=CR(o.fetch),this.lock=o.lock||nS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=H$:this.lock=nS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:xR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Zw(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}o.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ER}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yt()&&(n=w$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),d$(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return j(n)?this._returnResult({error:n}):this._returnResult({error:new _o("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await aa(this.storage,this.storageKey)),o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Kn})}else if("phone"in t){const{phone:c,password:f,options:h}=t;o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kn})}else throw new vc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xw})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xw})}else throw new vc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new oa;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:b,options:_}=t;let w;if(yt())if(typeof y=="object")w=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),A=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=RR(A[0]);let x=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!x){const O=await w.request({method:"eth_chainId"});x=j$(O)}const R={domain:S.host,address:T,statement:b,uri:S.href,version:"1",chainId:x,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=F$(R),v=await w.request({method:"personal_sign",params:[V$(m),T]})}try{const{data:g,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Kn});if(y)throw y;if(!g||!g.session||!g.user){const b=new oa;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(j(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,f,h,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:b,statement:_,options:w}=t;let S;if(yt())if(typeof b=="object")S=b;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const A=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),_?{statement:_}:null));let x;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")x=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)x=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)v=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),g=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=T}}try{const{data:y,error:b}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:wo(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Kn});if(b)throw b;if(!y||!y.session||!y.user){const _=new oa;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(j(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new h$;const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new oa;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await aa(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new vc("You must provide either an email or phone number.")}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Kn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await aa(this.storage,this.storageKey));const u=await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:B$});return!((o=u.data)===null||o===void 0)&&o.url&&yt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nn;const{error:i}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(j(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new vc("You must provide either an email or phone number and a type")}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await so(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=cm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=k$(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ai}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ai})})}catch(n){if(j(n))return lm(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new nn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await aa(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Ai});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=yc(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(j(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jw("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new gc("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(j(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!lm(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(f$(s)&&(s.status===404||s.status===401||s.status===403)||lm(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=_$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await aa(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(j(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new oa}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T$(async i=>(i>0&&await E$(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&um(o)&&Date.now()+a-r<ya})}catch(r){if(this._debug(n,"error",r),j(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await so(this.storage,this.storageKey);if(i&&this.userStorage){let a=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ba(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:cm()}else if(i&&!i.user&&!i.user){const a=await so(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await gt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,i)):i.user=cm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${sm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),um(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ch;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),j(o)){const a={data:null,error:o};return um(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ba(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Jw(i);await ba(this.storage,this.storageKey,o)}else{const i=Jw(n);await ba(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ya);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ya}ms, refresh threshold is ${zv} ticks`),i<=zv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof OR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await aa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Z$(t.webauthn.credential_response):ez(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:X$(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Q$(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:m}=yc(t);let v=null;m.aal&&(v=m.aal);let g=v;const{data:{user:y},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((r=(n=y==null?void 0:y.factors)===null||n===void 0?void 0:n.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const w=m.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(m){if(j(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=yc(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await J(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nn})})}catch(t){if(j(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await J(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+u$>i)return r;const{data:o,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=yc(r);n!=null&&n.allowExpired||M$(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=P$(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,y$(`${s}.${l}`)))throw new Gv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}}eu.nextInstanceID={};const uz=eu,cz="2.97.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const fz={"X-Client-Info":`supabase-js-${hl}/${cz}`},dz={headers:fz},hz={schema:"public"},pz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mz={};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function vz(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gz(e){var t=vz(e,"string");return tu(t)=="symbol"?t:t+""}function yz(e,t,n){return(t=gz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){yz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const bz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_z=()=>Headers,wz=(e,t,n)=>{const r=bz(n),i=_z();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Be(Be({},a),{},{headers:u}))}};function Sz(e){return e.endsWith("/")?e:e+"/"}function Ez(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Be(Be({},l),i),auth:Be(Be({},u),o),realtime:Be(Be({},c),a),storage:{},global:Be(Be(Be({},f),s),{},{headers:Be(Be({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Tz(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sz(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Az=class extends uz{constructor(e){super(e)}},xz=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=Tz(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:hz,realtime:mz,auth:Be(Be({},pz),{},{storageKey:a}),global:dz},l=Ez(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=wz(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new fB(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new i$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new rB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Az({url:this.authUrl.href,headers:Be(Be({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new OB(this.realtimeUrl.href,Be(Be({},e),{},{params:Be(Be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Cz=(e,t,n)=>new xz(e,t,n);function Oz(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Oz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ka={},iS=(Ka==null?void 0:Ka.VITE_SUPABASE_URL)||"",oS=(Ka==null?void 0:Ka.VITE_SUPABASE_ANON_KEY)||"",jt=iS&&oS?Cz(iS,oS):null,xi={async getQuizzes(){if(!jt)return JSON.parse(localStorage.getItem("au_quizzes")||"[]");const{data:e,error:t}=await jt.from("quizzes").select("*");if(t)throw t;return e},async saveQuiz(e){if(!jt){const n=JSON.parse(localStorage.getItem("au_quizzes")||"[]"),r=n.findIndex(i=>i.id===e.id);r>-1?n[r]=e:n.push(e),localStorage.setItem("au_quizzes",JSON.stringify(n));return}const{error:t}=await jt.from("quizzes").upsert(e);if(t)throw t},async deleteQuiz(e){if(!jt){const n=JSON.parse(localStorage.getItem("au_quizzes")||"[]");localStorage.setItem("au_quizzes",JSON.stringify(n.filter(r=>r.id!==e)));return}const{error:t}=await jt.from("quizzes").delete().eq("id",e);if(t)throw t},async getAttempts(e){if(!jt)return JSON.parse(localStorage.getItem("au_attempts")||"[]");let t=jt.from("attempts").select("*");e&&(t=t.eq("studentId",e));const{data:n,error:r}=await t;if(r)throw r;return n},async saveAttempt(e){if(!jt){const n=JSON.parse(localStorage.getItem("au_attempts")||"[]");n.push(e),localStorage.setItem("au_attempts",JSON.stringify(n));return}const{error:t}=await jt.from("attempts").insert(e);if(t)throw t},async findUser(e){if(!jt)return JSON.parse(localStorage.getItem("au_users")||"[]").find(i=>i.username===e||i.email===e)||null;const{data:t,error:n}=await jt.from("users").select("*").or(`username.eq.${e},email.eq.${e}`).single();if(n&&n.code!=="PGRST116")throw n;return t},async registerUser(e){if(!jt){const n=JSON.parse(localStorage.getItem("au_users")||"[]");n.push(e),localStorage.setItem("au_users",JSON.stringify(n));return}const{error:t}=await jt.from("users").insert(e);if(t)throw t}},Rz="AUS_FACULTY",Iz=({onLogin:e})=>{const[t,n]=E.useState(!0),[r,i]=E.useState(Cn.STUDENT),[o,a]=E.useState(!1),[s,l]=E.useState(""),[u,c]=E.useState({usernameOrEmail:"",email:"",username:"",password:"",name:""}),[f,h]=E.useState(""),m=async v=>{v.preventDefault(),h(""),a(!0);try{if(t){const g=await xi.findUser(u.usernameOrEmail);g&&g.password===u.password?e(g):h("Invalid credentials. Access denied.")}else{if(r===Cn.ADMIN&&s!==Rz){h("Invalid Faculty Verification Code."),a(!1);return}if(await xi.findUser(u.email)){h("User already registered with this email."),a(!1);return}const y={id:`u_${Date.now()}`,name:u.name,username:u.username,email:u.email,password:u.password,role:r};await xi.registerUser(y),e(y)}}catch{h("Database connection error. Check Supabase keys.")}finally{a(!1)}};return C.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 login-bg",children:C.jsxs("div",{className:"glass w-full max-w-md p-10 rounded-[3.5rem] border-slate-200 shadow-2xl animate-fadeIn relative overflow-hidden bg-white/95",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-blue-600"}),C.jsx("div",{className:"flex justify-center mb-8",children:C.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center font-black text-2xl text-white shadow-xl shadow-blue-100",children:"AU"})}),C.jsx("h2",{className:"text-3xl font-black text-center mb-2 tracking-tighter text-slate-900",children:t?"University Login":"Create Account"}),C.jsx("p",{className:"text-center text-slate-400 text-sm mb-8 font-medium",children:"Aditya University Portal"}),!t&&C.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl mb-8",children:[C.jsxs("button",{type:"button",onClick:()=>i(Cn.STUDENT),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${r===Cn.STUDENT?"bg-white text-blue-600 shadow-sm":"text-slate-500"}`,children:[C.jsx(ZL,{className:"w-4 h-4"})," Student"]}),C.jsxs("button",{type:"button",onClick:()=>i(Cn.ADMIN),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${r===Cn.ADMIN?"bg-white text-blue-600 shadow-sm":"text-slate-500"}`,children:[C.jsx(pR,{className:"w-4 h-4"})," Faculty"]})]}),f&&C.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-2xl text-[11px] font-bold mb-6 text-center animate-bounce",children:f}),C.jsxs("form",{onSubmit:m,className:"space-y-4",children:[!t&&C.jsxs(C.Fragment,{children:[C.jsx("input",{type:"text",placeholder:"Full Name",required:!0,value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),C.jsx("input",{type:"text",placeholder:"Username",required:!0,value:u.username,onChange:v=>c({...u,username:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),C.jsx("input",{type:"email",placeholder:"Email",required:!0,value:u.email,onChange:v=>c({...u,email:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),r===Cn.ADMIN&&C.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-100",children:[C.jsx("label",{className:"text-[10px] font-black uppercase text-blue-600 mb-2 block",children:"Faculty Verification Key"}),C.jsx("input",{type:"password",placeholder:"Enter Faculty Code",required:!0,value:s,onChange:v=>l(v.target.value),className:"w-full bg-white border border-blue-200 rounded-xl px-4 py-2 text-sm focus:outline-none"})]})]}),t&&C.jsx("input",{type:"text",placeholder:"Username or Email",required:!0,value:u.usernameOrEmail,onChange:v=>c({...u,usernameOrEmail:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),C.jsx("input",{type:"password",placeholder:"Password",required:!0,value:u.password,onChange:v=>c({...u,password:v.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-sm focus:border-blue-500 transition-all outline-none"}),C.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 rounded-2xl font-black text-sm text-white shadow-xl shadow-blue-100 transition-all active:scale-95 flex items-center justify-center",children:o?"Synchronizing...":t?"Sign In":"Register Now"})]}),C.jsx("div",{className:"mt-8 text-center",children:C.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-slate-400 hover:text-blue-600 text-xs font-bold transition-colors",children:t?"Need a Faculty or Student account?":"Return to Login"})})]})})},Mz=({quiz:e,onComplete:t,onCancel:n,userId:r})=>{const[i,o]=E.useState(0),[a,s]=E.useState(new Array(e.questions.length).fill(-1)),[l,u]=E.useState(e.duration*60),[c,f]=E.useState(null),[h,m]=E.useState(!1);E.useEffect(()=>{l<60?(document.body.classList.add("bg-urgent"),m(!0)):document.body.classList.add("bg-focus");const w=setInterval(()=>{u(S=>S<=1?(clearInterval(w),g(),0):S-1)},1e3);return()=>{document.body.classList.remove("bg-urgent","bg-focus"),clearInterval(w)}},[l]);const v=w=>{if(c)return;const S=w===e.questions[i].correctAnswer;f({idx:w,correct:S});const A=[...a];A[i]=w,s(A),setTimeout(()=>{i<e.questions.length-1&&(f(null),o(T=>T+1))},1200)},g=()=>{const w=a.reduce((A,T,x)=>A+(T===e.questions[x].correctAnswer?1:0),0),S={id:`att_${Date.now()}`,quizId:e.id,studentId:r,score:w,totalQuestions:e.questions.length,completedAt:new Date().toISOString(),answers:a};t(S)},y=w=>{const S=Math.floor(w/60),A=w%60;return`${S}:${A<10?"0":""}${A}`},b=(i+1)/e.questions.length*100,_=e.questions[i];return C.jsxs("div",{className:"max-w-4xl mx-auto p-4 animate-fadeIn relative z-10",children:[C.jsx("div",{className:"w-full h-1.5 bg-slate-200 rounded-full mb-10 overflow-hidden",children:C.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700 ease-out shadow-sm",style:{width:`${b}%`}})}),C.jsxs("div",{className:"flex justify-between items-center mb-10",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:e.title}),C.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[C.jsxs("span",{className:"text-blue-600 font-black text-sm uppercase tracking-widest",children:["Question ",i+1]}),C.jsx("span",{className:"text-slate-300",children:"|"}),C.jsxs("span",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:[e.questions.length," total"]})]})]}),C.jsxs("div",{className:"flex flex-col items-end",children:[C.jsx("div",{className:`text-4xl font-black font-mono px-6 py-4 rounded-[1.5rem] border-2 transition-all duration-700 ${h?"bg-red-50 border-red-500 text-red-600 animate-pulse":"bg-white border-slate-200 text-blue-600 shadow-sm"}`,children:y(l)}),C.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-slate-400 mt-3 font-black",children:"Time Limit"})]})]}),C.jsxs("div",{className:"glass-morphism p-12 rounded-[3rem] min-h-[480px] flex flex-col border-slate-200 shadow-xl relative overflow-hidden bg-white/90",children:[C.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 blur-3xl rounded-full -mr-32 -mt-32"}),C.jsxs("div",{className:"mb-12 relative",children:[C.jsx("h3",{className:"text-2xl font-black leading-tight mb-12 text-slate-800",children:_.text}),C.jsx("div",{className:"grid gap-4",children:_.options.map((w,S)=>{const A=a[i]===S,T=S===_.correctAnswer;let x="border-slate-100 bg-slate-50 hover:border-blue-200 text-slate-600";return c?T?x="feedback-correct border-green-500 text-green-700":A?x="feedback-incorrect border-red-500 text-red-700":x="opacity-30 grayscale":A&&(x="border-blue-500 bg-blue-50 text-blue-700 animate-pulse-border"),C.jsxs("button",{disabled:!!c,onClick:()=>v(S),className:`group w-full text-left p-6 rounded-[1.5rem] border-2 transition-all transform active:scale-[0.99] flex items-center ${x}`,children:[C.jsx("span",{className:`w-12 h-12 flex items-center justify-center rounded-2xl mr-6 font-black text-sm transition-all ${A?"bg-blue-600 text-white":"bg-slate-200 text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600"}`,children:String.fromCharCode(65+S)}),C.jsx("span",{className:"text-lg font-bold",children:w}),c&&T&&C.jsx("svg",{className:"ml-auto w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),c&&A&&!T&&C.jsx("svg",{className:"ml-auto w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})]},S)})})]}),C.jsxs("div",{className:"mt-auto flex justify-between items-center pt-8 border-t border-slate-100",children:[C.jsxs("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[Math.round(b),"% Progress Recorded"]}),i===e.questions.length-1&&c&&C.jsx("button",{onClick:g,className:"px-14 py-4 rounded-2xl bg-green-600 hover:bg-green-700 text-white font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-green-100 hover:scale-105 active:scale-95",children:"Finish Session"})]})]}),C.jsx("div",{className:"mt-10 flex justify-center",children:C.jsx("button",{onClick:n,className:"text-slate-400 hover:text-red-600 font-black text-[10px] uppercase tracking-[0.3em] transition-all py-3 px-8 rounded-2xl hover:bg-red-50",children:"Terminate Assessment"})})]})};var fh={exports:{}},MR={};function Bn(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Pz=Bn;Bn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Bn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Bn.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Bn.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Bn.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Bn.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Bn.prototype.start=Bn.prototype.try;Bn.prototype.errors=function(){return this._errors};Bn.prototype.attempts=function(){return this._attempts};Bn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t};(function(e){var t=Pz;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<r.retries;a++)o.push(this.createTimeout(a,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(a,r)),o.sort(function(s,l){return s-l}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var s=i[a],l=n[s];n[s]=(function(c){var f=e.operation(r),h=Array.prototype.slice.call(arguments,1),m=h.pop();h.push(function(v){f.retry(v)||(v&&(arguments[0]=f.mainError()),m.apply(this,arguments))}),f.attempt(function(){c.apply(n,h)})}).bind(n,l),n[s].options=r}}})(MR);var Nz=MR;const kz=Nz,Dz=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class PR extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Uz=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},Lz=e=>Dz.includes(e),NR=(e,t)=>new Promise((n,r)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=kz.operation(t);i.attempt(async o=>{try{n(await e(o))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof PR)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!Lz(a.message))i.stop(),r(a);else{Uz(a,o,t);try{await t.onFailedAttempt(a)}catch(s){r(s);return}i.retry(a)||r(i.mainError())}}})});fh.exports=NR;fh.exports.default=NR;var Bz=fh.exports.AbortError=PR,$z=fh.exports;const zz=or($z);var qz={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Hz,Gz;function jz(){return{geminiUrl:Hz,vertexUrl:Gz}}function Vz(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=jz();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai{}function z(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function d(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>d(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Fz(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}jv(e,i,o,0,a)}}function jv(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])jv(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(a,f,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&jv(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kz(e){const t={},n=d(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=d(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function Yz(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],Wz(a)),t}function Jz(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],Xz(a)),t}function Wz(e){const t={},n=d(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Qz(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Xz(e){const t={},n=d(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Zz(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Qz(e){const t={},n=d(e,["video"]);return n!=null&&p(t,["video"],oq(n)),t}function Zz(e){const t={},n=d(e,["_self"]);return n!=null&&p(t,["video"],aq(n)),t}function eq(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function tq(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function nq(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],rq(a)),t}function rq(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function kR(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],iq(a)),t}function iq(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function oq(e){const t={},n=d(e,["uri"]);n!=null&&p(t,["uri"],n);const r=d(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],s0(r));const i=d(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function aq(e){const t={},n=d(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=d(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],s0(r));const i=d(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aS;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aS||(aS={}));var sS;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(sS||(sS={}));var lS;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(lS||(lS={}));var Kt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Kt||(Kt={}));var uS;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uS||(uS={}));var cS;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(cS||(cS={}));var fS;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fS||(fS={}));var dS;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dS||(dS={}));var hS;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(hS||(hS={}));var pS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pS||(pS={}));var mS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(mS||(mS={}));var vS;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(vS||(vS={}));var gS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gS||(gS={}));var yS;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(yS||(yS={}));var bS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(bS||(bS={}));var _S;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_S||(_S={}));var wS;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(wS||(wS={}));var SS;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(SS||(SS={}));var ES;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ES||(ES={}));var TS;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(TS||(TS={}));var AS;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AS||(AS={}));var Gf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gf||(Gf={}));var xS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xS||(xS={}));var CS;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(CS||(CS={}));var OS;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OS||(OS={}));var Vv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vv||(Vv={}));var RS;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RS||(RS={}));var IS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IS||(IS={}));var Fv;(function(e){e.COLLECTION="COLLECTION"})(Fv||(Fv={}));var MS;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(MS||(MS={}));var PS;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PS||(PS={}));var jf;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(jf||(jf={}));var NS;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(NS||(NS={}));var kS;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(kS||(kS={}));var DS;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(DS||(DS={}));var US;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(US||(US={}));var LS;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(LS||(LS={}));var BS;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(BS||(BS={}));var $S;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($S||($S={}));var zS;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(zS||(zS={}));var qS;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(qS||(qS={}));var HS;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(HS||(HS={}));var GS;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(GS||(GS={}));var jS;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(jS||(jS={}));var VS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(VS||(VS={}));var FS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(FS||(FS={}));var KS;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(KS||(KS={}));var YS;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YS||(YS={}));var JS;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(JS||(JS={}));var WS;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(WS||(WS={}));var XS;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(XS||(XS={}));var QS;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QS||(QS={}));var ZS;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ZS||(ZS={}));var eE;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(eE||(eE={}));var tE;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tE||(tE={}));var nE;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nE||(nE={}));var rE;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(rE||(rE={}));var Da;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Da||(Da={}));class Kv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Xs{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class iE{}class oE{}class sq{}class lq{}class uq{}class cq{}class aE{}class sE{}class lE{}class fq{}class Vf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Vf;let i;const o=t;return n?i=Jz(o):i=Yz(o),Object.assign(r,i),r}}class uE{}class cE{}class fE{}class dE{}class dq{}class hq{}class pq{}class l0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new l0,o=nq(t);return Object.assign(r,o),r}}class mq{}class vq{}class gq{}class yq{}class hE{}class bq{get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class _q{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class u0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new u0,o=kR(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function DR(e,t){const n=le(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function UR(e){return Array.isArray(e)?e.map(t=>Ff(t)):[Ff(e)]}function Ff(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function LR(e){const t=Ff(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function BR(e){const t=Ff(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function pE(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $R(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>pE(t)):[pE(e)]}function Yv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function mE(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function vE(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ut(e){if(e==null)throw new Error("ContentUnion is required");return Yv(e)?e:{role:"user",parts:$R(e)}}function c0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=ut(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=ut(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ut(n)):[ut(t)]}function cn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(mE(e)||vE(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(e)]}const t=[],n=[],r=Yv(e[0]);for(const i of e){const o=Yv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(mE(i)||vE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:$R(n)}),t}function wq(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Kt).includes(n[0].toUpperCase())?n[0].toUpperCase():Kt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Kt).includes(r.toUpperCase())?r.toUpperCase():Kt.TYPE_UNSPECIFIED})}}function Ya(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&wq(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Kt).includes(s.toUpperCase())?s.toUpperCase():Kt.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Ya(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(Ya(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Ya(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function f0(e){return Ya(e)}function d0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function h0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Os(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ya(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ya(t.response));return e}function Rs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Sq(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function si(e,t){if(typeof t!="string")throw new Error("name must be a string");return Sq(e,t,"cachedContents")}function zR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Zi(e){return s0(e)}function Eq(e){return e!=null&&typeof e=="object"&&"name"in e}function Tq(e){return e!=null&&typeof e=="object"&&"video"in e}function Aq(e){return e!=null&&typeof e=="object"&&"uri"in e}function qR(e){var t;let n;if(Eq(e)&&(n=e.name),!(Aq(e)&&(n=e.uri,n===void 0))&&!(Tq(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function HR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function GR(e){for(const t of["models","tunedModels","publisherModels"])if(xq(e,t))return e[t];return[]}function xq(e,t){return e!==null&&typeof e=="object"&&t in e}function Cq(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Oq(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Cq(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function jR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Rq(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function VR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Is(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function FR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Iq(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mq(e){const t={},n=d(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=d(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fH(a))),p(t,["inlinedResponses"],o)}const i=d(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function Pq(e){const t={},n=d(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Nq(e){const t={},n=d(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function nf(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["metadata","state"]);i!=null&&p(t,["state"],FR(i));const o=d(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=d(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=d(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=d(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=d(e,["metadata","output"]);return u!=null&&p(t,["dest"],Mq(VR(u))),t}function Jv(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["state"]);i!=null&&p(t,["state"],FR(i));const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=d(e,["model"]);c!=null&&p(t,["model"],c);const f=d(e,["inputConfig"]);f!=null&&p(t,["src"],kq(f));const h=d(e,["outputConfig"]);h!=null&&p(t,["dest"],Pq(VR(h)));const m=d(e,["completionStats"]);return m!=null&&p(t,["completionStats"],m),t}function kq(e){const t={},n=d(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Dq(e,t){const n={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>cH(e,a))),p(n,["requests","requests"],o)}return n}function Uq(e){const t={},n=d(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Lq(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Bq(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function $q(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function zq(e){const t={},n=d(e,["content"]);n!=null&&p(t,["content"],n);const r=d(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],qq(r));const i=d(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=d(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=d(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=d(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=d(e,["index"]);l!=null&&p(t,["index"],l);const u=d(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=d(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(t,["safetyRatings"],h)}const f=d(e,["urlContextMetadata"]);return f!=null&&p(t,["urlContextMetadata"],f),t}function qq(e){const t={},n=d(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function KR(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yH(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function Hq(e,t){const n={},r=d(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),d(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Gq(e,t){const n={},r=d(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=d(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],Nq(Rq(i))),n}function gE(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],le(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Dq(e,jR(e,i)));const o=d(t,["config"]);return o!=null&&Hq(o,n),n}function jq(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],le(e,r));const i=d(t,["src"]);i!=null&&p(n,["inputConfig"],Uq(jR(e,i)));const o=d(t,["config"]);return o!=null&&Gq(o,n),n}function Vq(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function Fq(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],le(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Zq(e,i));const o=d(t,["config"]);return o!=null&&Vq(o,n),n}function Kq(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Yq(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function Jq(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function Wq(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function Xq(e,t){const n={},r=d(t,["contents"]);if(r!=null){let o=c0(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=d(t,["config"]);return i!=null&&(p(n,["_self"],Qq(i,n)),Fz(n,{"requests[].*":"requests[].request.*"})),n}function Qq(e,t){const n={},r=d(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=d(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=d(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zq(e,t){const n={},r=d(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],Xq(e,i)),n}function eH(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function tH(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nH(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rH(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],KR(ut(i)));const o=d(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(t,["topP"]);a!=null&&p(r,["topP"],a);const s=d(t,["topK"]);s!=null&&p(r,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(t,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const v=d(t,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const g=d(t,["seed"]);g!=null&&p(r,["seed"],g);const y=d(t,["responseMimeType"]);y!=null&&p(r,["responseMimeType"],y);const b=d(t,["responseSchema"]);b!=null&&p(r,["responseSchema"],f0(b));const _=d(t,["responseJsonSchema"]);if(_!=null&&p(r,["responseJsonSchema"],_),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=d(t,["safetySettings"]);if(n!==void 0&&w!=null){let G=w;Array.isArray(G)&&(G=G.map(q=>bH(q))),p(n,["safetySettings"],G)}const S=d(t,["tools"]);if(n!==void 0&&S!=null){let G=Rs(S);Array.isArray(G)&&(G=G.map(q=>wH(Os(q)))),p(n,["tools"],G)}const A=d(t,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],_H(A)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],si(e,T));const x=d(t,["responseModalities"]);x!=null&&p(r,["responseModalities"],x);const R=d(t,["mediaResolution"]);R!=null&&p(r,["mediaResolution"],R);const O=d(t,["speechConfig"]);if(O!=null&&p(r,["speechConfig"],d0(O)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=d(t,["thinkingConfig"]);I!=null&&p(r,["thinkingConfig"],I);const N=d(t,["imageConfig"]);N!=null&&p(r,["imageConfig"],uH(N));const P=d(t,["enableEnhancedCivicAnswers"]);if(P!=null&&p(r,["enableEnhancedCivicAnswers"],P),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function iH(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>zq(u))),p(t,["candidates"],l)}const i=d(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=d(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=d(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=d(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function oH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function aH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Is(e,r)),n}function sH(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function lH(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function uH(e){const t={},n=d(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=d(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function cH(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["request","model"],le(e,r));const i=d(t,["contents"]);if(i!=null){let s=cn(i);Array.isArray(s)&&(s=s.map(l=>KR(l))),p(n,["request","contents"],s)}const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(t,["config"]);return a!=null&&p(n,["request","generationConfig"],rH(e,a,d(n,["request"],{}))),n}function fH(e){const t={},n=d(e,["response"]);n!=null&&p(t,["response"],iH(n));const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["error"]);return i!=null&&p(t,["error"],i),t}function dH(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),d(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function hH(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=d(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function pH(e){const t={},n=d(e,["config"]);return n!=null&&dH(n,t),t}function mH(e){const t={},n=d(e,["config"]);return n!=null&&hH(n,t),t}function vH(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>nf(a))),p(t,["batchJobs"],o)}return t}function gH(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Jv(a))),p(t,["batchJobs"],o)}return t}function yH(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],eH(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],tH(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],Lq(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function bH(e){const t={},n=d(e,["category"]);if(n!=null&&p(t,["category"],n),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function _H(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],nH(r)),t}function wH(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],sH(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],lH(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Jr||(Jr={}));class Xo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SH extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=gE(this.apiClient,t),r=n._url,i=z("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jq(this.apiClient,t);return s=z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Jv(c))}else{const u=gE(this.apiClient,t);return s=z("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>nf(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Fq(this.apiClient,t);return o=z("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>nf(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aH(this.apiClient,t);return s=z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Jv(c))}else{const u=oH(this.apiClient,t);return s=z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>nf(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=$q(this.apiClient,t);a=z("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Bq(this.apiClient,t);a=z("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mH(t);return s=z("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=gH(c),h=new hE;return Object.assign(h,f),h})}else{const u=pH(t);return s=z("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=vH(c),h=new hE;return Object.assign(h,f),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Yq(this.apiClient,t);return s=z("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Wq(c))}else{const u=Kq(this.apiClient,t);return s=z("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Jq(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EH(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function yE(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FH(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function TH(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(f=>yE(f))),p(t,["contents"],c)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],yE(ut(s)));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>YH(f))),p(t,["tools"],c)}const u=d(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],KH(u)),d(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function AH(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let f=cn(a);Array.isArray(f)&&(f=f.map(h=>h)),p(t,["contents"],f)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],ut(s));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>JH(h))),p(t,["tools"],f)}const u=d(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=d(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function xH(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],DR(e,r));const i=d(t,["config"]);return i!=null&&TH(i,n),n}function CH(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],DR(e,r));const i=d(t,["config"]);return i!=null&&AH(i,n),n}function OH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function RH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function IH(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function MH(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function PH(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function NH(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kH(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DH(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function UH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function LH(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],si(e,r)),n}function BH(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function $H(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function zH(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function qH(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function HH(e){const t={},n=d(e,["config"]);return n!=null&&zH(n,t),t}function GH(e){const t={},n=d(e,["config"]);return n!=null&&qH(n,t),t}function jH(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function VH(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function FH(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],PH(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],NH(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],EH(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function KH(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],kH(r)),t}function YH(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],BH(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],$H(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function JH(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>DH(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function WH(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function XH(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function QH(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],si(e,r));const i=d(t,["config"]);return i!=null&&WH(i,n),n}function ZH(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],si(e,r));const i=d(t,["config"]);return i!=null&&XH(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e3 extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=CH(this.apiClient,t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=xH(this.apiClient,t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=LH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=UH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=RH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=MH(c),h=new fE;return Object.assign(h,f),h})}else{const u=OH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=IH(c),h=new fE;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ZH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=QH(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=GH(t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=VH(c),h=new dE;return Object.assign(h,f),h})}else{const u=HH(t);return s=z("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=jH(c),h=new dE;return Object.assign(h,f),h})}}}function Kf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function bE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function er(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(v){return Promise.resolve(v).then(m,f)}}function s(m,v){r[m]&&(i[m]=function(g){return new Promise(function(y,b){o.push([m,g,y,b])>1||l(m,g)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(g){h(o[0][3],g)}}function u(m){m.value instanceof Q?Promise.resolve(m.value.v).then(c,f):h(o[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function h(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bE=="function"?bE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t3(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:YR(n)}function YR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function n3(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _E(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!YR(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class r3{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new i3(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class i3{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),n3(o)}async sendMessage(t){var n;await this.sendPromise;const r=ut(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=ut(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?_E(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return er(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=tr(t),m;m=yield Q(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const v=s;if(t3(v)){const g=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;g!==void 0&&c.push(g)}yield yield Q(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield Q(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._E(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,nu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o3(e){const t={},n=d(e,["file"]);return n!=null&&p(t,["file"],n),t}function a3(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function s3(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],qR(n)),t}function l3(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function u3(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],qR(n)),t}function c3(e){const t={},n=d(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function f3(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function d3(e){const t={},n=d(e,["config"]);return n!=null&&f3(n,t),t}function h3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function p3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m3 extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=d3(t);return o=z("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=h3(l),c=new mq;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=o3(t);return o=z("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=a3(l),c=new vq;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=u3(t);return o=z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=s3(t);return o=z("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=l3(l),c=new gq;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=c3(t);return o=z("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=p3(l),c=new yq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rf(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function v3(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>P3(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function g3(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function y3(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b3(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function _3(e){const t={},n=d(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=d(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=d(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=d(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=d(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=d(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=d(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=d(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const f=d(e,["presencePenalty"]);f!=null&&p(t,["presencePenalty"],f);const h=d(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const m=d(e,["responseMimeType"]);m!=null&&p(t,["responseMimeType"],m);const v=d(e,["responseModalities"]);v!=null&&p(t,["responseModalities"],v);const g=d(e,["responseSchema"]);g!=null&&p(t,["responseSchema"],g);const y=d(e,["routingConfig"]);y!=null&&p(t,["routingConfig"],y);const b=d(e,["seed"]);b!=null&&p(t,["seed"],b);const _=d(e,["speechConfig"]);_!=null&&p(t,["speechConfig"],_);const w=d(e,["stopSequences"]);w!=null&&p(t,["stopSequences"],w);const S=d(e,["temperature"]);S!=null&&p(t,["temperature"],S);const A=d(e,["thinkingConfig"]);A!=null&&p(t,["thinkingConfig"],A);const T=d(e,["topK"]);T!=null&&p(t,["topK"],T);const x=d(e,["topP"]);if(x!=null&&p(t,["topP"],x),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function w3(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function S3(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function E3(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],h0(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],v3(ut(v)));const g=d(e,["tools"]);if(t!==void 0&&g!=null){let T=Rs(g);Array.isArray(T)&&(T=T.map(x=>k3(Os(x)))),p(t,["setup","tools"],T)}const y=d(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],N3(y));const b=d(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=d(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=d(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=d(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=d(e,["proactivity"]);if(t!==void 0&&A!=null&&p(t,["setup","proactivity"],A),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function T3(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],_3(r));const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],h0(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],ut(v));const g=d(e,["tools"]);if(t!==void 0&&g!=null){let x=Rs(g);Array.isArray(x)&&(x=x.map(R=>D3(Os(R)))),p(t,["setup","tools"],x)}const y=d(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],y);const b=d(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=d(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=d(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=d(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=d(e,["proactivity"]);t!==void 0&&A!=null&&p(t,["setup","proactivity"],A);const T=d(e,["explicitVadSignal"]);return t!==void 0&&T!=null&&p(t,["setup","explicitVadSignal"],T),n}function A3(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],E3(i,n)),n}function x3(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],T3(i,n)),n}function C3(e){const t={},n=d(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function O3(e){const t={},n=d(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function R3(e){const t={},n=d(e,["media"]);if(n!=null){let u=UR(n);Array.isArray(u)&&(u=u.map(c=>rf(c))),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],rf(BR(r)));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],rf(LR(o)));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function I3(e){const t={},n=d(e,["media"]);if(n!=null){let u=UR(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],BR(r));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],LR(o));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function M3(e){const t={},n=d(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=d(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=d(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=d(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=d(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],U3(a));const s=d(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=d(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=d(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=d(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],L3(c)),t}function P3(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],g3(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],y3(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],rf(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function N3(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function k3(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],w3(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],S3(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function D3(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>b3(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function U3(e){const t={},n=d(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=d(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=d(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=d(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=d(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=d(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=d(e,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["promptTokensDetails"],m)}const u=d(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["cacheTokensDetails"],m)}const c=d(e,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["responseTokensDetails"],m)}const f=d(e,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["toolUsePromptTokensDetails"],m)}const h=d(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function L3(e){const t={},n=d(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B3(e,t){const n={},r=d(e,["data"]);if(r!=null&&p(n,["data"],r),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function $3(e,t){const n={},r=d(e,["content"]);r!=null&&p(n,["content"],r);const i=d(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],z3(i));const o=d(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=d(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=d(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=d(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=d(e,["index"]);u!=null&&p(n,["index"],u);const c=d(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const f=d(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),p(n,["safetyRatings"],m)}const h=d(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function z3(e,t){const n={},r=d(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function q3(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let a=cn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function H3(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function G3(e,t){const n={},r=d(e,["values"]);r!=null&&p(n,["values"],r);const i=d(e,["statistics"]);return i!=null&&p(n,["statistics"],j3(i)),n}function j3(e,t){const n={},r=d(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=d(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function Mu(e,t){const n={},r=d(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Z4(a))),p(n,["parts"],o)}const i=d(e,["role"]);return i!=null&&p(n,["role"],i),n}function V3(e,t){const n={},r=d(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=d(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function F3(e,t){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function K3(e,t,n){const r={},i=d(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],ut(i));const o=d(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>QR(l))),p(t,["tools"],s)}const a=d(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],B4(a)),r}function Y3(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>Mu(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&F3(a),r}function J3(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&K3(a,r),r}function W3(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=d(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function X3(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function Q3(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function Z3(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function e4(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function t4(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function n4(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const v=d(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const g=d(e,["outputMimeType"]);t!==void 0&&g!=null&&p(t,["parameters","outputOptions","mimeType"],g);const y=d(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const b=d(e,["addWatermark"]);t!==void 0&&b!=null&&p(t,["parameters","addWatermark"],b);const _=d(e,["labels"]);t!==void 0&&_!=null&&p(t,["labels"],_);const w=d(e,["editMode"]);t!==void 0&&w!=null&&p(t,["parameters","editMode"],w);const S=d(e,["baseSteps"]);return t!==void 0&&S!=null&&p(t,["parameters","editConfig","baseSteps"],S),r}function r4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>oG(u))),p(r,["instances[0]","referenceImages"],l)}const s=d(t,["config"]);return s!=null&&n4(s,r),r}function i4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dh(a))),p(n,["generatedImages"],o)}return n}function o4(e,t,n){const r={},i=d(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=d(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=d(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function a4(e,t,n){const r={};let i=d(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const u=d(e,["taskType"]);t!==void 0&&u!=null&&p(t,["instances[]","task_type"],u)}else if(i==="EMBED_CONTENT"){const u=d(e,["taskType"]);t!==void 0&&u!=null&&p(t,["taskType"],u)}let o=d(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const u=d(e,["title"]);t!==void 0&&u!=null&&p(t,["instances[]","title"],u)}else if(o==="EMBED_CONTENT"){const u=d(e,["title"]);t!==void 0&&u!=null&&p(t,["title"],u)}let a=d(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const u=d(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["parameters","outputDimensionality"],u)}else if(a==="EMBED_CONTENT"){const u=d(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["outputDimensionality"],u)}let s=d(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const u=d(e,["mimeType"]);t!==void 0&&u!=null&&p(t,["instances[]","mimeType"],u)}let l=d(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const u=d(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["parameters","autoTruncate"],u)}else if(l==="EMBED_CONTENT"){const u=d(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["autoTruncate"],u)}return r}function s4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let u=c0(e,o);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["requests[]","content"],u)}const a=d(t,["content"]);a!=null&&Mu(ut(a));const s=d(t,["config"]);s!=null&&o4(s,r);const l=d(t,["model"]);return l!==void 0&&p(r,["requests[]","model"],le(e,l)),r}function l4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));let o=d(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const l=d(t,["contents"]);if(l!=null){let u=c0(e,l);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["instances[]","content"],u)}}let a=d(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="EMBED_CONTENT"){const l=d(t,["content"]);l!=null&&p(r,["content"],ut(l))}const s=d(t,["config"]);return s!=null&&a4(s,r,n),r}function u4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=d(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function c4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>G3(s))),p(n,["embeddings"],a)}const o=d(e,["metadata"]);if(o!=null&&p(n,["metadata"],o),t&&d(t,["embeddingApiType"])==="EMBED_CONTENT"){const a=d(e,["embedding"]),s=d(e,["usageMetadata"]),l=d(e,["truncated"]);if(a){const u={};s&&s.promptTokenCount&&(u.tokenCount=s.promptTokenCount),l&&(u.truncated=l),a.statistics=u,p(n,["embeddings"],[a])}}return n}function f4(e,t){const n={},r=d(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=d(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function d4(e,t){const n={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function h4(e,t){const n={},r=d(e,["id"]);r!=null&&p(n,["id"],r);const i=d(e,["args"]);i!=null&&p(n,["args"],i);const o=d(e,["name"]);if(o!=null&&p(n,["name"],o),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function p4(e,t){const n={},r=d(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=d(e,["mode"]);if(i!=null&&p(n,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function m4(e,t){const n={},r=d(e,["description"]);r!=null&&p(n,["description"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=d(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=d(e,["response"]);s!=null&&p(n,["response"],s);const l=d(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function v4(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Mu(ut(o)));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const v=d(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const g=d(t,["frequencyPenalty"]);g!=null&&p(i,["frequencyPenalty"],g);const y=d(t,["seed"]);y!=null&&p(i,["seed"],y);const b=d(t,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const _=d(t,["responseSchema"]);_!=null&&p(i,["responseSchema"],f0(_));const w=d(t,["responseJsonSchema"]);if(w!=null&&p(i,["responseJsonSchema"],w),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(t,["safetySettings"]);if(n!==void 0&&S!=null){let q=S;Array.isArray(q)&&(q=q.map(Z=>aG(Z))),p(n,["safetySettings"],q)}const A=d(t,["tools"]);if(n!==void 0&&A!=null){let q=Rs(A);Array.isArray(q)&&(q=q.map(Z=>hG(Os(Z)))),p(n,["tools"],q)}const T=d(t,["toolConfig"]);if(n!==void 0&&T!=null&&p(n,["toolConfig"],dG(T)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(t,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],si(e,x));const R=d(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const O=d(t,["mediaResolution"]);O!=null&&p(i,["mediaResolution"],O);const I=d(t,["speechConfig"]);if(I!=null&&p(i,["speechConfig"],d0(I)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=d(t,["thinkingConfig"]);N!=null&&p(i,["thinkingConfig"],N);const P=d(t,["imageConfig"]);P!=null&&p(i,["imageConfig"],G4(P));const G=d(t,["enableEnhancedCivicAnswers"]);if(G!=null&&p(i,["enableEnhancedCivicAnswers"],G),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function g4(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],ut(o));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const v=d(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const g=d(t,["frequencyPenalty"]);g!=null&&p(i,["frequencyPenalty"],g);const y=d(t,["seed"]);y!=null&&p(i,["seed"],y);const b=d(t,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const _=d(t,["responseSchema"]);_!=null&&p(i,["responseSchema"],f0(_));const w=d(t,["responseJsonSchema"]);w!=null&&p(i,["responseJsonSchema"],w);const S=d(t,["routingConfig"]);S!=null&&p(i,["routingConfig"],S);const A=d(t,["modelSelectionConfig"]);A!=null&&p(i,["modelConfig"],A);const T=d(t,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(V=>V)),p(n,["safetySettings"],B)}const x=d(t,["tools"]);if(n!==void 0&&x!=null){let B=Rs(x);Array.isArray(B)&&(B=B.map(V=>QR(Os(V)))),p(n,["tools"],B)}const R=d(t,["toolConfig"]);n!==void 0&&R!=null&&p(n,["toolConfig"],R);const O=d(t,["labels"]);n!==void 0&&O!=null&&p(n,["labels"],O);const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&p(n,["cachedContent"],si(e,I));const N=d(t,["responseModalities"]);N!=null&&p(i,["responseModalities"],N);const P=d(t,["mediaResolution"]);P!=null&&p(i,["mediaResolution"],P);const G=d(t,["speechConfig"]);G!=null&&p(i,["speechConfig"],d0(G));const q=d(t,["audioTimestamp"]);q!=null&&p(i,["audioTimestamp"],q);const Z=d(t,["thinkingConfig"]);Z!=null&&p(i,["thinkingConfig"],Z);const D=d(t,["imageConfig"]);if(D!=null&&p(i,["imageConfig"],j4(D)),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=d(t,["modelArmorConfig"]);return n!==void 0&&$!=null&&p(n,["modelArmorConfig"],$),i}function wE(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>Mu(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],v4(e,a,r)),r}function SE(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["contents"]);if(o!=null){let s=cn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],g4(e,a,r)),r}function EE(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>$3(c))),p(n,["candidates"],u)}const o=d(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=d(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=d(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=d(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function TE(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),p(n,["candidates"],c)}const o=d(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=d(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=d(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=d(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=d(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function y4(e,t,n){const r={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=d(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=d(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=d(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=d(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const f=d(e,["language"]);t!==void 0&&f!=null&&p(t,["parameters","language"],f);const h=d(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const m=d(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&p(t,["parameters","outputOptions","compressionQuality"],m),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=d(e,["imageSize"]);if(t!==void 0&&v!=null&&p(t,["parameters","sampleImageSize"],v),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function b4(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const v=d(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const g=d(e,["outputMimeType"]);t!==void 0&&g!=null&&p(t,["parameters","outputOptions","mimeType"],g);const y=d(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const b=d(e,["addWatermark"]);t!==void 0&&b!=null&&p(t,["parameters","addWatermark"],b);const _=d(e,["labels"]);t!==void 0&&_!=null&&p(t,["labels"],_);const w=d(e,["imageSize"]);t!==void 0&&w!=null&&p(t,["parameters","sampleImageSize"],w);const S=d(e,["enhancePrompt"]);return t!==void 0&&S!=null&&p(t,["parameters","enhancePrompt"],S),r}function _4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&y4(a,r),r}function w4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&b4(a,r),r}function S4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>k4(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],WR(o)),n}function E4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>dh(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],XR(o)),n}function T4(e,t,n){const r={},i=d(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=d(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=d(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=d(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=d(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),d(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=d(e,["lastFrame"]);t!==void 0&&f!=null&&p(t,["instances[0]","lastFrame"],hh(f));const h=d(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>xG(v))),p(t,["instances[0]","referenceImages"],m)}if(d(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function A4(e,t,n){const r={},i=d(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=d(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=d(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=d(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=d(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=d(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const m=d(e,["negativePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","negativePrompt"],m);const v=d(e,["enhancePrompt"]);t!==void 0&&v!=null&&p(t,["parameters","enhancePrompt"],v);const g=d(e,["generateAudio"]);t!==void 0&&g!=null&&p(t,["parameters","generateAudio"],g);const y=d(e,["lastFrame"]);t!==void 0&&y!=null&&p(t,["instances[0]","lastFrame"],sr(y));const b=d(e,["referenceImages"]);if(t!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(A=>CG(A))),p(t,["instances[0]","referenceImages"],S)}const _=d(e,["mask"]);t!==void 0&&_!=null&&p(t,["instances[0]","mask"],AG(_));const w=d(e,["compressionQuality"]);return t!==void 0&&w!=null&&p(t,["parameters","compressionQuality"],w),r}function x4(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],I4(s)),n}function C4(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response"]);return s!=null&&p(n,["response"],M4(s)),n}function O4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],hh(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],ZR(s));const l=d(t,["source"]);l!=null&&P4(l,r);const u=d(t,["config"]);return u!=null&&T4(u,r),r}function R4(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],sr(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],eI(s));const l=d(t,["source"]);l!=null&&N4(l,r);const u=d(t,["config"]);return u!=null&&A4(u,r),r}function I4(e,t){const n={},r=d(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>U4(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function M4(e,t){const n={},r=d(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>L4(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function P4(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],hh(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],ZR(a)),r}function N4(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],sr(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],eI(a)),r}function k4(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],V4(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],WR(o)),n}function dh(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],JR(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);o!=null&&p(n,["safetyAttributes"],XR(o));const a=d(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function D4(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["mask"],JR(r));const i=d(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function U4(e,t){const n={},r=d(e,["video"]);return r!=null&&p(n,["video"],EG(r)),n}function L4(e,t){const n={},r=d(e,["_self"]);return r!=null&&p(n,["video"],TG(r)),n}function B4(e,t){const n={},r=d(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=d(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=d(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=d(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=d(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=d(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=d(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=d(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const f=d(e,["mediaResolution"]);f!=null&&p(n,["mediaResolution"],f);const h=d(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const m=d(e,["responseLogprobs"]);m!=null&&p(n,["responseLogprobs"],m);const v=d(e,["responseMimeType"]);v!=null&&p(n,["responseMimeType"],v);const g=d(e,["responseModalities"]);g!=null&&p(n,["responseModalities"],g);const y=d(e,["responseSchema"]);y!=null&&p(n,["responseSchema"],y);const b=d(e,["routingConfig"]);b!=null&&p(n,["routingConfig"],b);const _=d(e,["seed"]);_!=null&&p(n,["seed"],_);const w=d(e,["speechConfig"]);w!=null&&p(n,["speechConfig"],w);const S=d(e,["stopSequences"]);S!=null&&p(n,["stopSequences"],S);const A=d(e,["temperature"]);A!=null&&p(n,["temperature"],A);const T=d(e,["thinkingConfig"]);T!=null&&p(n,["thinkingConfig"],T);const x=d(e,["topK"]);x!=null&&p(n,["topK"],x);const R=d(e,["topP"]);if(R!=null&&p(n,["topP"],R),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function $4(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function z4(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],le(e,i)),r}function q4(e,t){const n={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=d(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function H4(e,t){const n={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=d(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function G4(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function j4(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=d(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=d(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=d(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function V4(e,t){const n={},r=d(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],Zi(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function JR(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],Zi(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function hh(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],Zi(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function sr(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Zi(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function F4(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],HR(e,l)),i}function K4(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],HR(e,l)),i}function Y4(e,t,n){const r={},i=d(t,["config"]);return i!=null&&F4(e,i,r),r}function J4(e,t,n){const r={},i=d(t,["config"]);return i!=null&&K4(e,i,r),r}function W4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=GR(o);Array.isArray(a)&&(a=a.map(s=>Wv(s))),p(n,["models"],a)}return n}function X4(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=GR(o);Array.isArray(a)&&(a=a.map(s=>Xv(s))),p(n,["models"],a)}return n}function Q4(e,t){const n={},r=d(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=d(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=d(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function Wv(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["version"]);a!=null&&p(n,["version"],a);const s=d(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],pG(s));const l=d(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=d(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=d(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const f=d(e,["temperature"]);f!=null&&p(n,["temperature"],f);const h=d(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const m=d(e,["topP"]);m!=null&&p(n,["topP"],m);const v=d(e,["topK"]);v!=null&&p(n,["topK"],v);const g=d(e,["thinking"]);return g!=null&&p(n,["thinking"],g),n}function Xv(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["versionId"]);a!=null&&p(n,["version"],a);const s=d(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>f4(m))),p(n,["endpoints"],h)}const l=d(e,["labels"]);l!=null&&p(n,["labels"],l);const u=d(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],mG(u));const c=d(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const f=d(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),p(n,["checkpoints"],h)}return n}function Z4(e,t){const n={},r=d(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=d(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=d(e,["fileData"]);a!=null&&p(n,["fileData"],d4(a));const s=d(e,["functionCall"]);s!=null&&p(n,["functionCall"],h4(s));const l=d(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=d(e,["inlineData"]);u!=null&&p(n,["inlineData"],B3(u));const c=d(e,["text"]);c!=null&&p(n,["text"],c);const f=d(e,["thought"]);f!=null&&p(n,["thought"],f);const h=d(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const m=d(e,["videoMetadata"]);return m!=null&&p(n,["videoMetadata"],m),n}function eG(e,t){const n={},r=d(e,["productImage"]);return r!=null&&p(n,["image"],sr(r)),n}function tG(e,t,n){const r={},i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=d(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=d(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=d(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=d(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=d(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const f=d(e,["outputMimeType"]);t!==void 0&&f!=null&&p(t,["parameters","outputOptions","mimeType"],f);const h=d(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const m=d(e,["enhancePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","enhancePrompt"],m);const v=d(e,["labels"]);return t!==void 0&&v!=null&&p(t,["labels"],v),r}function nG(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["source"]);o!=null&&iG(o,r);const a=d(t,["config"]);return a!=null&&tG(a,r),r}function rG(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dh(o))),p(n,["generatedImages"],i)}return n}function iG(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],sr(o));const a=d(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>eG(l))),p(t,["instances[0]","productImages"],s)}return r}function oG(e,t){const n={},r=d(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],sr(r));const i=d(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=d(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=d(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],Q4(a));const s=d(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],V3(s));const l=d(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=d(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function WR(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function XR(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function aG(e,t){const n={},r=d(e,["category"]);if(r!=null&&p(n,["category"],r),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function sG(e,t){const n={},r=d(e,["image"]);return r!=null&&p(n,["image"],sr(r)),n}function lG(e,t,n){const r={},i=d(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=d(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=d(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=d(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=d(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=d(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function uG(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["source"]);o!=null&&fG(o,r);const a=d(t,["config"]);return a!=null&&lG(a,r),r}function cG(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>D4(o))),p(n,["generatedMasks"],i)}return n}function fG(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],sr(o));const a=d(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],sG(a)),r}function dG(e,t){const n={},r=d(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=d(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],p4(i)),n}function hG(e,t){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=d(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=d(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),p(n,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],q4(s));const l=d(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],H4(l));const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function QR(e,t){const n={},r=d(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=d(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=d(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=d(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>m4(m))),p(n,["functionDeclarations"],h)}const l=d(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=d(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=d(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&p(n,["urlContext"],f),n}function pG(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function mG(e,t){const n={},r=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function vG(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function gG(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function yG(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","name"],le(e,i));const o=d(t,["config"]);return o!=null&&vG(o,r),r}function bG(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["config"]);return o!=null&&gG(o,r),r}function _G(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=d(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=d(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=d(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=d(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=d(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=d(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=d(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const m=d(e,["numberOfImages"]);t!==void 0&&m!=null&&p(t,["parameters","sampleCount"],m);const v=d(e,["mode"]);return t!==void 0&&v!=null&&p(t,["parameters","mode"],v),r}function wG(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],le(e,i));const o=d(t,["image"]);o!=null&&p(r,["instances[0]","image"],sr(o));const a=d(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=d(t,["config"]);return s!=null&&_G(s,r),r}function SG(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dh(a))),p(n,["generatedImages"],o)}return n}function EG(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],Zi(i));const o=d(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function TG(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],Zi(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function AG(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["_self"],sr(r));const i=d(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function xG(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],hh(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function CG(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],sr(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function ZR(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],Zi(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function eI(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Zi(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OG(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function RG(e){const t={},n=d(e,["config"]);return n!=null&&OG(n,t),t}function IG(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function MG(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&IG(r,t),t}function PG(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function NG(e,t){const n={},r=d(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=d(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function kG(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],UG(a)),t}function DG(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=d(e,["config"]);return i!=null&&NG(i,t),t}function UG(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function LG(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function BG(e){const t={},n=d(e,["config"]);return n!=null&&LG(n,t),t}function $G(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function tI(e,t){const n={},r=d(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=d(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function zG(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["config"]);return r!=null&&tI(r,t),t}function qG(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HG="Content-Type",GG="X-Server-Timeout",jG="User-Agent",Qv="x-goog-api-client",VG="1.42.0",FG=`google-genai-sdk/${VG}`,KG="v1beta1",YG="v1beta",JG=5,WG=[408,429,500,502,503,504];class XG{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:KG}else{if(!this.clientOptions.apiKey)throw new nu({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:YG,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Fv.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&QG(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AE(i),new Kv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return er(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Q(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const g=JSON.parse(JSON.stringify(v.error)),y=g.status,b=g.code,_=`got status: ${y}. ${JSON.stringify(v)}`;if(b>=400&&b<600)throw new nu({message:_,status:b})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const y of l){const b=a.indexOf(y);b!==-1&&(h===-1||b<h)&&(h=b,m=y.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+m);const g=v.trim();if(g.startsWith(s)){const y=g.substring(s.length).trim();try{const b=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Q(new Kv(b))}catch(b){throw new Error(`exception parsing stream chunk ${y}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return zz(async()=>{const a=await fetch(t,n);if(a.ok)return a;throw WG.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new Bz(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:JG)-1})}getDefaultHeaders(){const t={},n=FG+" "+this.clientOptions.userAgentExtra;return t[jG]=n,t[Qv]=n,t[HG]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(GG,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=z("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,f,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&tI(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function AE(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new nu({message:i,status:n}):new Error(i)}}function QG(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZG="mcp_used/unknown";let ej=!1;function nI(e){for(const t of e)if(tj(t)||typeof t=="object"&&"inputSchema"in t)return!0;return ej}function rI(e){var t;const n=(t=e[Qv])!==null&&t!==void 0?t:"";e[Qv]=(n+` ${ZG}`).trimStart()}function tj(e){return e!==null&&typeof e=="object"&&e instanceof p0}function nj(e){return er(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield Q(n.listTools({cursor:i}));for(const s of a.tools)yield yield Q(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class p0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new p0(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,tr(nj(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Oq(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rj(e,t,n){const r=new _q;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class ij{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=sj(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(w=>{u=w}),f=t.callbacks,h=function(){u({})},m=this.apiClient,v={onopen:h,onmessage:w=>{rj(m,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,aj(a),v);g.connect(),await c;const _={setup:{model:le(this.apiClient,t.model)}};return g.send(JSON.stringify(_)),new oj(g,this.apiClient)}}class oj{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=O3(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=C3(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Da.PLAY)}pause(){this.sendPlaybackControl(Da.PAUSE)}stop(){this.sendPlaybackControl(Da.STOP)}resetContext(){this.sendPlaybackControl(Da.RESET_CONTEXT)}close(){this.conn.close()}}function aj(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function sj(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lj="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uj(e,t,n){const r=new bq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=M3(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class cj{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new ij(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();t.config&&t.config.tools&&nI(t.config.tools)&&rI(f);const h=pj(f);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),I=this.apiClient.getLocation(),N=this.apiClient.getApiKey(),P=!!O&&!!I||!!N;this.apiClient.getCustomBaseUrl()&&!P?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const O=this.apiClient.getApiKey();let I="BidiGenerateContent",N="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",N="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${N}=${O}`}let m=()=>{};const v=new Promise(O=>{m=O}),g=t.callbacks,y=function(){var O;(O=g==null?void 0:g.onopen)===null||O===void 0||O.call(g),m({})},b=this.apiClient,_={onopen:y,onmessage:O=>{uj(b,g.onmessage,O)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(O){}},w=this.webSocketFactory.create(c,hj(h),_);w.connect(),await v;let S=le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const O=this.apiClient.getProject(),I=this.apiClient.getLocation();O&&I&&(S=`projects/${O}/locations/${I}/`+S)}let A={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gf.AUDIO]}:t.config.responseModalities=[Gf.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],x=[];for(const O of T)if(this.isCallableTool(O)){const I=O;x.push(await I.tool())}else x.push(O);x.length>0&&(t.config.tools=x);const R={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=x3(this.apiClient,R):A=A3(this.apiClient,R),delete A.config,w.send(JSON.stringify(A)),new dj(w,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const fj={turnComplete:!0};class dj{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=cn(n.turns),t.isVertexAI()||(r=r.map(i=>Mu(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(lj)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},fj),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I3(t)}:n={realtimeInput:R3(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hj(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pj(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xE=10;function CE(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ja(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ja(e){return"callTool"in e&&typeof e.callTool=="function"}function mj(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ja(i)))!==null&&r!==void 0?r:!1}function OE(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ja(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function RE(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vj extends ai{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=cn(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:jf.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:jf.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mj(n)||CE(n.config))return await this.generateContentInternal(l);const u=OE(n);if(u.length>0){const g=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${g}.`)}let c,f;const h=cn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:xE;let v=0;for(;v<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,y=[];for(const b of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ja(b)){const w=await b.callTool(c.functionCalls);y.push(...w)}v++,f={role:"user",parts:y},l.contents=cn(l.contents),l.contents.push(g),l.contents.push(f),RE(l.config)&&(h.push(g),h.push(f))}return RE(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),CE(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=OE(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Xo(Jr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Ja(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&nI(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),rI(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ja(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xE;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,f){return er(this,arguments,function*(){for(var h,m,v,g,y,b;s<o;){a&&(s++,a=!1);const A=yield Q(u.processParamsMaybeAddMcpUsage(f)),T=yield Q(u.generateContentStreamInternal(A)),x=[],R=[];try{for(var _=!0,w=(m=void 0,tr(T)),S;S=yield Q(w.next()),h=S.done,!h;_=!0){g=S.value,_=!1;const O=g;if(yield yield Q(O),O.candidates&&(!((y=O.candidates[0])===null||y===void 0)&&y.content)){R.push(O.candidates[0].content);for(const I of(b=O.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const N=yield Q(c.get(I.functionCall.name).callTool([I.functionCall]));x.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!_&&!h&&(v=w.return)&&(yield Q(v.call(w)))}finally{if(m)throw m.error}}if(x.length>0){a=!0;const O=new Xs;O.candidates=[{content:{role:"user",parts:x}}],yield yield Q(O);const I=[];I.push(...R),I.push({role:"user",parts:x});const N=cn(f.contents).concat(I);f.contents=N}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SE(this.apiClient,t);return s=z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=TE(c),h=new Xs;return Object.assign(h,f),h})}else{const u=wE(this.apiClient,t);return s=z("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=EE(c),h=new Xs;return Object.assign(h,f),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SE(this.apiClient,t);return s=z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return er(this,arguments,function*(){var h,m,v,g;try{for(var y=!0,b=tr(f),_;_=yield Q(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,S=TE(yield Q(w.json()),t);S.sdkHttpResponse={headers:w.headers};const A=new Xs;Object.assign(A,S),yield yield Q(A)}}catch(w){m={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield Q(v.call(b)))}finally{if(m)throw m.error}}})})}else{const u=wE(this.apiClient,t);return s=z("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return er(this,arguments,function*(){var h,m,v,g;try{for(var y=!0,b=tr(f),_;_=yield Q(b.next()),h=_.done,!h;y=!0){g=_.value,y=!1;const w=g,S=EE(yield Q(w.json()),t);S.sdkHttpResponse={headers:w.headers};const A=new Xs;Object.assign(A,S),yield yield Q(A)}}catch(w){m={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield Q(v.call(b)))}finally{if(m)throw m.error}}})})}}async embedContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=l4(this.apiClient,t,t),c=Iq(t.model)?"{model}:embedContent":"{model}:predict";return s=z(c,u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const h=c4(f,t),m=new iE;return Object.assign(m,h),m})}else{const u=s4(this.apiClient,t);return s=z("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=u4(c),h=new iE;return Object.assign(h,f),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=w4(this.apiClient,t);return s=z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=E4(c),h=new oE;return Object.assign(h,f),h})}else{const u=_4(this.apiClient,t);return s=z("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=S4(c),h=new oE;return Object.assign(h,f),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=r4(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=i4(l),c=new sq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=wG(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=SG(l),c=new lq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=nG(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rG(l),c=new uq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=uG(this.apiClient,t);return o=z("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=cG(l),c=new cq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Xv(c))}else{const u=$4(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Wv(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=J4(this.apiClient,t);return s=z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=X4(c),h=new aE;return Object.assign(h,f),h})}else{const u=Y4(this.apiClient,t);return s=z("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=W4(c),h=new aE;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bG(this.apiClient,t);return s=z("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Xv(c))}else{const u=yG(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Wv(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Z3(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=t4(c),h=new sE;return Object.assign(h,f),h})}else{const u=Q3(this.apiClient,t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=e4(c),h=new sE;return Object.assign(h,f),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=J3(this.apiClient,t);return s=z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=X3(c),h=new lE;return Object.assign(h,f),h})}else{const u=Y3(this.apiClient,t);return s=z("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=W3(c),h=new lE;return Object.assign(h,f),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=q3(this.apiClient,t);return o=z("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=H3(l),c=new fq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=R4(this.apiClient,t);return s=z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=C4(c),h=new Vf;return Object.assign(h,f),h})}else{const u=O4(this.apiClient,t);return s=z("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=x4(c),h=new Vf;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gj extends ai{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tq(t);return s=z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=eq(t);return s=z("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Kz(t);return o=z("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yj(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function bj(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Oj(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function _j(e,t,n){const r={},i=d(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=d(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Cj(e,s));const l=d(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function wj(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],_j(e,r,n)),n}function Sj(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Ej(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Tj(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function Aj(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function xj(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],h0(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const v=d(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],bj(ut(v)));const g=d(e,["tools"]);if(t!==void 0&&g!=null){let T=Rs(g);Array.isArray(T)&&(T=T.map(x=>Ij(Os(x)))),p(t,["setup","tools"],T)}const y=d(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],Rj(y));const b=d(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&p(t,["setup","inputAudioTranscription"],b);const _=d(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&p(t,["setup","outputAudioTranscription"],_);const w=d(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&p(t,["setup","realtimeInputConfig"],w);const S=d(e,["contextWindowCompression"]);t!==void 0&&S!=null&&p(t,["setup","contextWindowCompression"],S);const A=d(e,["proactivity"]);if(t!==void 0&&A!=null&&p(t,["setup","proactivity"],A),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Cj(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],le(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],xj(i,n)),n}function Oj(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],Sj(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],Ej(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],yj(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Rj(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ij(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],Tj(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],Aj(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mj(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Pj(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=Mj(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Nj extends ai{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=wj(this.apiClient,t);o=z("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Pj(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kj(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function Dj(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&kj(r,t),t}function Uj(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function Lj(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Bj(e){const t={},n=d(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=d(e,["config"]);return r!=null&&Lj(r,t),t}function $j(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zj extends ai{constructor(t){super(),this.apiClient=t,this.list=async n=>new Xo(Jr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Uj(t);return o=z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dj(t);i=z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bj(t);return o=z("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$j(l),c=new dq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qj extends ai{constructor(t,n=new zj(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Xo(Jr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=RG(t);return o=z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PG(t);return o=z("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MG(t);i=z("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=BG(t);return o=z("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$G(l),c=new hq;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zG(t);return o=z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qG(l),c=new pq;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DG(t);return o=z("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kG(l),c=new l0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iI=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return iI=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Hj=()=>iI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const eg=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n extends Error{}class Ut extends $n{constructor(t,n,r,i){super(`${Ut.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new ph({message:r,cause:eg(n)});const o=n;return t===400?new aI(t,o,r,i):t===401?new sI(t,o,r,i):t===403?new lI(t,o,r,i):t===404?new uI(t,o,r,i):t===409?new cI(t,o,r,i):t===422?new fI(t,o,r,i):t===429?new dI(t,o,r,i):t>=500?new hI(t,o,r,i):new Ut(t,o,r,i)}}class tg extends Ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ph extends Ut{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class oI extends ph{constructor({message:t}={}){super({message:t??"Request timed out."})}}class aI extends Ut{}class sI extends Ut{}class lI extends Ut{}class uI extends Ut{}class cI extends Ut{}class fI extends Ut{}class dI extends Ut{}class hI extends Ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gj=/^[a-z][a-z0-9+.-]*:/i,jj=e=>Gj.test(e);let ng=e=>(ng=Array.isArray,ng(e));const Vj=ng;let Fj=Vj;const IE=Fj;function Kj(e){if(!e)return!0;for(const t in e)return!1;return!0}function Yj(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Jj=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new $n(`${e} must be an integer`);if(t<0)throw new $n(`${e} must be a positive integer`);return t},Wj=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xj=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _a="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qj(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zj=()=>{var e,t,n,r,i;const o=Qj();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":PE(Deno.build.os),"X-Stainless-Arch":ME(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":PE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ME((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=eV();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_a,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function eV(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const ME=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",PE=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let bc;const tV=()=>bc??(bc=Zj());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function pI(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function rV(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return pI({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function mI(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function iV(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oV=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vI=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dm(e,t,n){return vI(),new File(e,t??"unknown_file",n)}function aV(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const sV=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gI=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",lV=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&gI(e),uV=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function cV(e,t,n){if(vI(),e=await e,lV(e))return e instanceof File?e:dm([await e.arrayBuffer()],e.name);if(uV(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),dm(await rg(i),t,n)}const r=await rg(e);if(t||(t=aV(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return dm(r,t,n)}async function rg(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(gI(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(sV(e))try{for(var s=!0,l=tr(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await rg(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${fV(e)}`)}return a}function fV(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yI{constructor(t){this._client=t}}yI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bI(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const NE=Object.freeze(Object.create(null)),dV=(e=bI)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var m,v,g;/[?#]/.test(f)&&(i=!0);const y=r[h];let b=(i?encodeURIComponent:e)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((g=Object.getPrototypeOf((v=Object.getPrototypeOf((m=y.hasOwnProperty)!==null&&m!==void 0?m:NE))!==null&&v!==void 0?v:NE))===null||g===void 0?void 0:g.toString))&&(b=y+"",o.push({start:c.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":b)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,m)=>{const v=" ".repeat(m.start-c),g="^".repeat(m.length);return c=m.start+m.length,h+v+g},"");throw new $n(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},_c=dV(bI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _I extends yI{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Kf(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new $n("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new $n("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_c`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_c`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_c`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Kf(o,["api_version"]);return this._client.get(_c`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}_I._key=Object.freeze(["interactions"]);class wI extends _I{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hV(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let wc;function m0(e){let t;return(wc??(t=new globalThis.TextEncoder,wc=t.encode.bind(t)))(e)}let Sc;function kE(e){let t;return(Sc??(t=new globalThis.TextDecoder,Sc=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?m0(t):t;this.buffer=hV([this.buffer,n]);const r=[];let i;for(;(i=pV(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(kE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=kE(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}mh.NEWLINE_CHARS=new Set([`
`,"\r"]);mh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pV(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function mV(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yf={off:0,error:200,warn:300,info:400,debug:500},DE=(e,t,n)=>{if(e){if(Yj(Yf,e))return e;Pt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yf))}`)}};function pl(){}function Ec(e,t,n){return!t||Yf[e]>Yf[n]?pl:t[e].bind(t)}const vV={error:pl,warn:pl,info:pl,debug:pl};let UE=new WeakMap;function Pt(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return vV;const i=UE.get(n);if(i&&i[0]===r)return i[1];const o={error:Ec("error",n,r),warn:Ec("warn",n,r),info:Ec("info",n,r),debug:Ec("debug",n,r)};return UE.set(n,[r,o]),o}const mo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Pt(r):console;function a(){return er(this,arguments,function*(){var l,u,c,f;if(i)throw new $n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=tr(gV(t,n)),g;g=yield Q(v.next()),l=g.done,!l;m=!0){f=g.value,m=!1;const y=f;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Q(JSON.parse(y.data))}catch(b){throw o.error("Could not parse message into JSON:",y.data),o.error("From chunk:",y.raw),b}}}catch(y){u={error:y}}finally{try{!m&&!l&&(c=v.return)&&(yield Q(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Zv(y))return yield Q(void 0);throw y}finally{h||n.abort()}})}return new Ua(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return er(this,arguments,function*(){var l,u,c,f;const h=new mh,m=mI(t);try{for(var v=!0,g=tr(m),y;y=yield Q(g.next()),l=y.done,!l;v=!0){f=y.value,v=!1;const b=f;for(const _ of h.decode(b))yield yield Q(_)}}catch(b){u={error:b}}finally{try{!v&&!l&&(c=g.return)&&(yield Q(c.call(g)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield Q(b)})}function a(){return er(this,arguments,function*(){var l,u,c,f;if(i)throw new $n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=tr(o()),g;g=yield Q(v.next()),l=g.done,!l;m=!0){f=g.value,m=!1;const y=f;h||y&&(yield yield Q(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!m&&!l&&(c=v.return)&&(yield Q(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Zv(y))return yield Q(void 0);throw y}finally{h||n.abort()}})}return new Ua(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new Ua(()=>i(t),this.controller,this.client),new Ua(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return pI({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=m0(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function gV(e,t){return er(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $n("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $n("Attempted to iterate over a response with no body");const s=new bV,l=new mh,u=mI(e.body);try{for(var c=!0,f=tr(yV(u)),h;h=yield Q(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const v of l.decode(m)){const g=s.decode(v);g&&(yield yield Q(g))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=f.return)&&(yield Q(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const v=s.decode(m);v&&(yield yield Q(v))}})}function yV(e){return er(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=tr(e),u;u=yield Q(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?m0(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=mV(a))!==-1;)yield yield Q(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield Q(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield Q(a))})}class bV{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=_V(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function _V(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wV(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Pt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ua.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Pt(e).debug(`[${r}] response parsed`,mo({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v0 extends Promise{constructor(t,n,r=wV){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new v0(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SI=Symbol("brand.privateNullableHeaders");function*SV(e){if(!e)return;if(SI in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():IE(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=IE(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Qs=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of SV(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[SI]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hm=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=qz)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var EI;class vh{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=hm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=hm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=t,h=Kf(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:vh.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=DE(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:DE(hm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:nV(),this.encoder=oV,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Qs([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $n(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_a}`}defaultIdempotencyKey(){return`stainless-node-retry-${Hj()}`}makeStatusError(t,n,r,i){return Ut.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=jj(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Kj(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new v0(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Pt(this).debug(`[${h}] sending request`,mo({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new tg;const g=new AbortController,y=await this.fetchWithTimeout(c,u,f,g).catch(eg),b=Date.now();if(y instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new tg;const S=Zv(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Pt(this).info(`[${h}] connection ${S?"timed out":"failed"} - ${w}`),Pt(this).debug(`[${h}] connection ${S?"timed out":"failed"} (${w})`,mo({retryOfRequestLogID:r,url:c,durationMs:b-v,message:y.message})),this.retryRequest(s,n,r??h);throw Pt(this).info(`[${h}] connection ${S?"timed out":"failed"} - error; no more retries left`),Pt(this).debug(`[${h}] connection ${S?"timed out":"failed"} (error; no more retries left)`,mo({retryOfRequestLogID:r,url:c,durationMs:b-v,message:y.message})),S?new oI:new ph({cause:y})}const _=`[${h}${m}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${b-v}ms`;if(!y.ok){const w=await this.shouldRetry(y);if(n&&w){const O=`retrying, ${n} attempts remaining`;return await iV(y.body),Pt(this).info(`${_} - ${O}`),Pt(this).debug(`[${h}] response error (${O})`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:b-v})),this.retryRequest(s,n,r??h,y.headers)}const S=w?"error; no more retries left":"error; not retryable";Pt(this).info(`${_} - ${S}`);const A=await y.text().catch(O=>eg(O).message),T=Wj(A),x=T?void 0:A;throw Pt(this).debug(`[${h}] response error (${S})`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:x,durationMs:Date.now()-v})),this.makeStatusError(y.status,T,x,y.headers)}return Pt(this).info(_),Pt(this).debug(`[${h}] response start`,mo({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:b-v})),{response:y,options:s,controller:g,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Kf(o,["signal","method"]),u=this._makeAbort(i);a&&a.addEventListener("abort",u,{once:!0});const c=setTimeout(u,r),f=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),l);s&&(h.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Xj(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&Jj("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),v=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=Qs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),tV()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Qs([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:rV(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}vh.DEFAULT_TIMEOUT=6e4;class dt extends vh{constructor(){super(...arguments),this.interactions=new wI(this)}}EI=dt;dt.GeminiNextGenAPIClient=EI;dt.GeminiNextGenAPIClientError=$n;dt.APIError=Ut;dt.APIConnectionError=ph;dt.APIConnectionTimeoutError=oI;dt.APIUserAbortError=tg;dt.NotFoundError=uI;dt.ConflictError=cI;dt.RateLimitError=dI;dt.BadRequestError=aI;dt.AuthenticationError=sI;dt.InternalServerError=hI;dt.PermissionDeniedError=lI;dt.UnprocessableEntityError=fI;dt.toFile=cV;dt.Interactions=wI;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EV(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function TV(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function AV(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function xV(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function CV(e,t,n){const r={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=d(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(d(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(d(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=d(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=d(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(d(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(d(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(d(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(d(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(d(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function OV(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const T=d(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec"],pm(T))}else if(i==="PREFERENCE_TUNING"){const T=d(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec"],pm(T))}else if(i==="DISTILLATION"){const T=d(e,["validationDataset"]);t!==void 0&&T!=null&&p(t,["distillationSpec"],pm(T))}const o=d(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=d(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=d(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(s==="PREFERENCE_TUNING"){const T=d(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(s==="DISTILLATION"){const T=d(e,["epochCount"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],T)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const T=d(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="PREFERENCE_TUNING"){const T=d(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="DISTILLATION"){const T=d(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=d(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(u==="PREFERENCE_TUNING"){const T=d(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(u==="DISTILLATION"){const T=d(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],T)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const T=d(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(c==="PREFERENCE_TUNING"){const T=d(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(c==="DISTILLATION"){const T=d(e,["adapterSize"]);t!==void 0&&T!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],T)}let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=d(e,["tuningMode"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","tuningMode"],T)}const h=d(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let m=d(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=d(e,["batchSize"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=d(e,["learningRate"]);t!==void 0&&T!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const g=d(e,["labels"]);t!==void 0&&g!=null&&p(t,["labels"],g);const y=d(e,["beta"]);t!==void 0&&y!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);const b=d(e,["baseTeacherModel"]);t!==void 0&&b!=null&&p(t,["distillationSpec","baseTeacherModel"],b);const _=d(e,["tunedTeacherModelSource"]);t!==void 0&&_!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],_);const w=d(e,["sftLossWeightMultiplier"]);t!==void 0&&w!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],w);const S=d(e,["outputUri"]);t!==void 0&&S!=null&&p(t,["outputUri"],S);const A=d(e,["encryptionSpec"]);return t!==void 0&&A!=null&&p(t,["encryptionSpec"],A),r}function RV(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&zV(o);const a=d(e,["config"]);return a!=null&&CV(a,n),n}function IV(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&qV(o,n,t);const a=d(e,["config"]);return a!=null&&OV(a,n,t),n}function MV(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function PV(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function NV(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function kV(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function DV(e,t){const n={},r=d(e,["config"]);return r!=null&&NV(r,n),n}function UV(e,t){const n={},r=d(e,["config"]);return r!=null&&kV(r,n),n}function LV(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>TI(s))),p(n,["tuningJobs"],a)}return n}function BV(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>ig(s))),p(n,["tuningJobs"],a)}return n}function $V(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["model"],r);const i=d(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function zV(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function qV(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function TI(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],zR(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["description"]);c!=null&&p(n,["description"],c);const f=d(e,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModel"],$V(h)),n}function ig(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],zR(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const f=d(e,["description"]);f!=null&&p(n,["description"],f);const h=d(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(e,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const v=d(e,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const g=d(e,["supervisedTuningSpec"]);g!=null&&p(n,["supervisedTuningSpec"],g);const y=d(e,["preferenceOptimizationSpec"]);y!=null&&p(n,["preferenceOptimizationSpec"],y);const b=d(e,["distillationSpec"]);b!=null&&p(n,["distillationSpec"],b);const _=d(e,["tuningDataStats"]);_!=null&&p(n,["tuningDataStats"],_);const w=d(e,["encryptionSpec"]);w!=null&&p(n,["encryptionSpec"],w);const S=d(e,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const A=d(e,["customBaseModel"]);A!=null&&p(n,["customBaseModel"],A);const T=d(e,["experiment"]);T!=null&&p(n,["experiment"],T);const x=d(e,["labels"]);x!=null&&p(n,["labels"],x);const R=d(e,["outputUri"]);R!=null&&p(n,["outputUri"],R);const O=d(e,["pipelineJob"]);O!=null&&p(n,["pipelineJob"],O);const I=d(e,["serviceAccount"]);I!=null&&p(n,["serviceAccount"],I);const N=d(e,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const P=d(e,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function HV(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(e,["done"]);a!=null&&p(n,["done"],a);const s=d(e,["error"]);return s!=null&&p(n,["error"],s),n}function pm(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GV extends ai{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Xo(Jr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Vv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=PV(t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>ig(c))}else{const u=MV(t);return s=z("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>TI(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=UV(t);return s=z("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=BV(c),h=new uE;return Object.assign(h,f),h})}else{const u=DV(t);return s=z("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=LV(c),h=new uE;return Object.assign(h,f),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TV(t);return s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=xV(c),h=new cE;return Object.assign(h,f),h})}else{const u=EV(t);return s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=AV(c),h=new cE;return Object.assign(h,f),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=IV(t,t);return o=z("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>ig(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=RV(t);return o=z("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>HV(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jV{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VV=1024*1024*8,FV=3,KV=1e3,YV=2,Jf="x-goog-upload-status";async function JV(e,t,n){var r;const i=await AI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function WV(e,t,n){var r;const i=await AI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=kR(o),s=new u0;return Object.assign(s,a),s}async function AI(e,t,n){var r,i;let o=0,a=0,s=new Kv(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(VV,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=KV;for(;f<FV&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Jf]));)f++,await QV(h),h=h*YV;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Jf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function XV(e){return{size:e.size,type:e.type}}function QV(e){return new Promise(t=>setTimeout(t,e))}class ZV{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await JV(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WV(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await XV(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e6{create(t,n,r){return new t6(t,n,r)}}class t6{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="x-goog-api-key";class n6{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(LE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(LE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r6="gl-node/";class i6{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Vz(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new n6(this.apiKey);this.apiClient=new XG({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:r6+"web",uploader:new ZV,downloader:new jV}),this.models=new vj(this.apiClient),this.live=new cj(this.apiClient,i,new e6),this.batches=new SH(this.apiClient),this.chats=new r3(this.models,this.apiClient),this.caches=new e3(this.apiClient),this.files=new m3(this.apiClient),this.operations=new gj(this.apiClient),this.authTokens=new Nj(this.apiClient),this.tunings=new GV(this.apiClient),this.fileSearchStores=new qj(this.apiClient)}}const xI=()=>{const e="AIzaSyDCOtbcdXfijqV6TIF2hZZRogGrvISOETE";if(e.trim()==="")throw new Error("MISSING_API_KEY");return new i6({apiKey:e})},CI=async e=>{console.error("Aditya AI Error Log:",e);const t=e.message||"",n=e.status||(e.response?e.response.status:null);if((t.includes("entity was not found")||t.includes("API key not valid")||n===401||n===403)&&typeof window<"u"&&window.aistudio)try{return await window.aistudio.openSelectKey(),"RETRY_WITH_NEW_KEY"}catch{return"Authentication required. Please click the key icon to provide an API key."}return n===429?"The campus AI is currently busy. Please wait a moment before asking another question.":"I'm having trouble connecting to the academic brain. Please check your connection."},OI=async(e,t)=>{try{const n=xI(),r=t.length>0?`Recent discussion:
${t.map(o=>`${o.role}: ${o.content}`).join(`
`)}

`:"";return(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`${r}Query: ${e}`,config:{systemInstruction:"You are the Aditya University AI Assistant. Keep answers academic, professional, and helpful. Guide students through their curriculum.",temperature:.7}})).text||"No response received."}catch(n){const r=await CI(n);return r==="RETRY_WITH_NEW_KEY"?OI(e,t):r}},o6=async(e,t=5)=>{try{const r=await xI().models.generateContent({model:"gemini-3-pro-preview",contents:`Create ${t} academic questions about ${e}.`,config:{systemInstruction:"Return high-quality academic questions in strict JSON format.",responseMimeType:"application/json",responseSchema:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{text:{type:Kt.STRING},options:{type:Kt.ARRAY,items:{type:Kt.STRING}},correctAnswer:{type:Kt.INTEGER}},required:["text","options","correctAnswer"]}}}});return r.text?JSON.parse(r.text):null}catch(n){return await CI(n),null}},a6=({quiz:e,onSave:t,onCancel:n})=>{var m,v;const[r,i]=E.useState(e||{title:"",description:"",category:Mw[0],duration:15,questions:[{id:"1",text:"",options:["","","",""],correctAnswer:0}],createdAt:new Date().toISOString()}),[o,a]=E.useState(!1),s=async()=>{const g=prompt("Enter a topic for AI to generate questions (e.g., Quantum Physics, React Hooks):");if(!g)return;a(!0);const y=await o6(g);if(a(!1),y){const b=y.map((_,w)=>({..._,id:`ai_${Date.now()}_${w}`}));i(_=>({..._,questions:[..._.questions||[],...b]}))}else alert("AI failed to generate questions. Please check your API key.")},l=()=>{const g={id:Date.now().toString(),text:"",options:["","","",""],correctAnswer:0};i({...r,questions:[...r.questions||[],g]})},u=g=>{const y=[...r.questions||[]];y.splice(g,1),i({...r,questions:y})},c=(g,y,b)=>{const _=[...r.questions||[]];_[g]={..._[g],[y]:b},i({...r,questions:_})},f=(g,y,b)=>{const _=[...r.questions||[]],w=[..._[g].options];w[y]=b,_[g].options=w,i({...r,questions:_})},h=g=>{var y;if(g.preventDefault(),!r.title||!((y=r.questions)!=null&&y.length)){alert("Please fill in the title and add questions.");return}t({...r,id:r.id||`q_${Date.now()}`})};return C.jsxs("div",{className:"max-w-4xl mx-auto p-4 animate-fadeIn pb-32",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsx("h2",{className:"text-3xl font-black tracking-tighter text-slate-900",children:e?"Refine Assessment":"New Assessment"}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("button",{type:"button",onClick:s,disabled:o,className:"px-6 py-2 bg-purple-50 border border-purple-100 text-purple-600 rounded-xl font-bold text-sm hover:bg-purple-100 transition-all flex items-center gap-2",children:o?"AI Thinking...":" Generate with AI"}),C.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 font-bold text-sm",children:"Cancel"})]})]}),C.jsxs("form",{onSubmit:h,className:"space-y-8",children:[C.jsxs("div",{className:"glass-morphism p-8 rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-8 border-slate-200 bg-white/80",children:[C.jsxs("div",{className:"col-span-2",children:[C.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Quiz Title"}),C.jsx("input",{type:"text",required:!0,value:r.title,onChange:g=>i({...r,title:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all font-bold text-lg text-slate-800",placeholder:"e.g., Computer Architecture Fundamentals"})]}),C.jsxs("div",{className:"col-span-2",children:[C.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Module Description"}),C.jsx("textarea",{value:r.description,onChange:g=>i({...r,description:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all text-sm leading-relaxed text-slate-800",rows:3,placeholder:"Brief summary for students..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Academic Stream"}),C.jsx("select",{value:r.category,onChange:g=>i({...r,category:g.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 appearance-none font-bold text-slate-800 shadow-sm",children:Mw.map(g=>C.jsx("option",{value:g,children:g},g))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Duration (Minutes)"}),C.jsx("input",{type:"number",value:r.duration,onChange:g=>i({...r,duration:parseInt(g.target.value)}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 font-bold text-slate-800"})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex justify-between items-center px-4",children:[C.jsxs("h3",{className:"text-xl font-black text-slate-900",children:["Curriculum Items (",(m=r.questions)==null?void 0:m.length,")"]}),C.jsx("button",{type:"button",onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-blue-100",children:"Add Question"})]}),(v=r.questions)==null?void 0:v.map((g,y)=>C.jsxs("div",{className:"glass-morphism p-8 rounded-[2rem] border border-slate-200 relative group hover:border-blue-400 transition-all bg-white/80",children:[C.jsx("button",{type:"button",onClick:()=>u(y),className:"absolute top-6 right-6 text-slate-300 hover:text-red-500 transition-colors p-2",children:C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",strokeWidth:2})})}),C.jsxs("div",{className:"mb-8",children:[C.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-[0.2em] mb-4 block",children:["Question Block ",y+1]}),C.jsx("input",{type:"text",required:!0,value:g.text,onChange:b=>c(y,"text",b.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-all font-bold text-lg text-slate-800",placeholder:"The question content goes here..."})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.options.map((b,_)=>C.jsxs("div",{className:"flex items-center gap-4 group/opt",children:[C.jsx("input",{type:"radio",name:`correct_${g.id}`,checked:g.correctAnswer===_,onChange:()=>c(y,"correctAnswer",_),className:"w-6 h-6 rounded-full border-2 border-slate-200 appearance-none checked:bg-blue-600 checked:border-blue-600 cursor-pointer transition-all"}),C.jsx("input",{type:"text",required:!0,value:b,onChange:w=>f(y,_,w.target.value),className:`flex-1 bg-slate-50 border rounded-2xl px-5 py-3 text-sm focus:outline-none transition-all ${g.correctAnswer===_?"border-green-300 bg-green-50 text-green-700":"border-slate-200 text-slate-600 group-hover/opt:border-blue-200"}`,placeholder:`Choice ${String.fromCharCode(65+_)}`})]},_))})]},g.id))]}),C.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-white/80 backdrop-blur-2xl border-t border-slate-200 flex justify-center gap-4 z-40",children:[C.jsx("button",{type:"button",onClick:n,className:"px-10 py-4 rounded-2xl bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold text-xs uppercase tracking-widest transition-all",children:"Cancel Session"}),C.jsx("button",{type:"submit",className:"px-14 py-4 rounded-2xl bg-green-600 hover:bg-green-700 text-white font-black text-xs uppercase tracking-widest shadow-xl shadow-green-100 transition-all transform hover:scale-105 active:scale-95",children:"Deploy Assessment"})]})]})]})},s6=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(""),[i,o]=E.useState(!1),[a,s]=E.useState(!1),l=E.useRef(null);E.useEffect(()=>{l.current&&l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},[e,i]);const u=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey(),t(f=>f.filter(h=>!h.content.includes("AUTHENTICATION_REQUIRED")&&!h.content.includes("Security Check")))}catch(f){console.error("Key selection failed",f)}},c=async()=>{if(!n.trim()||i)return;const f={role:"user",content:n};t(h=>[...h,f]),r(""),o(!0);try{const h=await OI(n,e);if(h==="AUTHENTICATION_REQUIRED")t(m=>[...m,{role:"assistant",content:"Security Check: The campus AI session needs a valid key. Please click the 'Key' icon above to authenticate with your own academic key."}]);else{const m={role:"assistant",content:h};t(v=>[...v,m])}}catch{t(m=>[...m,{role:"assistant",content:"Sorry, the campus AI server is currently unreachable. Please try again later."}])}finally{o(!1)}};return C.jsx("div",{className:`fixed bottom-6 right-6 z-50 transition-all duration-300 ease-in-out ${a?"w-80 md:w-96":"w-16"}`,children:a?C.jsxs("div",{className:"bg-white rounded-3xl h-[500px] flex flex-col shadow-2xl overflow-hidden border border-slate-200 animate-slideUp",children:[C.jsxs("div",{className:"bg-blue-600 p-5 flex justify-between items-center text-white",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(im,{className:"w-5 h-5 text-white"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"font-bold text-sm",children:"Aditya AI Assistant"}),C.jsx("span",{className:"text-[9px] uppercase tracking-widest opacity-70",children:"Academic Support"})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:u,title:"Configure AI Key",className:"bg-white/10 hover:bg-white/20 p-2 rounded-xl transition-colors",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),C.jsx("button",{onClick:()=>s(!1),className:"bg-white/10 hover:bg-white/20 p-2 rounded-xl transition-colors",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),C.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto p-5 space-y-4 custom-scrollbar bg-slate-50",children:[e.length===0&&C.jsxs("div",{className:"text-center text-slate-400 mt-10",children:[C.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:C.jsx(im,{className:"w-6 h-6 text-blue-600"})}),C.jsx("p",{className:"text-sm font-bold text-slate-600",children:"Ask me about your courses!"}),C.jsx("p",{className:"text-[10px] mt-2 text-slate-400 uppercase tracking-[0.2em]",children:"Verified Academic Engine"})]}),e.map((f,h)=>C.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:C.jsx("div",{className:`max-w-[85%] p-4 rounded-[1.5rem] text-sm shadow-sm leading-relaxed ${f.role==="user"?"bg-blue-600 text-white rounded-tr-none":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}`,children:f.content})},h)),i&&C.jsx("div",{className:"flex justify-start",children:C.jsxs("div",{className:"bg-white p-4 rounded-[1.5rem] rounded-tl-none flex gap-2 items-center border border-slate-100 shadow-sm",children:[C.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce"}),C.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),C.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce [animation-delay:-0.3s]"})]})})]}),C.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-3",children:[C.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),onKeyDown:f=>f.key==="Enter"&&c(),placeholder:"Type your academic query...",className:"flex-1 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3 text-sm focus:outline-none focus:border-blue-600 focus:bg-white transition-all text-slate-800"}),C.jsx("button",{onClick:c,disabled:!n.trim()||i,className:`p-3 rounded-2xl transition-all active:scale-95 shadow-lg ${!n.trim()||i?"bg-slate-100 text-slate-300":"bg-blue-600 text-white shadow-blue-100 hover:bg-blue-700"}`,children:C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]}):C.jsxs("button",{onClick:()=>s(!0),className:"w-16 h-16 bg-blue-600 rounded-2xl shadow-2xl flex items-center justify-center hover:scale-110 transition-all border-2 border-white shadow-blue-200 group",children:[C.jsx(im,{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform"}),C.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]})})};function RI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=RI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=RI(e))&&(r&&(r+=" "),r+=t);return r}var l6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function g0(e){if(typeof e!="string")return!1;var t=l6;return t.includes(e)}var u6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c6=new Set(u6);function II(e){return typeof e!="string"?!1:c6.has(e)}function MI(e){return typeof e=="string"&&e.startsWith("data-")}function Ji(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(II(n)||MI(n))&&(t[n]=e[n]);return t}function y0(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ji(t)}return typeof e=="object"&&!Array.isArray(e)?Ji(e):null}function zn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(II(n)||MI(n)||g0(n))&&(t[n]=e[n]);return t}var f6=["children","width","height","viewBox","className","style","title","desc"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function d6(e,t){if(e==null)return{};var n,r,i=h6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PI=E.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=d6(e,f6),f=o||{width:r,height:i,x:0,y:0},h=Me("recharts-surface",a);return E.createElement("svg",og({},zn(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),E.createElement("title",null,l),E.createElement("desc",null,u),n)}),p6=["children","className"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(null,arguments)}function m6(e,t){if(e==null)return{};var n,r,i=v6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wr=E.forwardRef((e,t)=>{var{children:n,className:r}=e,i=m6(e,p6),o=Me("recharts-layer",r);return E.createElement("g",ag({className:o},zn(i),{ref:t}),n)}),g6=E.createContext(null);function Te(e){return function(){return e}}const NI=Math.cos,Wf=Math.sin,lr=Math.sqrt,Xf=Math.PI,gh=2*Xf,sg=Math.PI,lg=2*sg,vo=1e-6,y6=lg-vo;function kI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function b6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kI;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kI:b6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>vo)if(!(Math.abs(f*l-u*c)>vo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-s,g=l*l+u*u,y=m*m+v*v,b=Math.sqrt(g),_=Math.sqrt(h),w=o*Math.tan((sg-Math.acos((g+h-y)/(2*b*_)))/2),S=w/_,A=w/b;Math.abs(S-1)>vo&&this._append`L${t+S*c},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*m>c*v)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vo||Math.abs(this._y1-c)>vo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%lg+lg),h>y6?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>vo&&this._append`A${r},${r},0,${+(h>=sg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function b0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _6(t)}function _0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DI(e){this._context=e}DI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yh(e){return new DI(e)}function UI(e){return e[0]}function LI(e){return e[1]}function BI(e,t){var n=Te(!0),r=null,i=yh,o=null,a=b0(s);e=typeof e=="function"?e:e===void 0?UI:Te(e),t=typeof t=="function"?t:t===void 0?LI:Te(t);function s(l){var u,c=(l=_0(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Te(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Te(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Te(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Tc(e,t,n){var r=null,i=Te(!0),o=null,a=yh,s=null,l=b0(u);e=typeof e=="function"?e:e===void 0?UI:Te(+e),t=typeof t=="function"?t:Te(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?LI:Te(+n);function u(f){var h,m,v,g=(f=_0(f)).length,y,b=!1,_,w=new Array(g),S=new Array(g);for(o==null&&(s=a(_=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(w[v],S[v]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),s.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(_)return s=null,_+""||null}function c(){return BI().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Te(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Te(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Te(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class $I{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function w6(e){return new $I(e,!0)}function S6(e){return new $I(e,!1)}const w0={draw(e,t){const n=lr(t/Xf);e.moveTo(n,0),e.arc(0,0,n,0,gh)}},E6={draw(e,t){const n=lr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zI=lr(1/3),T6=zI*2,A6={draw(e,t){const n=lr(t/T6),r=n*zI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x6={draw(e,t){const n=lr(t),r=-n/2;e.rect(r,r,n,n)}},C6=.8908130915292852,qI=Wf(Xf/10)/Wf(7*Xf/10),O6=Wf(gh/10)*qI,R6=-NI(gh/10)*qI,I6={draw(e,t){const n=lr(t*C6),r=O6*n,i=R6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=gh*o/5,s=NI(a),l=Wf(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},mm=lr(3),M6={draw(e,t){const n=-lr(t/(mm*3));e.moveTo(0,n*2),e.lineTo(-mm*n,-n),e.lineTo(mm*n,-n),e.closePath()}},En=-.5,Tn=lr(3)/2,ug=1/lr(12),P6=(ug/2+1)*3,N6={draw(e,t){const n=lr(t/P6),r=n/2,i=n*ug,o=r,a=n*ug+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(En*r-Tn*i,Tn*r+En*i),e.lineTo(En*o-Tn*a,Tn*o+En*a),e.lineTo(En*s-Tn*l,Tn*s+En*l),e.lineTo(En*r+Tn*i,En*i-Tn*r),e.lineTo(En*o+Tn*a,En*a-Tn*o),e.lineTo(En*s+Tn*l,En*l-Tn*s),e.closePath()}};function k6(e,t){let n=null,r=b0(i);e=typeof e=="function"?e:Te(e||w0),t=typeof t=="function"?t:Te(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Te(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Te(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Qf(){}function Zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HI(e){this._context=e}HI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D6(e){return new HI(e)}function GI(e){this._context=e}GI.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U6(e){return new GI(e)}function jI(e){this._context=e}jI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new jI(e)}function VI(e){this._context=e}VI.prototype={areaStart:Qf,areaEnd:Qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B6(e){return new VI(e)}function BE(e){return e<0?-1:1}function $E(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(BE(o)+BE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vm(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ed(e){this._context=e}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vm(this,this._t0,zE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vm(this,zE(this,n=$E(this,e,t)),n);break;default:vm(this,this._t0,n=$E(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function FI(e){this._context=new KI(e)}(FI.prototype=Object.create(ed.prototype)).point=function(e,t){ed.prototype.point.call(this,t,e)};function KI(e){this._context=e}KI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function $6(e){return new ed(e)}function z6(e){return new FI(e)}function YI(e){this._context=e}YI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=qE(e),i=qE(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function q6(e){return new YI(e)}function bh(e,t){this._context=e,this._t=t}bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function H6(e){return new bh(e,.5)}function G6(e){return new bh(e,0)}function j6(e){return new bh(e,1)}function $o(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function V6(e,t){return e[t]}function F6(e){const t=[];return t.key=e,t}function K6(){var e=Te([]),t=cg,n=$o,r=V6;function i(o){var a=Array.from(e.apply(this,arguments),F6),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=_0(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Te(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Te(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?cg:typeof o=="function"?o:Te(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??$o,i):n},i}function Y6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}$o(e,t)}}function J6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}$o(e,t)}}function W6(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var g=e[t[v]],y=g[r][1]||0,b=g[r-1][1]||0;m+=y-b}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,$o(e,t)}}var _h={},JI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(JI);var S0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(S0);var wh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(wh);var Sh={},WI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(WI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI,n=wh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const f=i[s];u?f==="\\"&&s+1<a?(s++,l+=i[s]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,o.push(l),l=""):l+=f:f==="["?(c=!0,l&&(o.push(l),l="")):f==="."?l&&(o.push(l),l=""):l+=f,s++}return l&&o.push(l),o}e.toPath=r})(Sh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI,n=S0,r=wh,i=Sh;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=o})(_h);var X6=_h.get;const us=or(X6);var Q6=4;function Ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q6,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,a)=>{var s=n[a-1];return typeof s=="string"?i+s+o:s!==void 0?i+Ni(s)+o:i+o},"")}var fn=e=>e===0?0:e>0?1:-1,_r=e=>typeof e=="number"&&e!=+e,zo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,F=e=>(typeof e=="number"||e instanceof Number)&&!_r(e),wr=e=>F(e)||typeof e=="string",Z6=0,ru=e=>{var t=++Z6;return"".concat(e||"").concat(t)},rr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&typeof t!="string")return r;var o;if(zo(t)){if(n==null)return r;var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return _r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},XI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function St(e,t,n){return F(e)&&F(t)?Ni(e+n*(t-e)):t}function e5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):us(r,t))===n)}var ft=e=>e===null||typeof e>"u",Pu=e=>ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mr(e){return e!=null}function Ms(){}var t5=["type","size","sizeType"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(null,arguments)}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){n5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n5(e,t,n){return(t=r5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r5(e){var t=i5(e,"string");return typeof t=="symbol"?t:t+""}function i5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o5(e,t){if(e==null)return{};var n,r,i=a5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QI={symbolCircle:w0,symbolCross:E6,symbolDiamond:A6,symbolSquare:x6,symbolStar:I6,symbolTriangle:M6,symbolWye:N6},s5=Math.PI/180,l5=e=>{var t="symbol".concat(Pu(e));return QI[t]||w0},u5=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*s5;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c5=(e,t)=>{QI["symbol".concat(Pu(e))]=t},ZI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=o5(e,t5),o=GE(GE({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=l5(a),m=k6().type(h).size(u5(n,r,a)),v=m();if(v!==null)return v},{className:l,cx:u,cy:c}=o,f=zn(o);return F(u)&&F(c)&&F(n)?E.createElement("path",fg({},f,{className:Me("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};ZI.registerSymbol=c5;var eM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,f5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{g0(i)&&(r[i]=o=>n[i](n,o))}),r},d5=(e,t,n)=>r=>(e(t,n,r),null),E0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];g0(i)&&typeof o=="function"&&(r||(r={}),r[i]=d5(o,t,n))}),r};function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){p5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p5(e,t,n){return(t=m5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m5(e){var t=v5(e,"string");return typeof t=="symbol"?t:t+""}function v5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t){var n=h5({},e),r=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}var tM={},nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a,o,n);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(nM);var rM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(rM);var T0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(T0);var iM={},Eh={},oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Eh);var aM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(aM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eh,n=aM;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(iM);var sM={},lM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_h;function n(r){return function(i){return t.get(i,r)}}e.property=n})(lM);var uM={},A0={},cM={},x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(x0);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(C0);var O0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(O0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0,n=C0,r=O0;function i(c,f,h){return typeof h!="function"?i(c,f,()=>{}):o(c,f,function m(v,g,y,b,_,w){const S=h(v,g,y,b,_,w);return S!==void 0?!!S:o(v,g,m,w)},new Map)}function o(c,f,h,m){if(f===c)return!0;switch(typeof f){case"object":return a(c,f,h,m);case"function":return Object.keys(f).length>0?o(c,{...f},h,m):r.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function a(c,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(c,f,h,m);if(f instanceof Map)return s(c,f,h,m);if(f instanceof Set)return u(c,f,h,m);const v=Object.keys(f);if(c==null||n.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===c;m==null||m.set(f,c);try{for(let g=0;g<v.length;g++){const y=v[g];if(!n.isPrimitive(c)&&!(y in c)||f[y]===void 0&&c[y]!==void 0||f[y]===null&&c[y]!==null||!h(c[y],f[y],y,c,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(c,f,h,m){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,g]of f.entries()){const y=c.get(v);if(h(y,g,v,c,f,m)===!1)return!1}return!0}function l(c,f,h,m){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let g=0;g<f.length;g++){const y=f[g];let b=!1;for(let _=0;_<c.length;_++){if(v.has(_))continue;const w=c[_];let S=!1;if(h(w,y,g,c,f,m)&&(S=!0),S){v.add(_),b=!0;break}}if(!b)return!1}return!0}function u(c,f,h,m){return f.size===0?!0:c instanceof Set?l([...c],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(A0);var fM={},R0={},dM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(dM);var Th={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Th);var I0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",b="[object Uint8ClampedArray]",_="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",x="[object Int32Array]",R="[object BigInt64Array]",O="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=O,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=T,e.int32ArrayTag=x,e.int8ArrayTag=A,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=_,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=b})(I0);var hM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(hM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM,n=Th,r=I0,i=C0,o=hM;function a(c,f){return s(c,void 0,c,new Map,f)}function s(c,f,h,m=new Map,v=void 0){const g=v==null?void 0:v(c,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const y=new Array(c.length);m.set(c,y);for(let b=0;b<c.length;b++)y[b]=s(c[b],b,h,m,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;m.set(c,y);for(const[b,_]of c)y.set(b,s(_,b,h,m,v));return y}if(c instanceof Set){const y=new Set;m.set(c,y);for(const b of c)y.add(s(b,void 0,h,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,y);for(let b=0;b<c.length;b++)y[b]=s(c[b],b,h,m,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,y),l(y,c,h,m,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Error){const y=new c.constructor;return m.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,m,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof String){const y=new String(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return m.set(c,y),l(y,c,h,m,v),y}return c}function l(c,f,h=c,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const b=g[y],_=Object.getOwnPropertyDescriptor(c,b);(_==null||_.writable)&&(c[b]=s(f[b],b,h,m,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})(R0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0,n=fM;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(uM);var pM={},mM={},vM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0,n=Th,r=I0;function i(o,a){return t.cloneDeepWith(o,(s,l,u,c)=>{const f=a==null?void 0:a(s,l,u,c);if(f!==void 0)return f;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const h={};return c.set(o,h),t.copyProperties(h,o,u,c),h}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(h,o),h}case r.argumentsTag:{const h={};return t.copyProperties(h,o),h.length=o.length,h[Symbol.iterator]=o[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(vM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(mM);var gM={},M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(M0);var yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Th;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(yM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,n=M0,r=yM,i=Sh;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=o})(gM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0,n=wh,r=mM,i=_h,o=gM;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=a})(pM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T0,n=lM,r=uM,i=pM;function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=o})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM,n=rM,r=T0,i=iM,o=sM;function a(s,l=r.identity){return i.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(o.iteratee(l),1)):[]}e.uniqBy=a})(tM);var g5=tM.uniqBy;const VE=or(g5);function y5(e,t,n){return t===!0?VE(e,n):typeof t=="function"?VE(e,t):e}var bM={exports:{}},_M={},wM={exports:{}},SM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=E;function b5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _5=typeof Object.is=="function"?Object.is:b5,w5=cs.useState,S5=cs.useEffect,E5=cs.useLayoutEffect,T5=cs.useDebugValue;function A5(e,t){var n=t(),r=w5({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return E5(function(){i.value=n,i.getSnapshot=t,gm(i)&&o({inst:i})},[e,n,t]),S5(function(){return gm(i)&&o({inst:i}),e(function(){gm(i)&&o({inst:i})})},[e]),T5(n),n}function gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_5(e,n)}catch{return!0}}function x5(e,t){return t()}var C5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x5:A5;SM.useSyncExternalStore=cs.useSyncExternalStore!==void 0?cs.useSyncExternalStore:C5;wM.exports=SM;var O5=wM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=E,R5=O5;function I5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M5=typeof Object.is=="function"?Object.is:I5,P5=R5.useSyncExternalStore,N5=Ah.useRef,k5=Ah.useEffect,D5=Ah.useMemo,U5=Ah.useDebugValue;_M.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=N5(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=D5(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var v=a.value;if(i(v,m))return f=v}return f=m}if(v=f,M5(c,m))return v;var g=r(m);return i!==void 0&&i(v,g)?(c=m,v):(c=m,f=g)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=P5(e,o[0],o[1]);return k5(function(){a.hasValue=!0,a.value=s},[s]),U5(s),s};bM.exports=_M;var L5=bM.exports,P0=E.createContext(null),B5=e=>e,je=()=>{var e=E.useContext(P0);return e?e.store.dispatch:B5},of=()=>{},$5=()=>of,z5=(e,t)=>e===t;function Y(e){var t=E.useContext(P0),n=E.useMemo(()=>t?r=>{if(r!=null)return e(r)}:of,[t,e]);return L5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$5,t?t.store.getState:of,t?t.store.getState:of,n,z5)}function q5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function H5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function G5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var FE=e=>Array.isArray(e)?e:[e];function j5(e){const t=Array.isArray(e[0])?e[0]:e;return G5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function V5(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var F5=class{constructor(e){this.value=e}deref(){return this.value}},K5=typeof WeakRef<"u"?WeakRef:F5,Y5=0,KE=1;function Ac(){return{s:Y5,v:void 0,o:null,p:null}}function EM(e,t={}){let n=Ac();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var f;let s=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(v);y===void 0?(s=Ac(),g.set(v,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(v);y===void 0?(s=Ac(),g.set(v,s)):s=y}}const u=s;let c;if(s.s===KE)c=s.v;else if(c=e.apply(null,arguments),o++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new K5(c):c}return u.s=KE,u.v=c,c}return a.clearCache=()=>{n=Ac(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function J5(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),q5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=EM,argsMemoizeOptions:v=[]}=c,g=FE(h),y=FE(v),b=j5(i),_=f(function(){return o++,u.apply(null,arguments)},...g),w=m(function(){a++;const A=V5(b,arguments);return s=_.apply(null,A),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:_,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var M=J5(EM),W5=Object.assign((e,t=M)=>{H5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>W5}),TM={},AM={},xM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=t(r),s=t(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=n})(xM);var CM={},N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(N0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(CM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM,n=CM,r=Sh;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let g=m;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},c=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return o.map(m=>({original:m,criteria:f.map(v=>c(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],v.criteria[g],s[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(AM);var OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}e.flatten=t})(OM);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M0,n=Eh,r=x0,i=O0;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.isEqualsSameValueZero(l[s],a):!1}e.isIterateeCall=o})(k0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AM,n=OM,r=k0;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,n.flatten(a),["asc"])}e.sortBy=i})(TM);var X5=TM.sortBy;const xh=or(X5);var RM=e=>e.legend.settings,Q5=e=>e.legend.size,Z5=e=>e.legend.payload;M([Z5,RM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?xh(r,n):r});var xc=1;function eF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>xc||Math.abs(a.left-t.left)>xc||Math.abs(a.top-t.top)>xc||Math.abs(a.width-t.width)>xc)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tF=typeof Symbol=="function"&&Symbol.observable||"@@observable",YE=tF,ym=()=>Math.random().toString(36).substring(7).split("").join("."),nF={INIT:`@@redux/INIT${ym()}`,REPLACE:`@@redux/REPLACE${ym()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ym()}`},td=nF;function D0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IM(e,t,n){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bt(1));return n(IM)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((y,b)=>{a.set(b,y)}))}function c(){if(l)throw new Error(bt(3));return i}function f(y){if(typeof y!="function")throw new Error(bt(4));if(l)throw new Error(bt(5));let b=!0;u();const _=s++;return a.set(_,y),function(){if(b){if(l)throw new Error(bt(6));b=!1,u(),a.delete(_),o=null}}}function h(y){if(!D0(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(l)throw new Error(bt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=a).forEach(_=>{_()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));r=y,h({type:td.REPLACE})}function v(){const y=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(bt(11));function _(){const S=b;S.next&&S.next(c())}return _(),{unsubscribe:y(_)}},[YE](){return this}}}return h({type:td.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:m,[YE]:v}}function rF(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:td.INIT})>"u")throw new Error(bt(12));if(typeof n(void 0,{type:td.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function MM(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{rF(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],m=a[f],v=h(m,s);if(typeof v>"u")throw s&&s.type,new Error(bt(14));u[f]=v,l=l||v!==m}return l=l||r.length!==Object.keys(a).length,l?u:a}}function nd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iF(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(bt(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=e.map(l=>l(a));return o=nd(...s)(i.dispatch),{...i,dispatch:o}}}function PM(e){return D0(e)&&"type"in e&&typeof e.type=="string"}var NM=Symbol.for("immer-nothing"),JE=Symbol.for("immer-draftable"),Lt=Symbol.for("immer-state");function Xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dn=Object,fs=dn.getPrototypeOf,rd="constructor",Ch="prototype",dg="configurable",id="enumerable",af="writable",iu="value",Xr=e=>!!e&&!!e[Lt];function ir(e){var t;return e?kM(e)||Rh(e)||!!e[JE]||!!((t=e[rd])!=null&&t[JE])||Ih(e)||Mh(e):!1}var oF=dn[Ch][rd].toString(),WE=new WeakMap;function kM(e){if(!e||!U0(e))return!1;const t=fs(e);if(t===null||t===dn[Ch])return!0;const n=dn.hasOwnProperty.call(t,rd)&&t[rd];if(n===Object)return!0;if(!wa(n))return!1;let r=WE.get(n);return r===void 0&&(r=Function.toString.call(n),WE.set(n,r)),r===oF}function Oh(e,t,n=!0){Nu(e)===0?(n?Reflect.ownKeys(e):dn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Nu(e){const t=e[Lt];return t?t.type_:Rh(e)?1:Ih(e)?2:Mh(e)?3:0}var XE=(e,t,n=Nu(e))=>n===2?e.has(t):dn[Ch].hasOwnProperty.call(e,t),hg=(e,t,n=Nu(e))=>n===2?e.get(t):e[t],od=(e,t,n,r=Nu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function aF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Rh=Array.isArray,Ih=e=>e instanceof Map,Mh=e=>e instanceof Set,U0=e=>typeof e=="object",wa=e=>typeof e=="function",bm=e=>typeof e=="boolean";function sF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Pr=e=>e.copy_||e.base_,L0=e=>e.modified_?e.copy_:e.base_;function pg(e,t){if(Ih(e))return new Map(e);if(Mh(e))return new Set(e);if(Rh(e))return Array[Ch].slice.call(e);const n=kM(e);if(t===!0||t==="class_only"&&!n){const r=dn.getOwnPropertyDescriptors(e);delete r[Lt];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[af]===!1&&(s[af]=!0,s[dg]=!0),(s.get||s.set)&&(r[a]={[dg]:!0,[af]:!0,[id]:s[id],[iu]:e[a]})}return dn.create(fs(e),r)}else{const r=fs(e);if(r!==null&&n)return{...e};const i=dn.create(r);return dn.assign(i,e)}}function B0(e,t=!1){return Ph(e)||Xr(e)||!ir(e)||(Nu(e)>1&&dn.defineProperties(e,{set:Cc,add:Cc,clear:Cc,delete:Cc}),dn.freeze(e),t&&Oh(e,(n,r)=>{B0(r,!0)},!1)),e}function lF(){Xn(2)}var Cc={[iu]:lF};function Ph(e){return e===null||!U0(e)?!0:dn.isFrozen(e)}var ad="MapSet",mg="Patches",QE="ArrayMethods",DM={};function qo(e){const t=DM[e];return t||Xn(0,e),t}var ZE=e=>!!DM[e],ou,UM=()=>ou,uF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZE(ad)?qo(ad):void 0,arrayMethodsPlugin_:ZE(QE)?qo(QE):void 0});function eT(e,t){t&&(e.patchPlugin_=qo(mg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vg(e){gg(e),e.drafts_.forEach(cF),e.drafts_=null}function gg(e){e===ou&&(ou=e.parent_)}var tT=e=>ou=uF(ou,e);function cF(e){const t=e[Lt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Lt].modified_&&(vg(t),Xn(4)),ir(e)&&(e=rT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Lt].base_,e,t)}else e=rT(t,n);return fF(t,e,!0),vg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NM?e:void 0}function rT(e,t){if(Ph(t))return t;const n=t[Lt];if(!n)return sd(t,e.handledSet_,e);if(!Nh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);$M(n,e)}return n.copy_}function fF(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B0(t,n)}function LM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Nh=(e,t)=>e.scope_===t,dF=[];function BM(e,t,n,r){const i=Pr(e),o=e.type_;if(r!==void 0&&hg(i,r,o)===t){od(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Oh(i,(l,u)=>{if(Xr(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=e.draftLocations_.get(t)??dF;for(const s of a)od(i,s,n,o)}function hF(e,t,n){e.callbacks_.push(function(i){var s;const o=t;if(!o||!Nh(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=L0(o);BM(e,o.draft_??o,a,n),$M(o,i)})}function $M(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}LM(e)}}function pF(e,t,n){const{scope_:r}=e;if(Xr(n)){const i=n[Lt];Nh(i,r)&&i.callbacks_.push(function(){sf(e);const a=L0(i);BM(e,n,a,t)})}else ir(n)&&e.callbacks_.push(function(){const o=Pr(e);e.type_===3?o.has(n)&&sd(n,r.handledSet_,r):hg(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sd(hg(e.copy_,t,e.type_),r.handledSet_,r)})}function sd(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Xr(e)||t.has(e)||!ir(e)||Ph(e)||(t.add(e),Oh(e,(r,i)=>{if(Xr(i)){const o=i[Lt];if(Nh(o,n)){const a=L0(o);od(e,r,a,e.type_),LM(o)}}else ir(i)&&sd(i,t,n)})),e}function mF(e,t){const n=Rh(e),r={type_:n?1:0,scope_:t?t.scope_:UM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=ld;n&&(i=[r],o=au);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var ld={get(e,t){if(t===Lt)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Pr(e);if(!XE(i,t,e.type_))return vF(e,i,t);const o=i[t];if(e.finalized_||!ir(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&sF(t))return o;if(o===_m(e.base_,t)){sf(e);const a=e.type_===1?+t:t,s=bg(e.scope_,o,e,a);return e.copy_[a]=s}return o},has(e,t){return t in Pr(e)},ownKeys(e){return Reflect.ownKeys(Pr(e))},set(e,t,n){const r=zM(Pr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_m(Pr(e),t),o=i==null?void 0:i[Lt];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(aF(n,i)&&(n!==void 0||XE(e.base_,t,e.type_)))return!0;sf(e),yg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),pF(e,t,n)),!0},deleteProperty(e,t){return sf(e),_m(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[af]:!0,[dg]:e.type_!==1||t!=="length",[id]:r[id],[iu]:n[t]}},defineProperty(){Xn(11)},getPrototypeOf(e){return fs(e.base_)},setPrototypeOf(){Xn(12)}},au={};for(let e in ld){let t=ld[e];au[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,n){return ld.set.call(this,e[0],t,n,e[0])};function _m(e,t){const n=e[Lt];return(n?Pr(n):e)[t]}function vF(e,t,n){var i;const r=zM(t,n);return r?iu in r?r[iu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function zM(e,t){if(!(t in e))return;let n=fs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fs(n)}}function yg(e){e.modified_||(e.modified_=!0,e.parent_&&yg(e.parent_))}function sf(e){e.copy_||(e.assigned_=new Map,e.copy_=pg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(wa(n)&&!wa(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,f=>r.call(this,f,...c))}}wa(r)||Xn(6),i!==void 0&&!wa(i)&&Xn(7);let o;if(ir(n)){const a=tT(this),s=bg(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?vg(a):gg(a)}return eT(a,i),nT(o,a)}else if(!n||!U0(n)){if(o=r(n),o===void 0&&(o=n),o===NM&&(o=void 0),this.autoFreeze_&&B0(o,!0),i){const a=[],s=[];qo(mg).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else Xn(1,n)},this.produceWithPatches=(n,r)=>{if(wa(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},bm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),bm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),bm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ir(t)||Xn(8),Xr(t)&&(t=nr(t));const n=tT(this),r=bg(n,t,void 0);return r[Lt].isManual_=!0,gg(n),r}finishDraft(t,n){const r=t&&t[Lt];(!r||!r.isManual_)&&Xn(9);const{scope_:i}=r;return eT(i,n),nT(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=qo(mg).applyPatches_;return Xr(t)?i(t,n):this.produce(t,o=>i(o,n))}};function bg(e,t,n,r){const[i,o]=Ih(t)?qo(ad).proxyMap_(t,n):Mh(t)?qo(ad).proxySet_(t,n):mF(t,n);return((n==null?void 0:n.scope_)??UM()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?hF(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function nr(e){return Xr(e)||Xn(10,e),qM(e)}function qM(e){if(!ir(e)||Ph(e))return e;const t=e[Lt];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=pg(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=pg(e,!0);return Oh(n,(i,o)=>{od(n,i,qM(o))},r),t&&(t.finalized_=!1),n}var yF=new gF,HM=yF.produce;function GM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var bF=GM(),_F=GM,wF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nd:nd.apply(null,arguments)};function qn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(gn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PM(r)&&r.type===e,n}var jM=class ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ml.prototype)}static get[Symbol.species](){return ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ml(...t[0].concat(this)):new ml(...t.concat(this))}};function iT(e){return ir(e)?HM(e,()=>{}):e}function Oc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function SF(e){return typeof e=="boolean"}var EF=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new jM;return n&&(SF(n)?a.push(bF):a.push(_F(n.extraArgument))),a},VM="RTK_autoBatch",Ne=()=>e=>({payload:e,meta:{[VM]:!0}}),oT=e=>t=>{setTimeout(t,e)},FM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oT(10):e.type==="callback"?e.queueNotification:oT(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[VM]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},TF=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new jM(e);return r&&i.push(FM(typeof r=="object"?r:void 0)),i};function AF(e){const t=EF(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(D0(n))s=MM(n);else throw new Error(gn(1));let l;typeof r=="function"?l=r(t):l=t();let u=nd;i&&(u=wF({trace:!1,...typeof i=="object"&&i}));const c=iF(...l),f=TF(c);let h=typeof a=="function"?a(f):f();const m=u(...h);return IM(s,o,m)}function KM(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(gn(28));if(s in t)throw new Error(gn(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function xF(e){return typeof e=="function"}function CF(e,t){let[n,r,i]=KM(t),o;if(xF(e))o=()=>iT(e());else{const s=iT(e);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(Xr(c)){const m=f(c,l);return m===void 0?c:m}else{if(ir(c))return HM(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return a.getInitialState=o,a}var OF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RF=(e=21)=>{let t="",n=e;for(;n--;)t+=OF[Math.random()*64|0];return t},IF=Symbol.for("rtk-slice-createasyncthunk");function MF(e,t){return`${e}/${t}`}function PF({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[IF];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(gn(11));const s=(typeof i.reducers=="function"?i.reducers(kF()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(S,A){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(gn(12));if(T in u.sliceCaseReducersByType)throw new Error(gn(13));return u.sliceCaseReducersByType[T]=A,c},addMatcher(S,A){return u.sliceMatchers.push({matcher:S,reducer:A}),c},exposeAction(S,A){return u.actionCreators[S]=A,c},exposeCaseReducer(S,A){return u.sliceCaseReducersByName[S]=A,c}};l.forEach(S=>{const A=s[S],T={reducerName:S,type:MF(o,S),createNotation:typeof i.reducers=="function"};UF(A)?BF(T,A,c,t):DF(T,A,c)});function f(){const[S={},A=[],T=void 0]=typeof i.extraReducers=="function"?KM(i.extraReducers):[i.extraReducers],x={...S,...u.sliceCaseReducersByType};return CF(i.initialState,R=>{for(let O in x)R.addCase(O,x[O]);for(let O of u.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of A)R.addMatcher(O.matcher,O.reducer);T&&R.addDefaultCase(T)})}const h=S=>S,m=new Map,v=new WeakMap;let g;function y(S,A){return g||(g=f()),g(S,A)}function b(){return g||(g=f()),g.getInitialState()}function _(S,A=!1){function T(R){let O=R[S];return typeof O>"u"&&A&&(O=Oc(v,T,b)),O}function x(R=h){const O=Oc(m,A,()=>new WeakMap);return Oc(O,R,()=>{const I={};for(const[N,P]of Object.entries(i.selectors??{}))I[N]=NF(P,R,()=>Oc(v,R,b),A);return I})}return{reducerPath:S,getSelectors:x,get selectors(){return x(T)},selectSlice:T}}const w={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,..._(a),injectInto(S,{reducerPath:A,...T}={}){const x=A??a;return S.inject({reducerPath:x,reducer:y},T),{...w,..._(x,!0)}}};return w}}function NF(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var Zt=PF();function kF(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function DF({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!LF(r))throw new Error(gn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?qn(e,a):qn(e))}function UF(e){return e._reducerDefinitionType==="asyncThunk"}function LF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BF({type:e,reducerName:t},n,r,i){if(!i)throw new Error(gn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,f=i(e,o,c);r.exposeAction(t,f),a&&r.addCase(f.fulfilled,a),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Rc,pending:s||Rc,rejected:l||Rc,settled:u||Rc})}function Rc(){}var $F="task",YM="listener",JM="completed",$0="cancelled",zF=`task-${$0}`,qF=`task-${JM}`,_g=`${YM}-${$0}`,HF=`${YM}-${JM}`,kh=class{constructor(e){_p(this,"name","TaskAbortError");_p(this,"message");this.code=e,this.message=`${$F} ${$0} (reason: ${e})`}},z0=(e,t)=>{if(typeof e!="function")throw new TypeError(gn(32))},ud=()=>{},WM=(e,t=ud)=>(e.catch(t),e),XM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Io=e=>{if(e.aborted)throw new kh(e.reason)};function QM(e,t){let n=ud;return new Promise((r,i)=>{const o=()=>i(new kh(e.reason));if(e.aborted){o();return}n=XM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ud})}var GF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof kh?"cancelled":"rejected",error:n}}finally{t==null||t()}},cd=e=>t=>WM(QM(e,t).then(n=>(Io(e),n))),ZM=e=>{const t=cd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Wa}=Object,aT={},Dh="listenerMiddleware",jF=(e,t)=>{const n=r=>XM(e,()=>r.abort(e.reason));return(r,i)=>{z0(r);const o=new AbortController;n(o);const a=GF(async()=>{Io(e),Io(o.signal);const s=await r({pause:cd(o.signal),delay:ZM(o.signal),signal:o.signal});return Io(o.signal),s},()=>o.abort(qF));return i!=null&&i.autoJoin&&t.push(a.catch(ud)),{result:cd(e)(a),cancel(){o.abort(zF)}}}},VF=(e,t)=>{const n=async(r,i)=>{Io(t);let o=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await QM(t,Promise.race(s));return Io(t),l}finally{o()}};return(r,i)=>WM(n(r,i))},eP=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=qn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gn(21));return z0(o),{predicate:i,type:t,effect:o}},tP=Wa(e=>{const{type:t,predicate:n,effect:r}=eP(e);return{id:RF(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>tP}),sT=(e,t)=>{const{type:n,effect:r,predicate:i}=eP(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},wg=e=>{e.pending.forEach(t=>{t.abort(_g)})},FF=(e,t)=>()=>{for(const n of t.keys())wg(n);e.clear()},lT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},nP=Wa(qn(`${Dh}/add`),{withTypes:()=>nP}),KF=qn(`${Dh}/removeAll`),rP=Wa(qn(`${Dh}/remove`),{withTypes:()=>rP}),YF=(...e)=>{console.error(`${Dh}/error`,...e)},ku=(e={})=>{const t=new Map,n=new Map,r=m=>{const v=n.get(m)??0;n.set(m,v+1)},i=m=>{const v=n.get(m)??1;v===1?n.delete(m):n.set(m,v-1)},{extra:o,onError:a=YF}=e;z0(a);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&wg(m)}),l=m=>{const v=sT(t,m)??tP(m);return s(v)};Wa(l,{withTypes:()=>l});const u=m=>{const v=sT(t,m);return v&&(v.unsubscribe(),m.cancelActive&&wg(v)),!!v};Wa(u,{withTypes:()=>u});const c=async(m,v,g,y)=>{const b=new AbortController,_=VF(l,b.signal),w=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(v,Wa({},g,{getOriginalState:y,condition:(S,A)=>_(S,A).then(Boolean),take:_,delay:ZM(b.signal),pause:cd(b.signal),extra:o,signal:b.signal,fork:jF(b.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,A,T)=>{S!==b&&(S.abort(_g),T.delete(S))})},cancel:()=>{b.abort(_g),m.pending.delete(b)},throwIfCancelled:()=>{Io(b.signal)}})))}catch(S){S instanceof kh||lT(a,S,{raisedBy:"effect"})}finally{await Promise.all(w),b.abort(HF),i(m),m.pending.delete(b)}},f=FF(t,n);return{middleware:m=>v=>g=>{if(!PM(g))return v(g);if(nP.match(g))return l(g.payload);if(KF.match(g)){f();return}if(rP.match(g))return u(g.payload);let y=m.getState();const b=()=>{if(y===aT)throw new Error(gn(23));return y};let _;try{if(_=v(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const A of S){let T=!1;try{T=A.predicate(g,w,y)}catch(x){T=!1,lT(a,x,{raisedBy:"predicate"})}T&&c(A,g,m,b)}}}finally{y=aT}return _},startListening:l,stopListening:u,clearListeners:f}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iP=Zt({name:"chartLayout",initialState:JF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WF,setLayout:XF,setChartSize:QF,setScale:ZF}=iP.actions,e8=iP.reducer;function oP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function fe(e){return Number.isFinite(e)}function Wi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){t8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t8(e,t,n){return(t=n8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return ft(e)||ft(t)?n:wr(t)?us(e,t,n):typeof t=="function"?t(e):n}var i8=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&F(e[o]))return La(La({},e),{},{[o]:e[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&F(e[a]))return La(La({},e),{},{[a]:e[a]+(i||0)})}return e},eo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",o8=(e,t)=>{if(!t||t.length!==2||!F(t[0])||!F(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!F(e[0])||e[0]<n)&&(i[0]=n),(!F(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},a8=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=_r(c)?f:c;h>=0?(u[0]=o,o+=h,u[1]=o):(u[0]=a,a+=h,u[1]=a)}}}},s8=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var s=e[a],l=s==null?void 0:s[i];if(l!=null){var u=_r(l[1])?l[0]:l[1];u>=0?(l[0]=o,o+=u,l[1]=o):(l[0]=0,l[1]=0)}}}},l8={sign:a8,expand:Y6,none:$o,silhouette:J6,wiggle:W6,positive:s8},u8=(e,t,n)=>{var r,i=(r=l8[n])!==null&&r!==void 0?r:$o,o=K6().keys(t).value((s,l)=>Number(Ot(s,l,0))).order(cg).offset(i),a=o(e);return a.forEach((s,l)=>{s.forEach((u,c)=>{var f=Ot(e[c],t[l],0);Array.isArray(f)&&f.length===2&&F(f[0])&&F(f[1])&&(u[0]=f[0],u[1]=f[1])})}),a};function c8(e){return e==null?void 0:String(e)}var cT=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var s=Ot(o,t.dataKey,t.scale.domain()[a]);if(ft(s))return null;var l=t.scale.map(s);return F(l)?l-i/2+r:null},f8=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},d8=e=>{var t=e.flat(2).filter(F);return[Math.min(...t),Math.max(...t)]},h8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p8=(e,t,n)=>{if(e!=null)return h8(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:a}=o,s=a.reduce((l,u)=>{var c=oP(u,t,n),f=d8(c);return!fe(f[0])||!fe(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},fT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=xh(t,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function hT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return La(La({},t),{},{dataKey:n,payload:r,value:i,name:o})}function aP(e,t){if(e)return String(e);if(typeof t=="string")return t}var m8=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},v8=(e,t)=>t==="centric"?e.angle:e.radius,li=e=>e.layout.width,ui=e=>e.layout.height,g8=e=>e.layout.scale,sP=e=>e.layout.margin,Uh=M(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lh=M(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),y8="data-recharts-item-index",b8="data-recharts-item-id",Du=60;function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){_8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _8(e,t,n){return(t=w8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8=e=>e.brush.height;function T8(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Du;return n+i}return n},0)}function A8(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Du;return n+i}return n},0)}function x8(e){var t=Uh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function C8(e){var t=Uh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ht=M([li,ui,sP,E8,T8,A8,x8,C8,RM,Q5],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},f={top:(n.top||0)+a,bottom:(n.bottom||0)+s},h=Ic(Ic({},f),c),m=h.bottom;h.bottom+=r,h=i8(h,l,u);var v=e-h.left-h.right,g=t-h.top-h.bottom;return Ic(Ic({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(g,0)})}),O8=M(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),q0=M(li,ui,(e,t)=>({x:0,y:0,width:e,height:t})),R8=E.createContext(null),wn=()=>E.useContext(R8)!=null,Bh=e=>e.brush,$h=M([Bh,ht,sP],(e,t,n)=>({height:e.height,x:F(e.x)?e.x:t.left,y:F(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:F(e.width)?e.width:t.width})),lP={},uP={},cP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},f=()=>{u&&c(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),a=void 0,s=null},y=()=>{c()},b=function(..._){if(i!=null&&i.aborted)return;a=this,s=_;const w=h==null;m(),l&&w&&c()};return b.schedule=m,b.cancel=g,b.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(cP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(...g){c=r.apply(this,g),f=null},i,{edges:u}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},v=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=v,m}e.debounce=n})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(r,i,{leading:a,maxWait:i,trailing:s})}e.throttle=n})(lP);var I8=lP.throttle;const M8=or(I8);var mT=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},vr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},fP=(e,t,n)=>{var{width:r=vr.width,height:i=vr.height,aspect:o,maxHeight:a}=n,s=zo(r)?e:Number(r),l=zo(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},P8={width:0,height:0,overflow:"visible"},N8={width:0,overflowX:"visible"},k8={height:0,overflowY:"visible"},D8={},U8=e=>{var{width:t,height:n}=e,r=zo(t),i=zo(n);return r&&i?P8:r?N8:i?k8:D8};function L8(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=vr.width,o=vr.height):i===void 0?i=r&&r>0?void 0:vr.width:o===void 0&&(o=r&&r>0?void 0:vr.height),{width:i,height:o}}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){B8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B8(e,t,n){return(t=$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dP=E.createContext(vr.initialDimension);function q8(e){return Wi(e.width)&&Wi(e.height)}function hP(e){var{children:t,width:n,height:r}=e,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return q8(i)?E.createElement(dP.Provider,{value:i},t):null}var H0=()=>E.useContext(dP),H8=E.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=vr.initialDimension,width:i,height:o,minWidth:a=vr.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=vr.debounce,id:f,className:h,onResize:m,style:v={}}=e,g=E.useRef(null),y=E.useRef();y.current=m,E.useImperativeHandle(t,()=>g.current);var[b,_]=E.useState({containerWidth:r.width,containerHeight:r.height}),w=E.useCallback((R,O)=>{_(I=>{var N=Math.round(R),P=Math.round(O);return I.containerWidth===N&&I.containerHeight===P?I:{containerWidth:N,containerHeight:P}})},[]);E.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Ms;var R=P=>{var G,q=P[0];if(q!=null){var{width:Z,height:D}=q.contentRect;w(Z,D),(G=y.current)===null||G===void 0||G.call(y,Z,D)}};c>0&&(R=M8(R,c,{trailing:!0,leading:!1}));var O=new ResizeObserver(R),{width:I,height:N}=g.current.getBoundingClientRect();return w(I,N),O.observe(g.current),()=>{O.disconnect()}},[w,c]);var{containerWidth:S,containerHeight:A}=b;mT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:x}=fP(S,A,{width:i,height:o,aspect:n,maxHeight:l});return mT(T!=null&&T>0||x!=null&&x>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,x,i,o,a,s,n),E.createElement("div",{id:f?"".concat(f):void 0,className:Me("recharts-responsive-container",h),style:gT(gT({},v),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},E.createElement("div",{style:U8({width:i,height:o})},E.createElement(hP,{width:T,height:x},u)))}),G8=E.forwardRef((e,t)=>{var n=H0();if(Wi(n.width)&&Wi(n.height))return e.children;var{width:r,height:i}=L8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=fP(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return F(o)&&F(a)?E.createElement(hP,{width:o,height:a},e.children):E.createElement(H8,Sg({},e,{width:r,height:i,ref:t}))});function G0(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zh=()=>{var e,t=wn(),n=Y(O8),r=Y($h),i=(e=Y(Bh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},j8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},V8=()=>{var e;return(e=Y(ht))!==null&&e!==void 0?e:j8},F8=()=>Y(li),K8=()=>Y(ui),_e=e=>e.layout.layoutType,Ps=()=>Y(_e),pP=()=>{var e=Ps();if(e==="horizontal"||e==="vertical")return e},mP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Y8=()=>{var e=Ps();return e!==void 0},Uu=e=>{var t=je(),n=wn(),{width:r,height:i}=e,o=H0(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),E.useEffect(()=>{!n&&Wi(a)&&Wi(s)&&t(QF({width:a,height:s}))},[t,n,a,s]),null},vP=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function ds(e){return!!e&&!!e[_n]}function Ho(e){var t;return e?gP(e)||Array.isArray(e)||!!e[yT]||!!((t=e.constructor)!=null&&t[yT])||Lu(e)||Hh(e):!1}var J8=Object.prototype.constructor.toString(),bT=new WeakMap;function gP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bT.get(n);return r===void 0&&(r=Function.toString.call(n),bT.set(n,r)),r===J8}function dd(e,t,n=!0){qh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qh(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:Lu(e)?2:Hh(e)?3:0}function Eg(e,t){return qh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yP(e,t,n){const r=qh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function W8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lu(e){return e instanceof Map}function Hh(e){return e instanceof Set}function go(e){return e.copy_||e.base_}function Tg(e,t){if(Lu(e))return new Map(e);if(Hh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=gP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[_n];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(su(e),r)}else{const r=su(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function j0(e,t=!1){return Gh(e)||ds(e)||!Ho(e)||(qh(e)>1&&Object.defineProperties(e,{set:Mc,add:Mc,clear:Mc,delete:Mc}),Object.freeze(e),t&&Object.values(e).forEach(n=>j0(n,!0))),e}function X8(){Qn(2)}var Mc={value:X8};function Gh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Q8={};function Go(e){const t=Q8[e];return t||Qn(0,e),t}var lu;function bP(){return lu}function Z8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _T(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ag(e){xg(e),e.drafts_.forEach(eK),e.drafts_=null}function xg(e){e===lu&&(lu=e.parent_)}function wT(e){return lu=Z8(lu,e)}function eK(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ST(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[_n].modified_&&(Ag(t),Qn(4)),Ho(e)&&(e=hd(t,e),t.parent_||pd(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(n[_n].base_,e,t.patches_,t.inversePatches_)):e=hd(t,n,[]),Ag(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vP?e:void 0}function hd(e,t,n){if(Gh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[_n];if(!i)return dd(t,(o,a)=>ET(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return pd(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),dd(a,(l,u)=>ET(e,i,o,l,u,n,s),r),pd(e,o,!1),n&&e.patches_&&Go("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ET(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=Gh(i);if(!(s&&!a)){if(ds(i)){const l=o&&t&&t.type_!==3&&!Eg(t.assigned_,r)?o.concat(r):void 0,u=hd(e,i,l);if(yP(n,r,u),ds(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ho(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;hd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Lu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&pd(e,i)}}}function pd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&j0(t,n)}function tK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:bP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=V0;n&&(i=[r],o=uu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var V0={get(e,t){if(t===_n)return e;const n=go(e);if(!Eg(n,t))return nK(e,n,t);const r=n[t];return e.finalized_||!Ho(r)?r:r===wm(e.base_,t)?(Sm(e),e.copy_[t]=Og(r,e)):r},has(e,t){return t in go(e)},ownKeys(e){return Reflect.ownKeys(go(e))},set(e,t,n){const r=_P(go(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=wm(go(e),t),o=i==null?void 0:i[_n];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(W8(n,i)&&(n!==void 0||Eg(e.base_,t)))return!0;Sm(e),Cg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sm(e),Cg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=go(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return su(e.base_)},setPrototypeOf(){Qn(12)}},uu={};dd(V0,(e,t)=>{uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,n){return V0.set.call(this,e[0],t,n,e[0])};function wm(e,t){const n=e[_n];return(n?go(n):e)[t]}function nK(e,t,n){var i;const r=_P(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function _P(e,t){if(!(t in e))return;let n=su(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=su(n)}}function Cg(e){e.modified_||(e.modified_=!0,e.parent_&&Cg(e.parent_))}function Sm(e){e.copy_||(e.copy_=Tg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Qn(6),r!==void 0&&typeof r!="function"&&Qn(7);let i;if(Ho(t)){const o=wT(this),a=Og(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?Ag(o):xg(o)}return _T(o,r),ST(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===vP&&(i=void 0),this.autoFreeze_&&j0(i,!0),r){const o=[],a=[];Go("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else Qn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ho(e)||Qn(8),ds(e)&&(e=iK(e));const t=wT(this),n=Og(e,void 0);return n[_n].isManual_=!0,xg(t),n}finishDraft(e,t){const n=e&&e[_n];(!n||!n.isManual_)&&Qn(9);const{scope_:r}=n;return _T(r,t),ST(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Go("Patches").applyPatches_;return ds(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Og(e,t){const n=Lu(e)?Go("MapSet").proxyMap_(e,t):Hh(e)?Go("MapSet").proxySet_(e,t):tK(e,t);return(t?t.scope_:bP()).drafts_.push(n),n}function iK(e){return ds(e)||Qn(10,e),wP(e)}function wP(e){if(!Ho(e)||Gh(e))return e;const t=e[_n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tg(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Tg(e,!0);return dd(n,(i,o)=>{yP(n,i,wP(o))},r),t&&(t.finalized_=!1),n}var oK=new rK;oK.produce;var aK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SP=Zt({name:"legend",initialState:aK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ne()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ne()},removeLegendPayload:{reducer(e,t){var n=nr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ne()}}}),{setLegendSize:vie,setLegendSettings:gie,addLegendPayload:sK,replaceLegendPayload:lK,removeLegendPayload:uK}=SP.actions,cK=SP.reducer;function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(null,arguments)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pK(e){return Array.isArray(e)&&wr(e[0])&&wr(e[1])?e.join(" ~ "):e}var ca={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},mK=e=>{var{separator:t=ca.separator,contentStyle:n,itemStyle:r,labelStyle:i=ca.labelStyle,payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=ca.accessibilityLayer}=e,m=()=>{if(o&&o.length){var A={padding:0,margin:0},T=(s?xh(o,s):o).map((x,R)=>{if(x.type==="none")return null;var O=x.formatter||a||pK,{value:I,name:N}=x,P=I,G=N;if(O){var q=O(I,N,x,R,o);if(Array.isArray(q))[P,G]=q;else if(q!=null)P=q;else return null}var Z=Zs(Zs({},ca.itemStyle),{},{color:x.color||ca.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:Z},wr(G)?E.createElement("span",{className:"recharts-tooltip-item-name"},G):null,wr(G)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},P),E.createElement("span",{className:"recharts-tooltip-item-unit"},x.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},v=Zs(Zs({},ca.contentStyle),n),g=Zs({margin:0},i),y=!ft(c),b=y?c:"",_=Me("recharts-default-tooltip",l),w=Me("recharts-tooltip-label",u);y&&f&&o!==void 0&&o!==null&&(b=f(c,o));var S=h?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Rg({className:_,style:v},S),E.createElement("p",{className:w,style:g},E.isValidElement(b)?b:"".concat(b)),m())},el="recharts-tooltip-wrapper",vK={visibility:"hidden"};function gK(e){var{coordinate:t,translateX:n,translateY:r}=e;return Me(el,{["".concat(el,"-right")]:F(n)&&t&&F(t.x)&&n>=t.x,["".concat(el,"-left")]:F(n)&&t&&F(t.x)&&n<t.x,["".concat(el,"-bottom")]:F(r)&&t&&F(t.y)&&r>=t.y,["".concat(el,"-top")]:F(r)&&t&&F(t.y)&&r<t.y})}function AT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&F(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),f=n[r]+i;if(t[r])return a[r]?c:f;var h=l[r];if(h==null)return 0;if(a[r]){var m=c,v=h;return m<v?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var g=f+s,y=h+u;return g>y?Math.max(c,h):Math.max(f,h)}function yK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,c,f,h;return s.height>0&&s.width>0&&n?(f=AT({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=AT({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=yK({translateX:f,translateY:h,useTranslate3d:l})):c=vK,{cssProperties:c,cssClasses:gK({translateX:f,translateY:h,coordinate:n})}}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){Ig(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ig(e,t,n){return(t=_K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _K(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SK extends E.PureComponent{constructor(){super(...arguments),Ig(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ig(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:b}=this.props,_=typeof u=="number"?u:u.x,w=typeof u=="number"?u:u.y,{cssClasses:S,cssProperties:A}=bK({allowEscapeViewBox:n,coordinate:a,offsetLeft:_,offsetTop:w,position:c,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),T=b?{}:Pc(Pc({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=Pc(Pc({},T),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:x,ref:y},o)}}var EP=()=>{var e;return(e=Y(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){EK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EK(e,t,n){return(t=TK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT={curveBasisClosed:U6,curveBasisOpen:L6,curveBasis:D6,curveBumpX:w6,curveBumpY:S6,curveLinearClosed:B6,curveLinear:yh,curveMonotoneX:$6,curveMonotoneY:z6,curveNatural:q6,curveStep:H6,curveStepAfter:j6,curveStepBefore:G6},md=e=>fe(e.x)&&fe(e.y),IT=e=>e.base!=null&&md(e.base)&&md(e),tl=e=>e.x,nl=e=>e.y,xK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pu(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=RT["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return RT[n]||yh},MT={connectNulls:!1,type:"linear"},CK=e=>{var{type:t=MT.type,points:n=[],baseLine:r,layout:i,connectNulls:o=MT.connectNulls}=e,a=xK(t,i),s=o?n.filter(md):n;if(Array.isArray(r)){var l,u=n.map((v,g)=>OT(OT({},v),{},{base:r[g]}));i==="vertical"?l=Tc().y(nl).x1(tl).x0(v=>v.base.x):l=Tc().x(tl).y1(nl).y0(v=>v.base.y);var c=l.defined(IT).curve(a),f=o?u.filter(IT):u;return c(f)}var h;i==="vertical"&&F(r)?h=Tc().y(nl).x1(tl).x0(r):F(r)?h=Tc().x(tl).y1(nl).y0(r):h=BI().x(tl).y(nl);var m=h.defined(md).curve(a);return m(s)},TP=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Ps();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},s=n&&n.length?CK(a):r;return E.createElement("path",Mg({},Ji(e),f5(e),{className:Me("recharts-curve",t),d:s===null?void 0:s,ref:i}))},OK=["x","y","top","left","width","height","className"];function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){IK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IK(e,t,n){return(t=MK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MK(e){var t=PK(e,"string");return typeof t=="symbol"?t:t+""}function PK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e,t){if(e==null)return{};var n,r,i=kK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DK=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),UK=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=NK(e,OK),u=RK({x:t,y:n,top:r,left:i,width:o,height:a},l);return!F(t)||!F(n)||!F(o)||!F(a)||!F(r)||!F(i)?null:E.createElement("path",Pg({},zn(u),{className:Me("recharts-cross",s),d:DK(t,n,o,a,r,i)}))};function LK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(r){BK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BK(e,t,n){return(t=$K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),AP=(e,t,n)=>e.map(r=>"".concat(qK(r)," ").concat(t,"ms ").concat(n)).join(","),HK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),cu=(e,t)=>Object.keys(t).reduce((n,r)=>kT(kT({},n),{},{[r]:e(r,t[r])}),{});function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){GK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GK(e,t,n){return(t=jK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd=(e,t,n)=>e+(t-e)*n,Ng=e=>{var{from:t,to:n}=e;return t!==n},xP=(e,t,n)=>{var r=cu((i,o)=>{if(Ng(o)){var[a,s]=e(o.from,o.to,o.velocity);return Ze(Ze({},o),{},{from:a,velocity:s})}return o},t);return n<1?cu((i,o)=>Ng(o)&&r[i]!=null?Ze(Ze({},o),{},{velocity:vd(o.velocity,r[i].velocity,n),from:vd(o.from,r[i].from,n)}):o,t):xP(e,r,n-1)};function FK(e,t,n,r,i,o){var a,s=r.reduce((h,m)=>Ze(Ze({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>cu((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Ng).length,c=null,f=h=>{a||(a=h);var m=h-a,v=m/n.dt;s=xP(n,s,v),i(Ze(Ze(Ze({},e),t),l())),a=h,u()||(c=o.setTimeout(f))};return()=>(c=o.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function KK(e,t,n,r,i,o,a){var s=null,l=i.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:Ze(Ze({},f),{},{[h]:[m,v]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/r,m=cu((g,y)=>vd(...y,n(h)),l);if(o(Ze(Ze(Ze({},e),t),m)),h<1)s=a.setTimeout(c);else{var v=cu((g,y)=>vd(...y,n(1)),l);o(Ze(Ze(Ze({},e),t),v))}};return()=>(s=a.setTimeout(c),()=>{var f;(f=s)===null||f===void 0||f()})}const YK=(e,t,n,r,i,o)=>{var a=HK(e,t);return n==null?()=>(i(Ze(Ze({},e),t)),()=>{}):n.isStepper===!0?FK(e,t,n,a,i,o):KK(e,t,n,r,a,i,o)};var gd=1e-4,CP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),UT=(e,t)=>n=>{var r=CP(e,t);return OP(r,n)},JK=(e,t)=>n=>{var r=CP(e,t),i=[...r.map((o,a)=>o*a).slice(1),0];return OP(i,n)},WK=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},XK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=WK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},QK=(e,t,n,r)=>{var i=UT(e,n),o=UT(t,r),a=JK(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var m=i(f)-c,v=a(f);if(Math.abs(m-c)<gd||v<gd)return o(f);f=s(f-m/v)}return o(f)};return l.isStepper=!1,l},LT=function(){return QK(...XK(...arguments))},ZK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<gd&&Math.abs(f)<gd?[s,0]:[h,f]};return o.isStepper=!0,o.dt=i,o},eY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LT(e);case"spring":return ZK();default:if(e.split("(")[0]==="cubic-bezier")return LT(e)}return typeof e=="function"?e:null};function tY(e){var t,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class nY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function rY(){return tY(new nY)}var iY=E.createContext(rY);function oY(e,t){var n=E.useContext(iY);return E.useMemo(()=>t??n(e),[e,t,n])}var aY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jh={isSsr:aY()},sY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BT={t:0},Em={t:1};function F0(e){var t=Gn(e,sY),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=n==="auto"?!jh.isSsr:n,f=oY(t.animationId,t.animationManager),[h,m]=E.useState(c?BT:Em),v=E.useRef(null);return E.useEffect(()=>{c||m(Em)},[c]),E.useEffect(()=>{if(!c||!r)return Ms;var g=YK(BT,Em,eY(o),i,m,f.getTimeoutController()),y=()=>{v.current=g()};return f.start([l,a,y,i,s]),()=>{f.stop(),v.current&&v.current(),s()}},[c,r,i,o,a,l,s,f]),u(h.t)}function K0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(ru(t)),r=E.useRef(e);return r.current!==e&&(n.current=ru(t),r.current=e),n.current}var lY=["radius"],uY=["radius"],$T,zT,qT,HT,GT,jT,VT,FT,KT,YT;function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){cY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cY(e,t,n){return(t=fY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(null,arguments)}function XT(e,t){if(e==null)return{};var n,r,i=hY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ur(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QT=(e,t,n,r,i)=>{var o=Ni(n),a=Ni(r),s=Math.min(Math.abs(o)/2,Math.abs(a)/2),l=a>=0?1:-1,u=o>=0?1:-1,c=a>=0&&o>=0||a<0&&o<0?1:0,f;if(s>0&&Array.isArray(i)){for(var h=[0,0,0,0],m=0,v=4;m<v;m++){var g,y=(g=i[m])!==null&&g!==void 0?g:0;h[m]=y>s?s:y}f=ze($T||($T=ur(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=ze(zT||(zT=ur(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),f+=ze(qT||(qT=ur(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=ze(HT||(HT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+n,t+l*h[1])),f+=ze(GT||(GT=ur(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=ze(jT||(jT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+n-u*h[2],t+r)),f+=ze(VT||(VT=ur(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=ze(FT||(FT=ur(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+r-l*h[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);f=ze(KT||(KT=ur(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,c,e+u*b,t,e+n-u*b,t,b,b,c,e+n,t+l*b,e+n,t+r-l*b,b,b,c,e+n-u*b,t+r,e+u*b,t+r,b,b,c,e,t+r-l*b)}else f=ze(YT||(YT=ur(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},ZT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RP=e=>{var t=Gn(e,ZT),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=E.useRef(s),b=E.useRef(l),_=E.useRef(o),w=E.useRef(a),S=E.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),A=K0(S,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var T=Me("recharts-rectangle",c);if(!g){var x=zn(t),{radius:R}=x,O=XT(x,lY);return E.createElement("path",yd({},O,{x:Ni(o),y:Ni(a),width:Ni(s),height:Ni(l),radius:typeof u=="number"?u:void 0,className:T,d:QT(o,a,s,l,u)}))}var I=y.current,N=b.current,P=_.current,G=w.current,q="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),D=AP(["strokeDasharray"],h,typeof f=="string"?f:ZT.animationEasing);return E.createElement(F0,{animationId:A,key:A,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},$=>{var B=St(I,s,$),V=St(N,l,$),X=St(P,o,$),De=St(G,a,$);n.current&&(y.current=B,b.current=V,_.current=X,w.current=De);var Ve;v?$>0?Ve={transition:D,strokeDasharray:Z}:Ve={strokeDasharray:q}:Ve={strokeDasharray:Z};var It=zn(t),{radius:Ue}=It,Sn=XT(It,uY);return E.createElement("path",yd({},Sn,{radius:typeof u=="number"?u:void 0,className:T,d:QT(X,De,B,V,u),ref:n,style:WT(WT({},Ve),t.style)}))})};function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=Math.PI/180,gY=e=>e*180/Math.PI,xt=(e,t,n,r)=>({x:e+Math.cos(-bd*r)*n,y:t+Math.sin(-bd*r)*n}),yY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},_Y=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=bY({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:gY(l),angleInRadian:l}},wY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},SY=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return e+a*360},EY=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=_Y({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=wY(t),c=o,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?tA(tA({},t),{},{radius:i,angle:SY(c,t)}):null};function IP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,a=xt(t,n,r,i),s=xt(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var nA,rA,iA,oA,aA,sA,lA;function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(null,arguments)}function So(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TY=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nc=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/bd,f=l?i:i+o*c,h=xt(t,n,u,f),m=xt(t,n,r,f),v=l?i-o*c:i,g=xt(t,n,u*Math.cos(c*bd),v);return{center:h,circleTangency:m,lineTangency:g,theta:c}},MP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=TY(o,a),l=o+s,u=xt(t,n,i,o),c=xt(t,n,i,l),f=ze(nA||(nA=So(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(o>l),c.x,c.y);if(r>0){var h=xt(t,n,r,o),m=xt(t,n,r,l);f+=ze(rA||(rA=So(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(o<=l),h.x,h.y)}else f+=ze(iA||(iA=So(["L ",","," Z"])),t,n);return f},AY=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=fn(u-l),{circleTangency:f,lineTangency:h,theta:m}=Nc({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:v,lineTangency:g,theta:y}=Nc({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),b=s?Math.abs(l-u):Math.abs(l-u)-m-y;if(b<0)return a?ze(oA||(oA=So(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,o,o,o*2,o,o,-o*2):MP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _=ze(aA||(aA=So(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,o,o,+(c<0),f.x,f.y,i,i,+(b>180),+(c<0),v.x,v.y,o,o,+(c<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:A}=Nc({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:T,lineTangency:x,theta:R}=Nc({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=s?Math.abs(l-u):Math.abs(l-u)-A-R;if(O<0&&o===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+=ze(sA||(sA=So(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),x.x,x.y,o,o,+(c<0),T.x,T.y,r,r,+(O>180),+(c>0),w.x,w.y,o,o,+(c<0),S.x,S.y)}else _+=ze(lA||(lA=So(["L",",","Z"])),t,n);return _},xY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PP=e=>{var t=Gn(e,xY),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(o<i||u===c)return null;var h=Me("recharts-sector",f),m=o-i,v=rr(a,m,0,!0),g;return v>0&&Math.abs(u-c)<360?g=AY({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):g=MP({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),E.createElement("path",kg({},zn(t),{className:h,d:g}))};function CY(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(eM(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=xt(r,i,o,s),u=xt(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return IP(t)}}var NP={},kP={},DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(kP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0,n=kP;function r(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}e.range=r})(NP);var OY=NP.range;const UP=or(OY);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y0(e){let t,n,r;e.length!==2?(t=Gi,n=(s,l)=>Gi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Gi||e===RY?e:IY,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function IY(){return 0}function LP(e){return e===null?NaN:+e}function*MY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const PY=Y0(Gi),Bu=PY.right;Y0(LP).center;class uA extends Map{constructor(t,n=DY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(cA(this,t))}has(t){return super.has(cA(this,t))}set(t,n){return super.set(NY(this,t),n)}delete(t){return super.delete(kY(this,t))}}function cA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function NY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function kY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function DY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UY(e=Gi){if(e===Gi)return BP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function BP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LY=Math.sqrt(50),BY=Math.sqrt(10),$Y=Math.sqrt(2);function _d(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=LY?10:o>=BY?5:o>=$Y?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?_d(e,t,n*2):[s,l,u]}function Dg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?_d(t,e,n):_d(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Ug(e,t,n){return t=+t,e=+e,n=+n,_d(e,t,n)[2]}function Lg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ug(t,e,n):Ug(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function fA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $P(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?BP:UY(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),v=Math.min(r,Math.floor(t+(l-u)*f/l+h));$P(e,t,m,v,i)}const o=e[t];let a=n,s=r;for(rl(e,n,t),i(e[r],o)>0&&rl(e,n,r);a<s;){for(rl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?rl(e,n,s):(++s,rl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function zY(e,t,n){if(e=Float64Array.from(MY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dA(e);if(t>=1)return fA(e);var r,i=(r-1)*t,o=Math.floor(i),a=fA($P(e,o).subarray(0,o+1)),s=dA(e.subarray(o+1));return a+(s-a)*(i-o)}}function qY(e,t,n=LP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function HY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bg=Symbol("implicit");function J0(){var e=new uA,t=[],n=[],r=Bg;function i(o){let a=e.get(o);if(a===void 0){if(r!==Bg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new uA;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return J0(t,n).unknown(r)},jn.apply(i,arguments),i}function W0(){var e=J0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,m=i<r,v=m?i:r,g=m?r:i;o=(g-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(g-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=HY(h).map(function(b){return v+o*b});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return W0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},jn.apply(f(),arguments)}function zP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zP(t())},e}function GY(){return zP(W0.apply(null,arguments).paddingInner(1))}function X0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $u(){}var fu=.7,wd=1/fu,Xa="\\s*([+-]?\\d+)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jY=/^#([0-9a-f]{3,8})$/,VY=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),FY=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),KY=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${du}\\)$`),YY=new RegExp(`^rgba\\(${br},${br},${br},${du}\\)$`),JY=new RegExp(`^hsl\\(${du},${br},${br}\\)$`),WY=new RegExp(`^hsla\\(${du},${br},${br},${du}\\)$`),hA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X0($u,hu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pA,formatHex:pA,formatHex8:XY,formatHsl:QY,formatRgb:mA,toString:mA});function pA(){return this.rgb().formatHex()}function XY(){return this.rgb().formatHex8()}function QY(){return HP(this).formatHsl()}function mA(){return this.rgb().formatRgb()}function hu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vA(t):n===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VY.exec(e))?new Yt(t[1],t[2],t[3],1):(t=FY.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KY.exec(e))?kc(t[1],t[2],t[3],t[4]):(t=YY.exec(e))?kc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JY.exec(e))?bA(t[1],t[2]/100,t[3]/100,1):(t=WY.exec(e))?bA(t[1],t[2]/100,t[3]/100,t[4]):hA.hasOwnProperty(e)?vA(hA[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function vA(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function kc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yt(e,t,n,r)}function ZY(e){return e instanceof $u||(e=hu(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function $g(e,t,n,r){return arguments.length===1?ZY(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}X0(Yt,$g,qP($u,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(Mo(this.r),Mo(this.g),Mo(this.b),Sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gA,formatHex:gA,formatHex8:e9,formatRgb:yA,toString:yA}));function gA(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function e9(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function yA(){const e=Sd(this.opacity);return`${e===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${e===1?")":`, ${e})`}`}function Sd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return e=Mo(e),(e<16?"0":"")+e.toString(16)}function bA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zn(e,t,n,r)}function HP(e){if(e instanceof Zn)return new Zn(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=hu(e)),!e)return new Zn;if(e instanceof Zn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Zn(a,s,l,e.opacity)}function t9(e,t,n,r){return arguments.length===1?HP(e):new Zn(e,t,n,r??1)}function Zn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}X0(Zn,t9,qP($u,{brighter(e){return e=e==null?wd:Math.pow(wd,e),new Zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Yt(Tm(e>=240?e-240:e+120,i,r),Tm(e,i,r),Tm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zn(_A(this.h),Dc(this.s),Dc(this.l),Sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sd(this.opacity);return`${e===1?"hsl(":"hsla("}${_A(this.h)}, ${Dc(this.s)*100}%, ${Dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _A(e){return e=(e||0)%360,e<0?e+360:e}function Dc(e){return Math.max(0,Math.min(1,e||0))}function Tm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Q0=e=>()=>e;function n9(e,t){return function(n){return e+n*t}}function r9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function i9(e){return(e=+e)==1?GP:function(t,n){return n-t?r9(t,n,e):Q0(isNaN(t)?n:t)}}function GP(e,t){var n=t-e;return n?n9(e,n):Q0(isNaN(e)?t:e)}const wA=function e(t){var n=i9(t);function r(i,o){var a=n((i=$g(i)).r,(o=$g(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=GP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function o9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function a9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function s9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ns(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function l9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ed(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function u9(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ns(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Am=new RegExp(zg.source,"g");function c9(e){return function(){return e}}function f9(e){return function(t){return e(t)+""}}function d9(e,t){var n=zg.lastIndex=Am.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=zg.exec(e))&&(i=Am.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ed(r,i)})),n=Am.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?f9(l[0].x):c9(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ns(e,t){var n=typeof t,r;return t==null||n==="boolean"?Q0(t):(n==="number"?Ed:n==="string"?(r=hu(t))?(t=r,wA):d9:t instanceof hu?wA:t instanceof Date?l9:a9(t)?o9:Array.isArray(t)?s9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u9:Ed)(e,t)}function Z0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function h9(e,t){t===void 0&&(t=e,e=Ns);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function p9(e){return function(){return e}}function Td(e){return+e}var SA=[0,1];function Dt(e){return e}function qg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:p9(isNaN(t)?NaN:.5)}function m9(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function v9(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=qg(i,r),o=n(a,o)):(r=qg(r,i),o=n(o,a)),function(s){return o(r(s))}}function g9(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=qg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Bu(e,s,1,r)-1;return o[l](i[l](s))}}function zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vh(){var e=SA,t=SA,n=Ns,r,i,o,a=Dt,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==Dt&&(a=m9(e[0],e[h-1])),s=h>2?g9:v9,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(t,e.map(r),Ed)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Td),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Z0,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Dt,c()):a!==Dt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,c()}}function eb(){return Vh()(Dt,Dt)}function y9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ad(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hs(e){return e=Ad(Math.abs(e)),e?e[1]:NaN}function b9(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function _9(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var w9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(e){if(!(t=w9.exec(e)))throw new Error("invalid format: "+e);var t;return new tb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pu.prototype=tb.prototype;function tb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S9(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var xd;function E9(e,t){var n=Ad(e,t);if(!n)return xd=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(xd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ad(e,Math.max(0,t+o-1))[0]}function EA(e,t){var n=Ad(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:y9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EA(e*100,t),r:EA,s:E9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AA(e){return e}var xA=Array.prototype.map,CA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T9(e){var t=e.grouping===void 0||e.thousands===void 0?AA:b9(xA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?AA:_9(xA.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=pu(f);var m=f.fill,v=f.align,g=f.sign,y=f.symbol,b=f.zero,_=f.width,w=f.comma,S=f.precision,A=f.trim,T=f.type;T==="n"?(w=!0,T="g"):TA[T]||(S===void 0&&(S=12),A=!0,T="g"),(b||m==="0"&&v==="=")&&(b=!0,m="0",v="=");var x=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),R=(y==="$"?r:/[%p]/.test(T)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),O=TA[T],I=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function N(P){var G=x,q=R,Z,D,$;if(T==="c")q=O(P)+q,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:O(Math.abs(P),S),A&&(P=S9(P)),B&&+P==0&&g!=="+"&&(B=!1),G=(B?g==="("?g:s:g==="-"||g==="("?"":g)+G,q=(T==="s"&&!isNaN(P)&&xd!==void 0?CA[8+xd/3]:"")+q+(B&&g==="("?")":""),I){for(Z=-1,D=P.length;++Z<D;)if($=P.charCodeAt(Z),48>$||$>57){q=($===46?i+P.slice(Z+1):P.slice(Z))+q,P=P.slice(0,Z);break}}}w&&!b&&(P=t(P,1/0));var V=G.length+P.length+q.length,X=V<_?new Array(_-V+1).join(m):"";switch(w&&b&&(P=t(X+P,X.length?_-q.length:1/0),X=""),v){case"<":P=G+P+q+X;break;case"=":P=G+X+P+q;break;case"^":P=X.slice(0,V=X.length>>1)+G+P+q+X.slice(V);break;default:P=X+G+P+q;break}return o(P)}return N.toString=function(){return f+""},N}function c(f,h){var m=Math.max(-8,Math.min(8,Math.floor(hs(h)/3)))*3,v=Math.pow(10,-m),g=u((f=pu(f),f.type="f",f),{suffix:CA[8+m/3]});return function(y){return g(v*y)}}return{format:u,formatPrefix:c}}var Uc,nb,jP;A9({thousands:",",grouping:[3],currency:["$",""]});function A9(e){return Uc=T9(e),nb=Uc.format,jP=Uc.formatPrefix,Uc}function x9(e){return Math.max(0,-hs(Math.abs(e)))}function C9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hs(t)/3)))*3-hs(Math.abs(e)))}function O9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hs(t)-hs(e))+1}function VP(e,t,n,r){var i=Lg(e,t,n),o;switch(r=pu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=C9(i,a))&&(r.precision=o),jP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=O9(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=x9(i))&&(r.precision=o-(r.type==="%")*2);break}}return nb(r)}function to(e){var t=e.domain;return e.ticks=function(n){var r=t();return Dg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Ug(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function FP(){var e=eb();return e.copy=function(){return zu(e,FP())},jn.apply(e,arguments),to(e)}function KP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Td),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return KP(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],to(n)}function YP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function OA(e){return Math.log(e)}function RA(e){return Math.exp(e)}function R9(e){return-Math.log(-e)}function I9(e){return-Math.exp(-e)}function M9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P9(e){return e===10?M9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function N9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IA(e){return(t,n)=>-e(-t,n)}function rb(e){const t=e(OA,RA),n=t.domain;let r=10,i,o;function a(){return i=N9(r),o=P9(r),n()[0]<0?(i=IA(i),o=IA(o),e(R9,I9)):e(OA,RA),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),v,g;const y=s==null?10:+s;let b=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/o(-h):v*o(h),!(g<u)){if(g>c)break;b.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/o(-h):v*o(h),!(g<u)){if(g>c)break;b.push(g)}b.length*2<y&&(b=Dg(u,c,y))}else b=Dg(h,m,Math.min(m-h,y)).map(o);return f?b.reverse():b},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pu(l)).precision==null&&(l.trim=!0),l=nb(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(YP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function JP(){const e=rb(Vh()).domain([1,10]);return e.copy=()=>zu(e,JP()).base(e.base()),jn.apply(e,arguments),e}function MA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function PA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ib(e){var t=1,n=e(MA(t),PA(t));return n.constant=function(r){return arguments.length?e(MA(t=+r),PA(t)):t},to(n)}function WP(){var e=ib(Vh());return e.copy=function(){return zu(e,WP()).constant(e.constant())},jn.apply(e,arguments)}function NA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D9(e){return e<0?-e*e:e*e}function ob(e){var t=e(Dt,Dt),n=1;function r(){return n===1?e(Dt,Dt):n===.5?e(k9,D9):e(NA(n),NA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},to(t)}function ab(){var e=ob(Vh());return e.copy=function(){return zu(e,ab()).exponent(e.exponent())},jn.apply(e,arguments),e}function U9(){return ab.apply(null,arguments).exponent(.5)}function kA(e){return Math.sign(e)*e*e}function L9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XP(){var e=eb(),t=[0,1],n=!1,r;function i(o){var a=L9(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(kA(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Td)).map(kA)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},jn.apply(i,arguments),to(i)}function QP(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=qY(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Bu(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gi),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return QP().domain(e).range(t).unknown(r)},jn.apply(o,arguments)}function ZP(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Bu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ZP().domain([e,t]).range(i).unknown(o)},jn.apply(to(a),arguments)}function eN(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Bu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eN().domain(e).range(t).unknown(n)},jn.apply(i,arguments)}const xm=new Date,Cm=new Date;function nt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>nt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(xm.setTime(+o),Cm.setTime(+a),e(xm),e(Cm),Math.floor(n(xm,Cm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cd=nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cd);Cd.range;const Br=1e3,kn=Br*60,$r=kn*60,Qr=$r*24,sb=Qr*7,DA=Qr*30,Om=Qr*365,To=nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getUTCSeconds());To.range;const lb=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Br)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getMinutes());lb.range;const ub=nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCMinutes());ub.range;const cb=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Br-e.getMinutes()*kn)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getHours());cb.range;const fb=nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCHours());fb.range;const qu=nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kn)/Qr,e=>e.getDate()-1);qu.range;const Fh=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>e.getUTCDate()-1);Fh.range;const tN=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>Math.floor(e/Qr));tN.range;function Qo(e){return nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*kn)/sb)}const Kh=Qo(0),Od=Qo(1),B9=Qo(2),$9=Qo(3),ps=Qo(4),z9=Qo(5),q9=Qo(6);Kh.range;Od.range;B9.range;$9.range;ps.range;z9.range;q9.range;function Zo(e){return nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sb)}const Yh=Zo(0),Rd=Zo(1),H9=Zo(2),G9=Zo(3),ms=Zo(4),j9=Zo(5),V9=Zo(6);Yh.range;Rd.range;H9.range;G9.range;ms.range;j9.range;V9.range;const db=nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());db.range;const hb=nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hb.range;const Zr=nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zr.range;const ei=nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ei.range;function nN(e,t,n,r,i,o){const a=[[To,1,Br],[To,5,5*Br],[To,15,15*Br],[To,30,30*Br],[o,1,kn],[o,5,5*kn],[o,15,15*kn],[o,30,30*kn],[i,1,$r],[i,3,3*$r],[i,6,6*$r],[i,12,12*$r],[r,1,Qr],[r,2,2*Qr],[n,1,sb],[t,1,DA],[t,3,3*DA],[e,1,Om]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),v=m?m.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,m=Y0(([,,y])=>y).right(a,h);if(m===a.length)return e.every(Lg(u/Om,c/Om,f));if(m===0)return Cd.every(Math.max(Lg(u,c,f),1));const[v,g]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(g)}return[s,l]}const[F9,K9]=nN(ei,hb,Yh,tN,fb,ub),[Y9,J9]=nN(Zr,db,Kh,qu,cb,lb);function Rm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Im(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function W9(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ol(i),c=al(i),f=ol(o),h=al(o),m=ol(a),v=al(a),g=ol(s),y=al(s),b=ol(l),_=al(l),w={a:$,A:B,b:V,B:X,c:null,d:qA,e:qA,f:b7,g:R7,G:M7,H:v7,I:g7,j:y7,L:rN,m:_7,M:w7,p:De,q:Ve,Q:jA,s:VA,S:S7,u:E7,U:T7,V:A7,w:x7,W:C7,x:null,X:null,y:O7,Y:I7,Z:P7,"%":GA},S={a:It,A:Ue,b:Sn,B:Hs,c:null,d:HA,e:HA,f:U7,g:F7,G:Y7,H:N7,I:k7,j:D7,L:oN,m:L7,M:B7,p:zt,q:bp,Q:jA,s:VA,S:$7,u:z7,U:q7,V:H7,w:G7,W:j7,x:null,X:null,y:V7,Y:K7,Z:J7,"%":GA},A={a:I,A:N,b:P,B:G,c:q,d:$A,e:$A,f:d7,g:BA,G:LA,H:zA,I:zA,j:l7,L:f7,m:s7,M:u7,p:O,q:a7,Q:p7,s:m7,S:c7,u:t7,U:n7,V:r7,w:e7,W:i7,x:Z,X:D,y:BA,Y:LA,Z:o7,"%":h7};w.x=T(n,w),w.X=T(r,w),w.c=T(t,w),S.x=T(n,S),S.X=T(r,S),S.c=T(t,S);function T(U,ie){return function(se){var L=[],qt=-1,Se=0,en=U.length,tn,io,n_;for(se instanceof Date||(se=new Date(+se));++qt<en;)U.charCodeAt(qt)===37&&(L.push(U.slice(Se,qt)),(io=UA[tn=U.charAt(++qt)])!=null?tn=U.charAt(++qt):io=tn==="e"?" ":"0",(n_=ie[tn])&&(tn=n_(se,io)),L.push(tn),Se=qt+1);return L.push(U.slice(Se,qt)),L.join("")}}function x(U,ie){return function(se){var L=il(1900,void 0,1),qt=R(L,U,se+="",0),Se,en;if(qt!=se.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ie&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Se=Im(il(L.y,0,1)),en=Se.getUTCDay(),Se=en>4||en===0?Rd.ceil(Se):Rd(Se),Se=Fh.offset(Se,(L.V-1)*7),L.y=Se.getUTCFullYear(),L.m=Se.getUTCMonth(),L.d=Se.getUTCDate()+(L.w+6)%7):(Se=Rm(il(L.y,0,1)),en=Se.getDay(),Se=en>4||en===0?Od.ceil(Se):Od(Se),Se=qu.offset(Se,(L.V-1)*7),L.y=Se.getFullYear(),L.m=Se.getMonth(),L.d=Se.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),en="Z"in L?Im(il(L.y,0,1)).getUTCDay():Rm(il(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(en+5)%7:L.w+L.U*7-(en+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Im(L)):Rm(L)}}function R(U,ie,se,L){for(var qt=0,Se=ie.length,en=se.length,tn,io;qt<Se;){if(L>=en)return-1;if(tn=ie.charCodeAt(qt++),tn===37){if(tn=ie.charAt(qt++),io=A[tn in UA?ie.charAt(qt++):tn],!io||(L=io(U,se,L))<0)return-1}else if(tn!=se.charCodeAt(L++))return-1}return L}function O(U,ie,se){var L=u.exec(ie.slice(se));return L?(U.p=c.get(L[0].toLowerCase()),se+L[0].length):-1}function I(U,ie,se){var L=m.exec(ie.slice(se));return L?(U.w=v.get(L[0].toLowerCase()),se+L[0].length):-1}function N(U,ie,se){var L=f.exec(ie.slice(se));return L?(U.w=h.get(L[0].toLowerCase()),se+L[0].length):-1}function P(U,ie,se){var L=b.exec(ie.slice(se));return L?(U.m=_.get(L[0].toLowerCase()),se+L[0].length):-1}function G(U,ie,se){var L=g.exec(ie.slice(se));return L?(U.m=y.get(L[0].toLowerCase()),se+L[0].length):-1}function q(U,ie,se){return R(U,t,ie,se)}function Z(U,ie,se){return R(U,n,ie,se)}function D(U,ie,se){return R(U,r,ie,se)}function $(U){return a[U.getDay()]}function B(U){return o[U.getDay()]}function V(U){return l[U.getMonth()]}function X(U){return s[U.getMonth()]}function De(U){return i[+(U.getHours()>=12)]}function Ve(U){return 1+~~(U.getMonth()/3)}function It(U){return a[U.getUTCDay()]}function Ue(U){return o[U.getUTCDay()]}function Sn(U){return l[U.getUTCMonth()]}function Hs(U){return s[U.getUTCMonth()]}function zt(U){return i[+(U.getUTCHours()>=12)]}function bp(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ie=T(U+="",w);return ie.toString=function(){return U},ie},parse:function(U){var ie=x(U+="",!1);return ie.toString=function(){return U},ie},utcFormat:function(U){var ie=T(U+="",S);return ie.toString=function(){return U},ie},utcParse:function(U){var ie=x(U+="",!0);return ie.toString=function(){return U},ie}}}var UA={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,X9=/^%/,Q9=/[\\^$*+?|[\]().{}]/g;function ue(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Z9(e){return e.replace(Q9,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(Z9).join("|")+")","i")}function al(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function e7(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function t7(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function n7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function r7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function i7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function LA(e,t,n){var r=pt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function BA(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function o7(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function a7(e,t,n){var r=pt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function s7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $A(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function l7(e,t,n){var r=pt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zA(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function u7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function c7(e,t,n){var r=pt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function f7(e,t,n){var r=pt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function d7(e,t,n){var r=pt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function h7(e,t,n){var r=X9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function p7(e,t,n){var r=pt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function m7(e,t,n){var r=pt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qA(e,t){return ue(e.getDate(),t,2)}function v7(e,t){return ue(e.getHours(),t,2)}function g7(e,t){return ue(e.getHours()%12||12,t,2)}function y7(e,t){return ue(1+qu.count(Zr(e),e),t,3)}function rN(e,t){return ue(e.getMilliseconds(),t,3)}function b7(e,t){return rN(e,t)+"000"}function _7(e,t){return ue(e.getMonth()+1,t,2)}function w7(e,t){return ue(e.getMinutes(),t,2)}function S7(e,t){return ue(e.getSeconds(),t,2)}function E7(e){var t=e.getDay();return t===0?7:t}function T7(e,t){return ue(Kh.count(Zr(e)-1,e),t,2)}function iN(e){var t=e.getDay();return t>=4||t===0?ps(e):ps.ceil(e)}function A7(e,t){return e=iN(e),ue(ps.count(Zr(e),e)+(Zr(e).getDay()===4),t,2)}function x7(e){return e.getDay()}function C7(e,t){return ue(Od.count(Zr(e)-1,e),t,2)}function O7(e,t){return ue(e.getFullYear()%100,t,2)}function R7(e,t){return e=iN(e),ue(e.getFullYear()%100,t,2)}function I7(e,t){return ue(e.getFullYear()%1e4,t,4)}function M7(e,t){var n=e.getDay();return e=n>=4||n===0?ps(e):ps.ceil(e),ue(e.getFullYear()%1e4,t,4)}function P7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function HA(e,t){return ue(e.getUTCDate(),t,2)}function N7(e,t){return ue(e.getUTCHours(),t,2)}function k7(e,t){return ue(e.getUTCHours()%12||12,t,2)}function D7(e,t){return ue(1+Fh.count(ei(e),e),t,3)}function oN(e,t){return ue(e.getUTCMilliseconds(),t,3)}function U7(e,t){return oN(e,t)+"000"}function L7(e,t){return ue(e.getUTCMonth()+1,t,2)}function B7(e,t){return ue(e.getUTCMinutes(),t,2)}function $7(e,t){return ue(e.getUTCSeconds(),t,2)}function z7(e){var t=e.getUTCDay();return t===0?7:t}function q7(e,t){return ue(Yh.count(ei(e)-1,e),t,2)}function aN(e){var t=e.getUTCDay();return t>=4||t===0?ms(e):ms.ceil(e)}function H7(e,t){return e=aN(e),ue(ms.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function G7(e){return e.getUTCDay()}function j7(e,t){return ue(Rd.count(ei(e)-1,e),t,2)}function V7(e,t){return ue(e.getUTCFullYear()%100,t,2)}function F7(e,t){return e=aN(e),ue(e.getUTCFullYear()%100,t,2)}function K7(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function Y7(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ms(e):ms.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function J7(){return"+0000"}function GA(){return"%"}function jA(e){return+e}function VA(e){return Math.floor(+e/1e3)}var fa,sN,lN;W7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W7(e){return fa=W9(e),sN=fa.format,fa.parse,lN=fa.utcFormat,fa.utcParse,fa}function X7(e){return new Date(e)}function Q7(e){return e instanceof Date?+e:+new Date(+e)}function pb(e,t,n,r,i,o,a,s,l,u){var c=eb(),f=c.invert,h=c.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),S=u("%Y");function A(T){return(l(T)<T?m:s(T)<T?v:a(T)<T?g:o(T)<T?y:r(T)<T?i(T)<T?b:_:n(T)<T?w:S)(T)}return c.invert=function(T){return new Date(f(T))},c.domain=function(T){return arguments.length?h(Array.from(T,Q7)):h().map(X7)},c.ticks=function(T){var x=h();return e(x[0],x[x.length-1],T??10)},c.tickFormat=function(T,x){return x==null?A:u(x)},c.nice=function(T){var x=h();return(!T||typeof T.range!="function")&&(T=t(x[0],x[x.length-1],T??10)),T?h(YP(x,T)):c},c.copy=function(){return zu(c,pb(e,t,n,r,i,o,a,s,l,u))},c}function Z7(){return jn.apply(pb(Y9,J9,Zr,db,Kh,qu,cb,lb,To,sN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eJ(){return jn.apply(pb(F9,K9,ei,hb,Yh,Fh,fb,ub,To,lN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jh(){var e=0,t=1,n,r,i,o,a=Dt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var m,v;return arguments.length?([m,v]=h,a=f(m,v),u):[a(0),a(1)]}}return u.range=c(Ns),u.rangeRound=c(Z0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function no(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uN(){var e=to(Jh()(Dt));return e.copy=function(){return no(e,uN())},ci.apply(e,arguments)}function cN(){var e=rb(Jh()).domain([1,10]);return e.copy=function(){return no(e,cN()).base(e.base())},ci.apply(e,arguments)}function fN(){var e=ib(Jh());return e.copy=function(){return no(e,fN()).constant(e.constant())},ci.apply(e,arguments)}function mb(){var e=ob(Jh());return e.copy=function(){return no(e,mb()).exponent(e.exponent())},ci.apply(e,arguments)}function tJ(){return mb.apply(null,arguments).exponent(.5)}function dN(){var e=[],t=Dt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Bu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>zY(e,o/r))},n.copy=function(){return dN(t).domain(e)},ci.apply(n,arguments)}function Wh(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=Dt,c,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var b,_,w;return arguments.length?([b,_,w]=y,u=h9(g,[b,_,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Ns),m.rangeRound=v(Z0),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function hN(){var e=to(Wh()(Dt));return e.copy=function(){return no(e,hN())},ci.apply(e,arguments)}function pN(){var e=rb(Wh()).domain([.1,1,10]);return e.copy=function(){return no(e,pN()).base(e.base())},ci.apply(e,arguments)}function mN(){var e=ib(Wh());return e.copy=function(){return no(e,mN()).constant(e.constant())},ci.apply(e,arguments)}function vb(){var e=ob(Wh());return e.copy=function(){return no(e,vb()).exponent(e.exponent())},ci.apply(e,arguments)}function nJ(){return vb.apply(null,arguments).exponent(.5)}const vl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W0,scaleDiverging:hN,scaleDivergingLog:pN,scaleDivergingPow:vb,scaleDivergingSqrt:nJ,scaleDivergingSymlog:mN,scaleIdentity:KP,scaleImplicit:Bg,scaleLinear:FP,scaleLog:JP,scaleOrdinal:J0,scalePoint:GY,scalePow:ab,scaleQuantile:QP,scaleQuantize:ZP,scaleRadial:XP,scaleSequential:uN,scaleSequentialLog:cN,scaleSequentialPow:mb,scaleSequentialQuantile:dN,scaleSequentialSqrt:tJ,scaleSequentialSymlog:fN,scaleSqrt:U9,scaleSymlog:WP,scaleThreshold:eN,scaleTime:Z7,scaleUtc:eJ,tickFormat:VP},Symbol.toStringTag,{value:"Module"}));var fi=e=>e.chartData,vN=M([fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gN=(e,t,n,r)=>r?vN(e):fi(e),rJ=(e,t,n)=>n?vN(e):fi(e);function ti(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fe(t)&&fe(n))return!0}return!1}function FA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yN(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(fe(n))i=n;else if(typeof n=="function")return;if(fe(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(ti(a))return a}}function iJ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ti(r))return FA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(F(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&fT.test(i)){var l=fT.exec(i);if(l==null||l[1]==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(F(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&dT.test(o)){var c=dT.exec(o);if(c==null||c[1]==null||t==null)s=void 0;else{var f=+c[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[a,s];if(ti(h))return t==null?h:FA(h,t,n)}}}var ks=1e9,oJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yb,ke=!0,Hn="[DecimalError] ",Po=Hn+"Invalid argument: ",gb=Hn+"Exponent out of range: ",Ds=Math.floor,yo=Math.pow,aJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,at=1e7,Ce=7,bN=9007199254740991,Id=Ds(bN/Ce),H={};H.absoluteValue=H.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};H.comparedTo=H.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};H.decimalPlaces=H.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ce;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};H.dividedBy=H.div=function(e){return Gr(this,new this.constructor(e))};H.dividedToIntegerBy=H.idiv=function(e){var t=this,n=t.constructor;return ye(Gr(t,new n(e),0,1),n.precision)};H.equals=H.eq=function(e){return!this.cmp(e)};H.exponent=function(){return Xe(this)};H.greaterThan=H.gt=function(e){return this.cmp(e)>0};H.greaterThanOrEqualTo=H.gte=function(e){return this.cmp(e)>=0};H.isInteger=H.isint=function(){return this.e>this.d.length-2};H.isNegative=H.isneg=function(){return this.s<0};H.isPositive=H.ispos=function(){return this.s>0};H.isZero=function(){return this.s===0};H.lessThan=H.lt=function(e){return this.cmp(e)<0};H.lessThanOrEqualTo=H.lte=function(e){return this.cmp(e)<1};H.logarithm=H.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ln))throw Error(Hn+"NaN");if(n.s<1)throw Error(Hn+(n.s?"NaN":"-Infinity"));return n.eq(ln)?new r(0):(ke=!1,t=Gr(mu(n,o),mu(e,o),o),ke=!0,ye(t,i))};H.minus=H.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SN(t,e):_N(t,(e.s=-e.s,e))};H.modulo=H.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Hn+"NaN");return n.s?(ke=!1,t=Gr(n,e,0,1).times(e),ke=!0,n.minus(t)):ye(new r(n),i)};H.naturalExponential=H.exp=function(){return wN(this)};H.naturalLogarithm=H.ln=function(){return mu(this)};H.negated=H.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};H.plus=H.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_N(t,e):SN(t,(e.s=-e.s,e))};H.precision=H.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=Xe(i)+1,r=i.d.length-1,n=r*Ce+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};H.squareRoot=H.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Hn+"NaN")}for(e=Xe(s),ke=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ds((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Gr(s,o,a+2)).times(.5),gr(o.d).slice(0,a)===(t=gr(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return ke=!0,ye(r,n)};H.times=H.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,m=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+t,o[i--]=s%at|0,t=s/at|0;o[i]=(o[i]+t)%at|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ke?ye(e,f.precision):e};H.toDecimalPlaces=H.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Sr(e,0,ks),t===void 0?t=r.rounding:Sr(t,0,8),ye(n,e+Xe(n)+1,t))};H.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=jo(r,!0):(Sr(e,0,ks),t===void 0?t=i.rounding:Sr(t,0,8),r=ye(new i(r),e+1,t),n=jo(r,!0,e+1)),n};H.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?jo(i):(Sr(e,0,ks),t===void 0?t=o.rounding:Sr(t,0,8),r=ye(new o(i),e+Xe(i)+1,t),n=jo(r.abs(),!1,e+Xe(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};H.toInteger=H.toint=function(){var e=this,t=e.constructor;return ye(new t(e),Xe(e)+1,t.rounding)};H.toNumber=function(){return+this};H.toPower=H.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(ln);if(s=new l(s),!s.s){if(e.s<1)throw Error(Hn+"Infinity");return s}if(s.eq(ln))return s;if(r=l.precision,e.eq(ln))return ye(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=bN){for(i=new l(ln),t=Math.ceil(r/Ce+4),ke=!1;n%2&&(i=i.times(s),YA(i.d,t)),n=Ds(n/2),n!==0;)s=s.times(s),YA(s.d,t);return ke=!0,e.s<0?new l(ln).div(i):ye(i,r)}}else if(o<0)throw Error(Hn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,ke=!1,i=e.times(mu(s,r+u)),ke=!0,i=wN(i),i.s=o,i};H.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Xe(i),r=jo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Sr(e,1,ks),t===void 0?t=o.rounding:Sr(t,0,8),i=ye(new o(i),e,t),n=Xe(i),r=jo(i,e<=n||n<=o.toExpNeg,e)),r};H.toSignificantDigits=H.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Sr(e,1,ks),t===void 0?t=r.rounding:Sr(t,0,8)),ye(new r(n),e,t)};H.toString=H.valueOf=H.val=H.toJSON=H[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xe(e),n=e.constructor;return jo(e,t<=n.toExpNeg||t>=n.toExpPos)};function _N(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),ke?ye(t,f):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ce),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/at|0,l[o]%=at;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,ke?ye(t,f):t}function Sr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Po+e)}function gr(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Ce-r.length,n&&(o+=bi(n)),o+=r;a=e[t],r=a+"",n=Ce-r.length,n&&(o+=bi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Gr=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%at|0,a=o/at|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*at+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,m,v,g,y,b,_,w,S,A,T,x,R,O=r.constructor,I=r.s==i.s?1:-1,N=r.d,P=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Hn+"Division by zero");for(l=r.e-i.e,x=P.length,A=N.length,m=new O(I),v=m.d=[],u=0;P[u]==(N[u]||0);)++u;if(P[u]>(N[u]||0)&&--l,o==null?_=o=O.precision:a?_=o+(Xe(r)-Xe(i))+1:_=o,_<0)return new O(0);if(_=_/Ce+2|0,u=0,x==1)for(c=0,P=P[0],_++;(u<A||c)&&_--;u++)w=c*at+(N[u]||0),v[u]=w/P|0,c=w%P|0;else{for(c=at/(P[0]+1)|0,c>1&&(P=e(P,c),N=e(N,c),x=P.length,A=N.length),S=x,g=N.slice(0,x),y=g.length;y<x;)g[y++]=0;R=P.slice(),R.unshift(0),T=P[0],P[1]>=at/2&&++T;do c=0,s=t(P,g,x,y),s<0?(b=g[0],x!=y&&(b=b*at+(g[1]||0)),c=b/T|0,c>1?(c>=at&&(c=at-1),f=e(P,c),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(c--,n(f,x<h?R:P,h))):(c==0&&(s=c=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=t(P,g,x,y),s<1&&(c++,n(g,x<y?R:P,y))),y=g.length):s===0&&(c++,g=[0]),v[u++]=c,s&&g[0]?g[y++]=N[S]||0:(g=[N[S]],y=1);while((S++<A||g[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,ye(m,a?o+Xe(m)+1:o)}}();function wN(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,f=c.precision;if(Xe(e)>16)throw Error(gb+Xe(e));if(!e.s)return new c(ln);for(ke=!1,s=f,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(yo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(ln),c.precision=s;;){if(i=ye(i.times(e),s),n=n.times(++l),a=o.plus(Gr(i,n,s)),gr(a.d).slice(0,s)===gr(o.d).slice(0,s)){for(;u--;)o=ye(o.times(o),s);return c.precision=f,t==null?(ke=!0,ye(o,f)):o}o=a}}function Xe(e){for(var t=e.e*Ce,n=e.d[0];n>=10;n/=10)t++;return t}function Mm(e,t,n){if(t>e.LN10.sd())throw ke=!0,n&&(e.precision=n),Error(Hn+"LN10 precision limit exceeded");return ye(new e(e.LN10),t)}function bi(e){for(var t="";e--;)t+="0";return t}function mu(e,t){var n,r,i,o,a,s,l,u,c,f=1,h=10,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Hn+(m.s?"NaN":"-Infinity"));if(m.eq(ln))return new g(0);if(t==null?(ke=!1,u=y):u=t,m.eq(10))return t==null&&(ke=!0),Mm(g,u);if(u+=h,g.precision=u,n=gr(v),r=n.charAt(0),o=Xe(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=gr(m.d),r=n.charAt(0),f++;o=Xe(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Mm(g,u+2,y).times(o+""),m=mu(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=y,t==null?(ke=!0,ye(m,y)):m;for(s=a=m=Gr(m.minus(ln),m.plus(ln),u),c=ye(m.times(m),u),i=3;;){if(a=ye(a.times(c),u),l=s.plus(Gr(a,new g(i),u)),gr(l.d).slice(0,u)===gr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Mm(g,u+2,y).times(o+""))),s=Gr(s,new g(f),u),g.precision=y,t==null?(ke=!0,ye(s,y)):s;s=l,i+=2}}function KA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ds(n/Ce),e.d=[],r=(n+1)%Ce,n<0&&(r+=Ce),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ce;r<i;)e.d.push(+t.slice(r,r+=Ce));t=t.slice(r),r=Ce-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ke&&(e.e>Id||e.e<-Id))throw Error(gb+n)}else e.s=0,e.e=0,e.d=[0];return e}function ye(e,t,n){var r,i,o,a,s,l,u,c,f=e.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Ce,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/Ce),o=f.length,c>=o)return e;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Ce,i=r-Ce+a}if(n!==void 0&&(o=yo(10,a-i-1),s=u/o%10|0,l=t<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/yo(10,a-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=Xe(e),f.length=1,t=t-o-1,f[0]=yo(10,(Ce-t%Ce)%Ce),e.e=Ds(-t/Ce)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=yo(10,Ce-r),f[c]=i>0?(u/yo(10,a-i)%yo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==at&&(f[0]=1,++e.e);break}else{if(f[c]+=o,f[c]!=at)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ke&&(e.e>Id||e.e<-Id))throw Error(gb+Xe(e));return e}function SN(e,t){var n,r,i,o,a,s,l,u,c,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ke?ye(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Ce),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=at-1;--l[o],l[i]+=at}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ke?ye(t,m):t):new h(0)}function jo(e,t,n){var r,i=Xe(e),o=gr(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+bi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+bi(-i-1)+o,n&&(r=n-a)>0&&(o+=bi(r))):i>=a?(o+=bi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+bi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=bi(r))),e.s<0?"-"+o:o}function YA(e,t){if(e.length>t)return e.length=t,!0}function EN(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Po+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return KA(a,o.toString())}else if(typeof o!="string")throw Error(Po+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,aJ.test(o))KA(a,o);else throw Error(Po+o)}if(i.prototype=H,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EN,i.config=i.set=sJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function sJ(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,n,r,i=["precision",1,ks,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ds(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Po+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Po+n+": "+r);return this}var yb=EN(oJ);ln=new yb(1);const pe=yb;function TN(e){var t;return e===0?t=1:t=Math.floor(new pe(e).abs().log(10).toNumber())+1,t}function AN(e,t,n){for(var r=new pe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var xN=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},CN=(e,t,n)=>{if(e.lte(0))return new pe(0);var r=TN(e.toNumber()),i=new pe(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new pe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?new pe(l.toNumber()):new pe(Math.ceil(l.toNumber()))},lJ=(e,t,n)=>{var r=new pe(1),i=new pe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new pe(10).pow(TN(e)-1),i=new pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pe(Math.floor(e)))}else e===0?i=new pe(Math.floor((t-1)/2)):n||(i=new pe(Math.floor(e)));for(var a=Math.floor((t-1)/2),s=[],l=0;l<t;l++)s.push(i.add(new pe(l-a).mul(r)).toNumber());return s},ON=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var a=CN(new pe(n).sub(t).div(r-1),i,o),s;t<=0&&n>=0?s=new pe(0):(s=new pe(t).add(n).div(2),s=s.sub(new pe(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new pe(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?ON(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new pe(l).mul(a)),tickMax:s.add(new pe(u).mul(a))})},uJ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=xN([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return lJ(s,i,o);var{step:c,tickMin:f,tickMax:h}=ON(s,l,a,o,0),m=AN(f,h.add(new pe(.1).mul(c)),c);return n>r?m.reverse():m},cJ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=xN([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=CN(new pe(s).sub(a).div(l-1),o,0),c=[...AN(new pe(a),new pe(s),u),s];return o===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},RN=e=>e.rootProps.maxBarSize,fJ=e=>e.rootProps.barGap,IN=e=>e.rootProps.barCategoryGap,dJ=e=>e.rootProps.barSize,Xh=e=>e.rootProps.stackOffset,MN=e=>e.rootProps.reverseStackOrder,bb=e=>e.options.chartName,_b=e=>e.rootProps.syncId,PN=e=>e.rootProps.syncMethod,wb=e=>e.options.eventEmitter,Jt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},cr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Qh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Zh(e,t,n){if(n!=="auto")return n;if(e!=null)return eo(e,t)?"category":"number"}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WA={allowDataOverflow:lo.allowDataOverflow,allowDecimals:lo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:lo.reversed,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:lo.type,unit:void 0},XA={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:cr.includeHidden,name:void 0,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:cr.type,unit:void 0},vJ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Sb=M([vJ,mP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Zh(t,"angleAxis",WA.type))!==null&&n!==void 0?n:"category";return Md(Md({},WA),{},{type:r})}),gJ=(e,t)=>e.polarAxis.radiusAxis[t],Eb=M([gJ,mP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Zh(t,"radiusAxis",XA.type))!==null&&n!==void 0?n:"category";return Md(Md({},XA),{},{type:r})}),ep=e=>e.polarOptions,Tb=M([li,ui,ht],yY),NN=M([ep,Tb],(e,t)=>{if(e!=null)return rr(e.innerRadius,t,0)}),kN=M([ep,Tb],(e,t)=>{if(e!=null)return rr(e.outerRadius,t,t*.8)}),yJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},DN=M([ep],yJ);M([Sb,DN],Qh);var UN=M([Tb,NN,kN],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});M([Eb,UN],Qh);var LN=M([_e,ep,NN,kN,li,ui],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:rr(a,i,i/2),cy:rr(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),mt=(e,t)=>t,tp=(e,t,n)=>n;function Ab(e){return e==null?void 0:e.id}function BN(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=Ab(s);u.forEach((f,h)=>{var m=o==null||i?h:String(Ot(f,o,null)),v=Ot(f,s.dataKey,0),g;a.has(m)?g=a.get(m):g={},Object.assign(g,{[c]:v}),a.set(m,g)})}}),Array.from(a.values())}function np(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var rp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ip(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function bJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var vt=e=>{var t=_e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Us=e=>e.tooltip.settings.axisId;function _J(e){if(e in vl)return vl[e]();var t="scale".concat(Pu(e));if(t in vl)return vl[t]()}function QA(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],s=i[1];return a<=s?o>=a&&o<=s:o>=s&&o<=a},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,a)=>{var s=e(o);if(s!=null){if(e.bandwidth&&a!==null&&a!==void 0&&a.position){var l=e.bandwidth();switch(a.position){case"middle":s+=l/2;break;case"end":s+=l;break}}return s}}}}function ZA(e,t,n){if(typeof e=="function")return QA(e.copy().domain(t).range(n));if(e!=null){var r=_J(e);if(r!=null)return r.domain(t).range(n),QA(r)}}var wJ=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ti(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];fe(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hg=[0,"auto"],it={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$N=(e,t)=>e.cartesianAxis.xAxis[t],di=(e,t)=>{var n=$N(e,t);return n??it},ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Du},zN=(e,t)=>e.cartesianAxis.yAxis[t],hi=(e,t)=>{var n=zN(e,t);return n??ot},AJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??AJ},$t=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);case"zAxis":return xb(e,n);case"angleAxis":return Sb(e,n);case"radiusAxis":return Eb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xJ=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hu=(e,t,n)=>{switch(t){case"xAxis":return di(e,n);case"yAxis":return hi(e,n);case"angleAxis":return Sb(e,n);case"radiusAxis":return Eb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function HN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Cb=e=>e.graphicalItems.cartesianItems,CJ=M([mt,tp],HN),GN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Gu=M([Cb,$t,CJ],GN,{memoizeOptions:{resultEqualityCheck:ip}}),jN=M([Gu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(np)),VN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OJ=M([Gu],VN),FN=e=>e.map(t=>t.data).filter(Boolean).flat(1),RJ=M([Gu],FN,{memoizeOptions:{resultEqualityCheck:ip}}),KN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ob=M([RJ,gN],KN),YN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ot(i,r)}))):e.map(r=>({value:r})),op=M([Ob,$t,Gu],YN);function JN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lf(e){if(wr(e)||e instanceof Date){var t=Number(e);if(fe(t))return t}}function tx(e){if(Array.isArray(e)){var t=[lf(e[0]),lf(e[1])];return ti(t)?t:void 0}var n=lf(e);if(n!=null)return[n,n]}function ni(e){return e.map(lf).filter(mr)}function IJ(e,t,n){return!n||typeof t!="number"||_r(t)?[]:n.length?ni(n.flatMap(r=>{var i=Ot(e,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!fe(o)||!fe(a)))return[t-o,t+a]})):[]}var rt=e=>{var t=vt(e),n=Us(e);return Hu(e,t,n)},ju=M([rt],e=>e==null?void 0:e.dataKey),MJ=M([jN,gN,rt],BN),WN=(e,t,n,r)=>{var i={},o=t.reduce((a,s)=>{if(s.stackId==null)return a;var l=a[s.stackId];return l==null&&(l=[]),l.push(s),a[s.stackId]=l,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(Ab);return[s,{stackedData:u8(e,c,n),graphicalItems:u}]}))},Gg=M([MJ,jN,Xh,MN],WN),XN=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var a=p8(e,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},PJ=M([$t],e=>e.allowDataOverflow),Rb=e=>{var t;if(e==null||!("domain"in e))return Hg;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ni(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Hg},QN=M([$t],Rb),ZN=M([QN,PJ],yN),NJ=M([Gg,fi,mt,ZN],XN,{memoizeOptions:{resultEqualityCheck:rp}}),Ib=e=>e.errorBars,kJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>JN(n,r)),Nd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},ek=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(b=>JN(i,b)),h=Ot(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=IJ(s,h,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(o==null||v<o)&&(o=v),(a==null||g>a)&&(a=g)}var y=tx(h);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),a=a==null?y[1]:Math.max(a,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=tx(Ot(s,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),fe(o)&&fe(a))return[o,a]},DJ=M([Ob,$t,OJ,Ib,mt],ek,{memoizeOptions:{resultEqualityCheck:rp}});function UJ(e){var{value:t}=e;if(wr(t)||t instanceof Date)return t}var LJ=(e,t,n)=>{var r=e.map(UJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&XI(r))?UP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},tk=e=>e.referenceElements.dots,Ls=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BJ=M([tk,mt,tp],Ls),nk=e=>e.referenceElements.areas,$J=M([nk,mt,tp],Ls),rk=e=>e.referenceElements.lines,zJ=M([rk,mt,tp],Ls),ik=(e,t)=>{if(e!=null){var n=ni(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qJ=M(BJ,mt,ik),ok=(e,t)=>{if(e!=null){var n=ni(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},HJ=M([$J,mt],ok);function GJ(e){var t;if(e.x!=null)return ni([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ni(n)}function jJ(e){var t;if(e.y!=null)return ni([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ni(n)}var ak=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?GJ(r):jJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VJ=M([zJ,mt],ak),FJ=M(qJ,VJ,HJ,(e,t,n)=>Nd(e,n,t)),sk=(e,t,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?Nd(r,o,i):Nd(o,i);return iJ(t,u,e.allowDataOverflow)},KJ=M([$t,QN,ZN,NJ,DJ,FJ,_e,mt],sk,{memoizeOptions:{resultEqualityCheck:rp}}),YJ=[0,1],lk=(e,t,n,r,i,o,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,u=eo(t,o);if(u&&s==null){var c;return UP(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?LJ(r,e,u):i==="expand"?YJ:a}},Mb=M([$t,_e,Ob,op,Xh,mt,KJ],lk);function JJ(e){return e in vl}var uk=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Pu(r));return JJ(o)?o:"point"}}},Bs=M([$t,qN,bb],uk);function Pb(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?ZA(e.scale,n,r):ZA(t,n,r)}var ck=(e,t,n)=>{var r=Rb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ti(e))return uJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ti(e))return cJ(e,t.tickCount,t.allowDecimals)}},Nb=M([Mb,Hu,Bs],ck),fk=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ti(t)&&Array.isArray(n)&&n.length>0){var i,o,a=t[0],s=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,s),Math.max(l,u)]}return t},WJ=M([$t,Mb,Nb,mt],fk),XJ=M(op,$t,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ni(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/a}}),dk=M(XJ,_e,IN,ht,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!fe(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=rr(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),QJ=(e,t,n)=>{var r=di(e,t);return r==null||typeof r.padding!="string"?0:dk(e,"xAxis",t,n,r.padding)},ZJ=(e,t,n)=>{var r=hi(e,t);return r==null||typeof r.padding!="string"?0:dk(e,"yAxis",t,n,r.padding)},eW=M(di,QJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),tW=M(hi,ZJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),nW=M([ht,eW,$h,Bh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),rW=M([ht,_e,tW,$h,Bh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Vu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return nW(e,n,r);case"yAxis":return rW(e,n,r);case"zAxis":return(i=xb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return DN(e);case"radiusAxis":return UN(e,n);default:return}},hk=M([$t,Vu],Qh),iW=M([Bs,WJ],wJ),ap=M([$t,Bs,iW,hk],Pb);M([Gu,Ib,mt],kJ);function pk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sp=(e,t)=>t,lp=(e,t,n)=>n,oW=M(Uh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pk)),aW=M(Lh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pk)),mk=(e,t)=>({width:e.width,height:t.height}),sW=(e,t)=>{var n=typeof t.width=="number"?t.width:Du;return{width:n,height:e.height}},vk=M(ht,di,mk),lW=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},uW=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},cW=M(ui,ht,oW,sp,lp,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=mk(t,s);a==null&&(a=lW(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),fW=M(li,ht,aW,sp,lp,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=sW(t,s);a==null&&(a=uW(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),dW=(e,t)=>{var n=di(e,t);if(n!=null)return cW(e,n.orientation,n.mirror)},hW=M([ht,di,dW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),pW=(e,t)=>{var n=hi(e,t);if(n!=null)return fW(e,n.orientation,n.mirror)},mW=M([ht,hi,pW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),gk=M(ht,hi,(e,t)=>{var n=typeof t.width=="number"?t.width:Du;return{width:n,height:e.height}}),nx=(e,t,n)=>{switch(t){case"xAxis":return vk(e,n).width;case"yAxis":return gk(e,n).height;default:return}},yk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=eo(e,r),l=t.map(u=>u.value);if(a&&s&&o==="category"&&i&&XI(l))return l}},kb=M([_e,op,$t,mt],yk),bk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=eo(e,r);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},Db=M([_e,op,Hu,mt],bk);M([_e,xJ,Bs,ap,kb,Db,Vu,Nb,mt],(e,t,n,r,i,o,a,s,l)=>{if(t!=null){var u=eo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}});var vW=(e,t,n,r,i,o,a,s,l)=>{if(!(t==null||r==null)){var u=eo(e,l),{type:c,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/m:0;v=l==="angleAxis"&&o!=null&&o.length>=2?fn(o[0]-o[1])*2*v:v;var g=f||i;return g?g.map((y,b)=>{var _=a?a.indexOf(y):y,w=r.map(_);return fe(w)?{index:b,coordinate:w+v,value:y,offset:v}:null}).filter(mr):u&&s?s.map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:y,index:b,offset:v}:null}).filter(mr):r.ticks?r.ticks(h).map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:y,index:b,offset:v}:null}).filter(mr):r.domain().map((y,b)=>{var _=r.map(y);return fe(_)?{coordinate:_+v,value:a?a[y]:y,index:b,offset:v}:null}).filter(mr)}},_k=M([_e,Hu,Bs,ap,Nb,Vu,kb,Db,mt],vW),gW=(e,t,n,r,i,o,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=eo(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?fn(r[0]-r[1])*2*u:u,s&&o?o.map((c,f)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(mr):n.ticks?n.ticks(l).map((c,f)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(mr):n.domain().map((c,f)=>{var h=n.map(c);return fe(h)?{coordinate:h+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(mr)}},vs=M([_e,Hu,ap,Vu,kb,Db,mt],gW),gs=M($t,ap,(e,t)=>{if(!(e==null||t==null))return Pd(Pd({},e),{},{scale:t})}),yW=M([$t,Bs,Mb,hk],Pb);M((e,t,n)=>xb(e,n),yW,(e,t)=>{if(!(e==null||t==null))return Pd(Pd({},e),{},{scale:t})});var bW=M([_e,Uh,Lh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wk=e=>e.options.defaultTooltipEventType,Sk=e=>e.options.validateTooltipEventTypes;function Ek(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Ub(e,t){var n=wk(e),r=Sk(e);return Ek(t,n,r)}function _W(e){return Y(t=>Ub(t,e))}var Tk=(e,t)=>{var n,r=Number(t);if(!(_r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},wW=e=>e.tooltip.settings,Ci={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},SW={itemInteraction:{click:Ci,hover:Ci},axisInteraction:{click:Ci,hover:Ci},keyboardInteraction:Ci,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ak=Zt({name:"tooltip",initialState:SW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ne()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ne()},removeTooltipEntrySettings:{reducer(e,t){var n=nr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ne()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:EW,replaceTooltipEntrySettings:TW,removeTooltipEntrySettings:AW,setTooltipSettingsState:xW,setActiveMouseOverItemIndex:xk,mouseLeaveItem:CW,mouseLeaveChart:Ck,setActiveClickItemIndex:OW,setMouseOverAxisIndex:Ok,setMouseClickAxisIndex:RW,setSyncInteraction:jg,setKeyboardInteraction:Vg}=Ak.actions,IW=Ak.reducer;function rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(n),!0).forEach(function(r){MW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MW(e,t,n){return(t=PW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DW(e){return e.index!=null}var Rk=(e,t,n,r)=>{if(t==null)return Ci;var i=kW(e,t,n);if(i==null)return Ci;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(DW(i)){if(o)return Lc(Lc({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Lc(Lc({},Ci),{},{coordinate:i.coordinate})};function UW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function LW(e,t){var n=UW(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function BW(e,t,n){if(n==null||t==null)return!0;var r=Ot(e,t);return r==null||!ti(n)?!0:LW(r,n)}var Lb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!fe(o))return i;var a=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(a,Math.min(o,s)),u=t[l];return u==null||BW(u,n,r)?String(l):null},Ik=(e,t,n,r,i,o,a)=>{if(o!=null){var s=a[0],l=s==null?void 0:s.getPosition(o);if(l!=null)return l;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},Mk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},Pk=e=>e.options.tooltipPayloadSearcher,$s=e=>e.tooltip;function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return(t=zW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e,t){return e??t}var Nk=(e,t,n,r,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:g,settings:y}=m,b=HW(g,s),_=Array.isArray(b)?oP(b,u,c):b,w=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:r,S=y==null?void 0:y.nameKey,A;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&a==="axis"?A=e5(_,r,i):A=o(_,t,l,S),Array.isArray(A))A.forEach(x=>{var R=ox(ox({},y),{},{name:x.name,unit:x.unit,color:void 0,fill:void 0});h.push(hT({tooltipEntrySettings:R,dataKey:x.dataKey,payload:x.payload,value:Ot(x.payload,x.dataKey),name:x.name}))});else{var T;h.push(hT({tooltipEntrySettings:y,dataKey:w,payload:A,value:Ot(A,w),name:(T=Ot(A,S))!==null&&T!==void 0?T:y==null?void 0:y.name}))}return h},f)}},Bb=M([rt,qN,bb],uk),GW=M([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jW=M([vt,Us],HN),zs=M([GW,rt,jW],GN,{memoizeOptions:{resultEqualityCheck:ip}}),VW=M([zs],e=>e.filter(np)),FW=M([zs],FN,{memoizeOptions:{resultEqualityCheck:ip}}),qs=M([FW,fi],KN),KW=M([VW,fi,rt],BN),$b=M([qs,rt,zs],YN),kk=M([rt],Rb),YW=M([rt],e=>e.allowDataOverflow),Dk=M([kk,YW],yN),JW=M([zs],e=>e.filter(np)),WW=M([KW,JW,Xh,MN],WN),XW=M([WW,fi,vt,Dk],XN),QW=M([zs],VN),ZW=M([qs,rt,QW,Ib,vt],ek,{memoizeOptions:{resultEqualityCheck:rp}}),eX=M([tk,vt,Us],Ls),tX=M([eX,vt],ik),nX=M([nk,vt,Us],Ls),rX=M([nX,vt],ok),iX=M([rk,vt,Us],Ls),oX=M([iX,vt],ak),aX=M([tX,oX,rX],Nd),sX=M([rt,kk,Dk,XW,ZW,aX,_e,vt],sk),Fu=M([rt,_e,qs,$b,Xh,vt,sX],lk),lX=M([Fu,rt,Bb],ck),uX=M([rt,Fu,lX,vt],fk),Uk=e=>{var t=vt(e),n=Us(e),r=!1;return Vu(e,t,n,r)},Lk=M([rt,Uk],Qh),Bk=M([rt,Bb,uX,Lk],Pb),cX=M([_e,$b,rt,vt],yk),fX=M([_e,$b,rt,vt],bk),dX=(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=eo(e,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fn(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>{var v=r.map(h);return fe(v)?{coordinate:v+f,value:h,index:m,offset:f}:null}).filter(mr):r.domain().map((h,m)=>{var v=r.map(h);return fe(v)?{coordinate:v+f,value:o?o[h]:h,index:m,offset:f}:null}).filter(mr)}}},pi=M([_e,rt,Bb,Bk,Uk,cX,fX,vt],dX),zb=M([wk,Sk,wW],(e,t,n)=>Ek(n.shared,e,t)),$k=e=>e.tooltip.settings.trigger,qb=e=>e.tooltip.settings.defaultIndex,Ku=M([$s,zb,$k,qb],Rk),ys=M([Ku,qs,ju,Fu],Lb),zk=M([pi,ys],Tk),qk=M([Ku],e=>{if(e)return e.dataKey});M([Ku],e=>{if(e)return e.graphicalItemId});var Hk=M([$s,zb,$k,qb],Mk),hX=M([li,ui,_e,ht,pi,qb,Hk],Ik),pX=M([Ku,hX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mX=M([Ku],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),vX=M([Hk,ys,fi,ju,zk,Pk,zb],Nk);M([vX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _X=()=>Y(rt),wX=()=>{var e=_X(),t=Y(pi),n=Y(Bk);return fd(!e||!n?void 0:sx(sx({},e),{},{scale:n}),t)};function lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},xX=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:a}=r;return da(da(da({},r),xt(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return da(da(da({},r),xt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Gk=(e,t,n,r,i)=>{var o,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<a;s++){var l,u,c,f,h,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,v=(c=n[s])===null||c===void 0?void 0:c.coordinate,g=s>=a-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[s+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||v==null||g==null))if(fn(v-m)!==fn(g-v)){var b=[];if(fn(g-v)===fn(i[1]-i[0])){y=g;var _=v+i[1]-i[0];b[0]=Math.min(_,(_+m)/2),b[1]=Math.max(_,(_+m)/2)}else{y=m;var w=g+i[1]-i[0];b[0]=Math.min(v,(w+v)/2),b[1]=Math.max(v,(w+v)/2)}var S=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){var A;return(A=n[s])===null||A===void 0?void 0:A.index}}else{var T=Math.min(m,g),x=Math.max(m,g);if(e>(T+v)/2&&e<=(x+v)/2){var R;return(R=n[s])===null||R===void 0?void 0:R.index}}}else if(t)for(var O=0;O<a;O++){var I=t[O];if(I!=null){var N=t[O+1],P=t[O-1];if(O===0&&N!=null&&e<=(I.coordinate+N.coordinate)/2||O===a-1&&P!=null&&e>(I.coordinate+P.coordinate)/2||O>0&&O<a-1&&P!=null&&N!=null&&e>(I.coordinate+P.coordinate)/2&&e<=(I.coordinate+N.coordinate)/2)return I.index}}return-1},OX=()=>Y(bb),Hb=(e,t)=>t,jk=(e,t,n)=>n,Gb=(e,t,n,r)=>r,RX=M(pi,e=>xh(e,t=>t.coordinate)),jb=M([$s,Hb,jk,Gb],Rk),Vb=M([jb,qs,ju,Fu],Lb),IX=(e,t,n)=>{if(t!=null){var r=$s(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Vk=M([$s,Hb,jk,Gb],Mk),kd=M([li,ui,_e,ht,pi,Gb,Vk],Ik),MX=M([jb,kd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Fk=M([pi,Vb],Tk),PX=M([Vk,Vb,fi,ju,Fk,Pk,Hb],Nk),NX=M([jb,Vb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),kX=(e,t,n,r,i,o,a)=>{if(!(!e||!n||!r||!i)&&CX(e,a)){var s=m8(e,t),l=Gk(s,o,i,n,r),u=AX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},DX=(e,t,n,r,i,o,a)=>{if(!(!e||!r||!i||!o||!n)){var s=EY(e,n);if(s){var l=v8(s,t),u=Gk(l,a,o,r,i),c=xX(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},UX=(e,t,n,r,i,o,a,s)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?kX(e,t,r,i,o,a,s):DX(e,t,n,r,i,o,a)},LX=M(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),BX=M(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Jt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:bJ}});function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(n),!0).forEach(function(r){$X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $X(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX={},GX={zIndexMap:Object.values(Jt).reduce((e,t)=>cx(cx({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),HX)},jX=new Set(Object.values(Jt));function VX(e){return jX.has(e)}var Kk=Zt({name:"zIndex",initialState:GX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ne()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!VX(n)&&delete e.zIndexMap[n])},prepare:Ne()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ne()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ne()}}}),{registerZIndexPortal:FX,unregisterZIndexPortal:KX,registerZIndexPortalElement:YX,unregisterZIndexPortalElement:JX}=Kk.actions,WX=Kk.reducer;function ro(e){var{zIndex:t,children:n}=e,r=Y8(),i=r&&t!==void 0&&t!==0,o=wn(),a=je();E.useLayoutEffect(()=>i?(a(FX({zIndex:t})),()=>{a(KX({zIndex:t}))}):Ms,[a,t,i]);var s=Y(l=>LX(l,t,o));return i?s?ly.createPortal(n,s):null:n}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(null,arguments)}function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(n),!0).forEach(function(r){XX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XX(e,t,n){return(t=QX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return E.isValidElement(t)?E.cloneElement(t,r):E.createElement(n,r)}function tQ(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,f=n,h=r,m=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var v,g,y;if(c==="ScatterChart")v=f,g=UK,y=Jt.cursorLine;else if(c==="BarChart")v=LK(s,f,o,a),g=RP,y=Jt.cursorRectangle;else if(s==="radial"&&eM(f)){var{cx:b,cy:_,radius:w,startAngle:S,endAngle:A}=IP(f);v={cx:b,cy:_,startAngle:S,endAngle:A,innerRadius:w,outerRadius:w},g=PP,y=Jt.cursorLine}else v={points:CY(s,f,o)},g=TP,y=Jt.cursorLine;var T=typeof l=="object"&&"className"in l?l.className:void 0,x=Bc(Bc(Bc(Bc({stroke:"#ccc",pointerEvents:"none"},o),v),y0(l)),{},{payload:h,payloadIndex:m,className:Me("recharts-tooltip-cursor",T)});return E.createElement(ro,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},E.createElement(eQ,{cursor:l,cursorComp:g,cursorProps:x}))}function nQ(e){var t=wX(),n=V8(),r=Ps(),i=OX();return t==null||n==null||r==null||i==null?null:E.createElement(tQ,Fg({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Yk=E.createContext(null),rQ=()=>E.useContext(Yk),Jk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,v){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,m),!0;case 6:return y.fn.call(y.context,c,f,h,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var S=y.length,A;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,c);break;case 3:y[w].fn.call(y[w].context,c,f);break;case 4:y[w].fn.call(y[w].context,c,f,h);break;default:if(!_)for(A=1,_=new Array(b-1);A<b;A++)_[A-1]=arguments[A];y[w].fn.apply(y[w].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==c||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Jk);var iQ=Jk.exports;const oQ=or(iQ);var vu=new oQ,Kg="recharts.syncEvent.tooltip",dx="recharts.syncEvent.brush",aQ=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!_r(n))return e[n]}},sQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Wk=Zt({name:"options",initialState:sQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lQ=Wk.reducer,{createEventEmitter:uQ}=Wk.actions;function cQ(e){return e.tooltip.syncInteraction}var fQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Xk=Zt({name:"chartData",initialState:fQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:hx,setDataStartEndIndexes:dQ,setComputedData:yie}=Xk.actions,hQ=Xk.reducer,pQ=["x","y"];function px(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?px(Object(n),!0).forEach(function(r){mQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yQ(e,t){if(e==null)return{};var n,r,i=bQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _Q(){var e=Y(_b),t=Y(wb),n=je(),r=Y(PN),i=Y(pi),o=Ps(),a=zh(),s=Y(l=>l.rootProps.className);E.useEffect(()=>{if(e==null)return Ms;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(a&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:v,y:g}=m,y=yQ(m,pQ),{x:b,y:_,width:w,height:S}=c.payload.sourceViewBox,A=ha(ha({},y),{},{x:a.x+(w?(v-b)/w:0)*a.width,y:a.y+(S?(g-_)/S:0)*a.height});n(ha(ha({},c),{},{payload:ha(ha({},c.payload),{},{coordinate:A})}))}else n(c);return}if(i!=null){var T;if(typeof r=="function"){var x={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},R=r(i,x);T=i[R]}else r==="value"&&(T=i.find(D=>String(D.value)===c.payload.label));var{coordinate:O}=c.payload;if(T==null||c.payload.active===!1||O==null||a==null){n(jg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:N}=O,P=Math.min(I,a.x+a.width),G=Math.min(N,a.y+a.height),q={x:o==="horizontal"?T.coordinate:P,y:o==="horizontal"?G:T.coordinate},Z=jg({active:c.payload.active,coordinate:q,dataKey:c.payload.dataKey,index:String(T.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(Z)}}};return vu.on(Kg,l),()=>{vu.off(Kg,l)}},[s,n,t,e,r,i,o,a])}function wQ(){var e=Y(_b),t=Y(wb),n=je();E.useEffect(()=>{if(e==null)return Ms;var r=(i,o,a)=>{t!==a&&e===i&&n(dQ(o))};return vu.on(dx,r),()=>{vu.off(dx,r)}},[n,t,e])}function SQ(){var e=je();E.useEffect(()=>{e(uQ())},[e]),_Q(),wQ()}function EQ(e,t,n,r,i,o){var a=Y(m=>IX(m,e,t)),s=Y(wb),l=Y(_b),u=Y(PN),c=Y(cQ),f=c==null?void 0:c.active,h=zh();E.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=jg({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});vu.emit(Kg,l,m,s)}},[f,n,a,i,r,s,l,u,o,h])}function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(n),!0).forEach(function(r){TQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TQ(e,t,n){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e){return e.dataKey}function OQ(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(mK,t)}var gx=[],RQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function IQ(e){var t,n,r=Gn(e,RQ),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:b,shared:_,trigger:w,defaultIndex:S,portal:A,axisId:T}=r,x=je(),R=typeof S=="number"?String(S):S;E.useEffect(()=>{x(xW({shared:_,trigger:w,axisId:T,active:i,defaultIndex:R}))},[x,_,w,T,i,R]);var O=zh(),I=EP(),N=_W(_),{activeIndex:P,isActive:G}=(t=Y(zt=>NX(zt,N,w,R)))!==null&&t!==void 0?t:{},q=Y(zt=>PX(zt,N,w,R)),Z=Y(zt=>Fk(zt,N,w,R)),D=Y(zt=>MX(zt,N,w,R)),$=q,B=rQ(),V=(n=i??G)!==null&&n!==void 0?n:!1,[X,De]=eF([$,V]),Ve=N==="axis"?Z:void 0;EQ(N,w,D,Ve,P,V);var It=A??B;if(It==null||O==null||N==null)return null;var Ue=$??gx;V||(Ue=gx),u&&Ue.length&&(Ue=y5(Ue.filter(zt=>zt.value!=null&&(zt.hide!==!0||r.includeHidden)),h,CQ));var Sn=Ue.length>0,Hs=E.createElement(SK,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:V,coordinate:D,hasPayload:Sn,offset:f,position:m,reverseDirection:v,useTranslate3d:g,viewBox:O,wrapperStyle:y,lastBoundingBox:X,innerRef:De,hasPortalFromProps:!!A},OQ(l,vx(vx({},r),{},{payload:Ue,label:Ve,active:V,activeIndex:P,coordinate:D,accessibilityLayer:I})));return E.createElement(E.Fragment,null,ly.createPortal(Hs,It),V&&E.createElement(nQ,{cursor:b,tooltipEventType:N,coordinate:D,payload:Ue,index:P}))}var Fb=e=>null;Fb.displayName="Cell";function MQ(e,t,n){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kQ{constructor(t){MQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yx(Object(n),!0).forEach(function(r){UQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Q={cacheSize:2e3,enableCache:!0},Qk=DQ({},$Q),bx=new kQ(Qk.cacheSize),zQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_x="recharts_measurement_span";function qQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var wx=(e,t)=>{try{var n=document.getElementById(_x);n||(n=document.createElement("span"),n.setAttribute("id",_x),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},kl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jh.isSsr)return{width:0,height:0};if(!Qk.enableCache)return wx(t,n);var r=qQ(t,n),i=bx.get(r);if(i)return i;var o=wx(t,n);return bx.set(r,o),o},Zk;function HQ(e,t,n){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ex=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YQ=["cm","mm","pt","pc","in","Q","px"];function JQ(e){return YQ.includes(e)}var Ba="NaN";function WQ(e,t){return e*KQ[t]}class wt{static parse(t){var n,[,r,i]=(n=FQ.exec(t))!==null&&n!==void 0?n:[];return r==null?wt.NaN:new wt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_r(t)&&(this.unit=""),n!==""&&!VQ.test(n)&&(this.num=NaN,this.unit=""),JQ(n)&&(this.num=WQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _r(this.num)}}Zk=wt;HQ(wt,"NaN",new Zk(NaN,""));function eD(e){if(e==null||e.includes(Ba))return Ba;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=Sx.exec(t))!==null&&n!==void 0?n:[],a=wt.parse(r??""),s=wt.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return Ba;t=t.replace(Sx,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=Ex.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(c??""),v=wt.parse(h??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Ba;t=t.replace(Ex,g.toString())}return t}var Tx=/\(([^()]*)\)/;function XQ(e){for(var t=e,n;(n=Tx.exec(t))!=null;){var[,r]=n;t=t.replace(Tx,eD(r))}return t}function QQ(e){var t=e.replace(/\s+/g,"");return t=XQ(t),t=eD(t),t}function ZQ(e){try{return QQ(e)}catch{return Ba}}function Pm(e){var t=ZQ(e.slice(5,-1));return t===Ba?"":t}var eZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tZ=["dx","dy","angle","className","breakAll"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(null,arguments)}function Ax(e,t){if(e==null)return{};var n,r,i=nZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tD=/[ \f\n\r\t\v\u2028\u2029]+/,nD=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ft(t)||(n?i=t.toString().split(""):i=t.toString().split(tD));var o=i.map(s=>({word:s,width:kl(s,r).width})),a=n?0:kl("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function rZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var rD=(e,t,n,r)=>e.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),iD=e=>e.reduce((t,n)=>t.width>n.width?t:n),iZ="",xx=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=nD({breakAll:n,style:r,children:l+iZ});if(!u)return[!1,[]];var c=rD(u.wordsWithComputedWidth,o,a,s),f=c.length>i||iD(c).width>Number(o);return[f,c]},oZ=(e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=F(o),c=String(a),f=rD(t,r,n,i);if(!u||i)return f;var h=f.length>o||iD(f).width>Number(r);if(!h)return f;for(var m=0,v=c.length-1,g=0,y;m<=v&&g<=c.length-1;){var b=Math.floor((m+v)/2),_=b-1,[w,S]=xx(c,_,l,s,o,r,n,i),[A]=xx(c,b,l,s,o,r,n,i);if(!w&&!A&&(m=b+1),w&&A&&(v=b-1),!w&&A){y=S;break}g++}return y||f},Cx=e=>{var t=ft(e)?[]:e.toString().split(tD);return[{words:t,width:void 0}]},aZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!jh.isSsr){var s,l,u=nD({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;s=c,l=f}else return Cx(r);return oZ({breakAll:o,children:r,maxLines:a,style:i},s,l,t,!!n)}return Cx(r)},oD="#808080",sZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:oD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Kb=E.forwardRef((e,t)=>{var n=Gn(e,sZ),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=Ax(n,eZ),h=E.useMemo(()=>aZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:v,angle:g,className:y,breakAll:b}=f,_=Ax(f,tZ);if(!wr(r)||!wr(i)||h.length===0)return null;var w=Number(r)+(F(m)?m:0),S=Number(i)+(F(v)?v:0);if(!fe(w)||!fe(S))return null;var A;switch(c){case"start":A=Pm("calc(".concat(a,")"));break;case"middle":A=Pm("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:A=Pm("calc(".concat(h.length-1," * -").concat(o,")"));break}var T=[],x=h[0];if(l&&x!=null){var R=x.width,{width:O}=f;T.push("scale(".concat(F(O)&&F(R)?O/R:1,")"))}return g&&T.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),T.length&&(_.transform=T.join(" ")),E.createElement("text",Yg({},zn(_),{ref:t,x:w,y:S,className:Me("recharts-text",y),textAnchor:u,fill:s.includes("url")?oD:s}),h.map((I,N)=>{var P=I.words.join(b?"":" ");return E.createElement("tspan",{x:w,dy:N===0?A:o,key:"".concat(P,"-").concat(N)},P)}))});Kb.displayName="Text";function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(n),!0).forEach(function(r){lZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fZ=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:a,height:s,upperWidth:l,lowerWidth:u}=G0(t),c=o,f=o+(l-u)/2,h=(c+f)/2,m=(l+u)/2,v=c+l/2,g=s>=0?1:-1,y=g*r,b=g>0?"end":"start",_=g>0?"start":"end",w=l>=0?1:-1,S=w*r,A=w>0?"end":"start",T=w>0?"start":"end",x=i;if(n==="top"){var R={x:c+l/2,y:a-y,horizontalAnchor:"middle",verticalAnchor:b};return x&&(R.height=Math.max(a-x.y,0),R.width=l),R}if(n==="bottom"){var O={x:f+u/2,y:a+s+y,horizontalAnchor:"middle",verticalAnchor:_};return x&&(O.height=Math.max(x.y+x.height-(a+s),0),O.width=u),O}if(n==="left"){var I={x:h-S,y:a+s/2,horizontalAnchor:A,verticalAnchor:"middle"};return x&&(I.width=Math.max(I.x-x.x,0),I.height=s),I}if(n==="right"){var N={x:h+m+S,y:a+s/2,horizontalAnchor:T,verticalAnchor:"middle"};return x&&(N.width=Math.max(x.x+x.width-N.x,0),N.height=s),N}var P=x?{width:m,height:s}:{};return n==="insideLeft"?fr({x:h+S,y:a+s/2,horizontalAnchor:T,verticalAnchor:"middle"},P):n==="insideRight"?fr({x:h+m-S,y:a+s/2,horizontalAnchor:A,verticalAnchor:"middle"},P):n==="insideTop"?fr({x:c+l/2,y:a+y,horizontalAnchor:"middle",verticalAnchor:_},P):n==="insideBottom"?fr({x:f+u/2,y:a+s-y,horizontalAnchor:"middle",verticalAnchor:b},P):n==="insideTopLeft"?fr({x:c+S,y:a+y,horizontalAnchor:T,verticalAnchor:_},P):n==="insideTopRight"?fr({x:c+l-S,y:a+y,horizontalAnchor:A,verticalAnchor:_},P):n==="insideBottomLeft"?fr({x:f+S,y:a+s-y,horizontalAnchor:T,verticalAnchor:b},P):n==="insideBottomRight"?fr({x:f+u-S,y:a+s-y,horizontalAnchor:A,verticalAnchor:b},P):n&&typeof n=="object"&&(F(n.x)||zo(n.x))&&(F(n.y)||zo(n.y))?fr({x:o+rr(n.x,m),y:a+rr(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},P):fr({x:v,y:a+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)},dZ=["labelRef"],hZ=["content"];function Rx(e,t){if(e==null)return{};var n,r,i=pZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ix(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(null,arguments)}var aD=E.createContext(null),yZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=E.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return E.createElement(aD.Provider,{value:l},s)},sD=()=>{var e=E.useContext(aD),t=zh();return e||(t?G0(t):void 0)},bZ=E.createContext(null),_Z=()=>{var e=E.useContext(bZ),t=Y(LN);return e||t},wZ=e=>{var{value:t,formatter:n}=e,r=ft(e.children)?t:e.children;return typeof n=="function"?n(r):r},Yb=e=>e!=null&&typeof e=="function",SZ=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},EZ=(e,t,n,r,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:m}=i,v=(u+c)/2,g=SZ(f,h),y=g>=0?1:-1,b,_;switch(t){case"insideStart":b=f+y*o,_=m;break;case"insideEnd":b=h-y*o,_=!m;break;case"end":b=h+y*o,_=m;break;default:throw new Error("Unsupported position ".concat(t))}_=g<=0?_:!_;var w=xt(s,l,v,b),S=xt(s,l,v,b+(_?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),T=ft(e.id)?ru("recharts-radial-line-"):e.id;return E.createElement("text",kr({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:T,d:A})),E.createElement("textPath",{xlinkHref:"#".concat(T)},n))},TZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:c,y:f}=xt(r,i,a+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:m,y:v}=xt(r,i,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},uf=e=>e!=null&&"cx"in e&&F(e.cx),AZ={angle:0,offset:5,zIndex:Jt.label,position:"middle",textBreakAll:!1};function xZ(e){if(!uf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function _i(e){var t=Gn(e,AZ),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:s,className:l="",textBreakAll:u,labelRef:c}=t,f=_Z(),h=sD(),m=i==="center"?h:f??h,v,g,y;n==null?v=m:uf(n)?v=n:v=G0(n);var b=xZ(v);if(!v||ft(o)&&ft(a)&&!E.isValidElement(s)&&typeof s!="function")return null;var _=gl(gl({},t),{},{viewBox:v});if(E.isValidElement(s)){var{labelRef:w}=_,S=Rx(_,dZ);return E.cloneElement(s,S)}if(typeof s=="function"){var{content:A}=_,T=Rx(_,hZ);if(g=E.createElement(s,T),E.isValidElement(g))return g}else g=wZ(t);var x=zn(t);if(uf(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return EZ(t,i,g,x,v);y=TZ(v,t.offset,t.position)}else{if(!b)return null;var R=fZ({viewBox:b,position:i,offset:t.offset,parentViewBox:uf(r)?void 0:r});y=gl(gl({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return E.createElement(ro,{zIndex:t.zIndex},E.createElement(Kb,kr({ref:c,className:Me("recharts-label",l)},x,y,{textAnchor:rZ(x.textAnchor)?x.textAnchor:y.textAnchor,breakAll:u}),g))}_i.displayName="Label";var CZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?E.createElement(_i,kr({key:"label-implicit"},r)):wr(e)?E.createElement(_i,kr({key:"label-implicit",value:e},r)):E.isValidElement(e)?e.type===_i?E.cloneElement(e,gl({key:"label-implicit"},r)):E.createElement(_i,kr({key:"label-implicit",content:e},r)):Yb(e)?E.createElement(_i,kr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?E.createElement(_i,kr({},e,{key:"label-implicit"},r)):null};function OZ(e){var{label:t,labelRef:n}=e,r=sD();return CZ(t,r,n)||null}var lD={},uD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(uD);var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uD,n=cD,r=Eh;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(lD);var RZ=lD.last;const IZ=or(RZ);var MZ=["valueAccessor"],PZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(null,arguments)}function Mx(e,t){if(e==null)return{};var n,r,i=NZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kZ=e=>Array.isArray(e.value)?IZ(e.value):e.value,fD=E.createContext(void 0),DZ=fD.Provider,dD=E.createContext(void 0);dD.Provider;function UZ(){return E.useContext(fD)}function LZ(){return E.useContext(dD)}function cf(e){var{valueAccessor:t=kZ}=e,n=Mx(e,MZ),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=Mx(n,PZ),u=UZ(),c=LZ(),f=u||c;return!f||!f.length?null:E.createElement(ro,{zIndex:s??Jt.label},E.createElement(Wr,{className:"recharts-label-list"},f.map((h,m)=>{var v,g=ft(r)?t(h,m):Ot(h.payload,r),y=ft(o)?{}:{id:"".concat(o,"-").concat(m)};return E.createElement(_i,Dd({key:"label-".concat(m)},zn(h),l,y,{fill:(v=n.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:a,viewBox:h.viewBox,index:m,zIndex:0}))})))}cf.displayName="LabelList";function BZ(e){var{label:t}=e;return t?t===!0?E.createElement(cf,{key:"labelList-implicit"}):E.isValidElement(t)||Yb(t)?E.createElement(cf,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(cf,Dd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var $Z={radiusAxis:{},angleAxis:{}},hD=Zt({name:"polarAxis",initialState:$Z,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bie,removeRadiusAxis:_ie,addAngleAxis:wie,removeAngleAxis:Sie}=hD.actions,zZ=hD.reducer;function qZ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var pD={exports:{}},we={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=Symbol.for("react.transitional.element"),Wb=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),dp=Symbol.for("react.consumer"),hp=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),HZ=Symbol.for("react.view_transition"),GZ=Symbol.for("react.client.reference");function Vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jb:switch(e=e.type,e){case up:case fp:case cp:case mp:case vp:case HZ:return e;default:switch(e=e&&e.$$typeof,e){case hp:case pp:case yp:case gp:return e;case dp:return e;default:return t}}case Wb:return t}}}we.ContextConsumer=dp;we.ContextProvider=hp;we.Element=Jb;we.ForwardRef=pp;we.Fragment=up;we.Lazy=yp;we.Memo=gp;we.Portal=Wb;we.Profiler=fp;we.StrictMode=cp;we.Suspense=mp;we.SuspenseList=vp;we.isContextConsumer=function(e){return Vn(e)===dp};we.isContextProvider=function(e){return Vn(e)===hp};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jb};we.isForwardRef=function(e){return Vn(e)===pp};we.isFragment=function(e){return Vn(e)===up};we.isLazy=function(e){return Vn(e)===yp};we.isMemo=function(e){return Vn(e)===gp};we.isPortal=function(e){return Vn(e)===Wb};we.isProfiler=function(e){return Vn(e)===fp};we.isStrictMode=function(e){return Vn(e)===cp};we.isSuspense=function(e){return Vn(e)===mp};we.isSuspenseList=function(e){return Vn(e)===vp};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===up||e===fp||e===cp||e===mp||e===vp||typeof e=="object"&&e!==null&&(e.$$typeof===yp||e.$$typeof===gp||e.$$typeof===hp||e.$$typeof===dp||e.$$typeof===pp||e.$$typeof===GZ||e.getModuleId!==void 0)};we.typeOf=Vn;pD.exports=we;var jZ=pD.exports,Px=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Nx=null,Nm=null,mD=e=>{if(e===Nx&&Array.isArray(Nm))return Nm;var t=[];return E.Children.forEach(e,n=>{ft(n)||(jZ.isFragment(n)?t=t.concat(mD(n.props.children)):t.push(n))}),Nm=t,Nx=e,t};function VZ(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Px(i)):r=[Px(t)],mD(e).forEach(i=>{var o=us(i,"type.displayName")||us(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(vD);var FZ=vD.isPlainObject;const KZ=or(FZ);var kx,Dx,Ux,Lx,Bx;function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YZ(e,t,n){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(null,arguments)}function sl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qx=(e,t,n,r,i)=>{var o=n-r,a;return a=ze(kx||(kx=sl(["M ",",",""])),e,t),a+=ze(Dx||(Dx=sl(["L ",",",""])),e+n,t),a+=ze(Ux||(Ux=sl(["L ",",",""])),e+n-o/2,t+i),a+=ze(Lx||(Lx=sl(["L ",",",""])),e+n-o/2-r,t+i),a+=ze(Bx||(Bx=sl(["L ",","," Z"])),e,t),a},XZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QZ=e=>{var t=Gn(e,XZ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,h=E.useRef(null),[m,v]=E.useState(-1),g=E.useRef(i),y=E.useRef(o),b=E.useRef(a),_=E.useRef(n),w=E.useRef(r),S=K0(e,"trapezoid-");if(E.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var q=h.current.getTotalLength();q&&v(q)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var A=Me("recharts-trapezoid",s);if(!f)return E.createElement("g",null,E.createElement("path",Ud({},zn(t),{className:A,d:qx(n,r,i,o,a)})));var T=g.current,x=y.current,R=b.current,O=_.current,I=w.current,N="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),G=AP(["strokeDasharray"],u,l);return E.createElement(F0,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:c},q=>{var Z=St(T,i,q),D=St(x,o,q),$=St(R,a,q),B=St(O,n,q),V=St(I,r,q);h.current&&(g.current=Z,y.current=D,b.current=$,_.current=B,w.current=V);var X=q>0?{transition:G,strokeDasharray:P}:{strokeDasharray:N};return E.createElement("path",Ud({},zn(t),{className:A,d:qx(B,V,Z,D,$),ref:h,style:zx(zx({},X),t.style)}))})},ZZ=["option","shapeType","activeClassName"];function eee(e,t){if(e==null)return{};var n,r,i=tee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t){return Ld(Ld({},t),e)}function aee(e,t){return e==="symbols"}function Gx(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return E.createElement(RP,n);case"trapezoid":return E.createElement(QZ,n);case"sector":return E.createElement(PP,n);case"symbols":if(aee(t))return E.createElement(ZI,n);break;case"curve":return E.createElement(TP,n);default:return null}}function see(e){return E.isValidElement(e)?e.props:e}function lee(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=eee(e,ZZ),o;if(E.isValidElement(t))o=E.cloneElement(t,Ld(Ld({},i),see(t)));else if(typeof t=="function")o=t(i,i.index);else if(KZ(t)&&typeof t!="boolean"){var a=oee(t,i);o=E.createElement(Gx,{shapeType:n,elementProps:a})}else{var s=i;o=E.createElement(Gx,{shapeType:n,elementProps:s})}return i.isActive?E.createElement(Wr,{className:r},o):o}var gD=(e,t,n)=>{var r=je();return(i,o)=>a=>{e==null||e(i,o,a),r(xk({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},yD=e=>{var t=je();return(n,r)=>i=>{e==null||e(n,r,i),t(CW())}},bD=(e,t,n)=>{var r=je();return(i,o)=>a=>{e==null||e(i,o,a),r(OW({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function uee(e){var{tooltipEntrySettings:t}=e,n=je(),r=wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(EW(t)):i.current!==t&&n(TW({prev:i.current,next:t})),i.current=t)},[t,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(AW(i.current)),i.current=null)},[n]),null}function cee(e){var{legendPayload:t}=e,n=je(),r=wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(sK(t)):i.current!==t&&n(lK({prev:i.current,next:t})),i.current=t)},[n,r,t]),E.useLayoutEffect(()=>()=>{i.current&&(n(uK(i.current)),i.current=null)},[n]),null}var km,fee=()=>{var[e]=E.useState(()=>ru("uid-"));return e},dee=(km=m2.useId)!==null&&km!==void 0?km:fee;function hee(e,t){var n=dee();return t||(e?"".concat(e,"-").concat(n):n)}var pee=E.createContext(void 0),mee=e=>{var{id:t,type:n,children:r}=e,i=hee("recharts-".concat(n),t);return E.createElement(pee.Provider,{value:i},r(i))},vee={cartesianItems:[],polarItems:[]},_D=Zt({name:"graphicalItems",initialState:vee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ne()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=nr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ne()},removeCartesianGraphicalItem:{reducer(e,t){var n=nr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ne()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ne()},removePolarGraphicalItem:{reducer(e,t){var n=nr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ne()}}}),{addCartesianGraphicalItem:gee,replaceCartesianGraphicalItem:yee,removeCartesianGraphicalItem:bee,addPolarGraphicalItem:Eie,removePolarGraphicalItem:Tie}=_D.actions,_ee=_D.reducer,wee=e=>{var t=je(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(gee(e)):n.current!==e&&t(yee({prev:n.current,next:e})),n.current=e},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(t(bee(n.current)),n.current=null)},[t]),null},See=E.memo(wee);function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(n),!0).forEach(function(r){Eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eee(e,t,n){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wD=0,xee={xAxis:{},yAxis:{},zAxis:{}},SD=Zt({name:"cartesianAxis",initialState:xee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ne()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ne()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ne()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ne()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ne()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ne()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ne()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ne()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ne()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=Vx(Vx({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:Cee,replaceXAxis:Oee,removeXAxis:Ree,addYAxis:Iee,replaceYAxis:Mee,removeYAxis:Pee,addZAxis:Aie,replaceZAxis:xie,removeZAxis:Cie,updateYAxisWidth:Nee}=SD.actions,kee=SD.reducer,Dee=M([ht],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Uee=M([Dee,li,ui],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),ED=()=>Y(Uee),Fx=(e,t,n)=>{var r=n??e;if(!ft(r))return rr(r,t,0)},Lee=(e,t,n)=>{var r={},i=e.filter(np),o=e.filter(u=>u.stackId==null),a=i.reduce((u,c)=>{var f=u[c.stackId];return f==null&&(f=[]),f.push(c),u[c.stackId]=f,u},r),s=Object.entries(a).map(u=>{var c,[f,h]=u,m=h.map(g=>g.dataKey),v=Fx(t,n,(c=h[0])===null||c===void 0?void 0:c.barSize);return{stackId:f,dataKeys:m,barSize:v}}),l=o.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=Fx(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...s,...l]};function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e,t,n,r,i){var o,a=r.length;if(!(a<1)){var s=rr(e,n,0,!0),l,u=[];if(fe((o=r[0])===null||o===void 0?void 0:o.barSize)){var c=!1,f=n/a,h=r.reduce((_,w)=>_+(w.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&f>0&&(c=!0,f*=.9,h=a*f);var m=(n-h)/2>>0,v={offset:m-s,size:0};l=r.reduce((_,w)=>{var S,A={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:v.offset+v.size+s,size:c?f:(S=w.barSize)!==null&&S!==void 0?S:0}},T=[..._,A];return v=A.position,T},u)}else{var g=rr(t,n,0,!0);n-2*g-(a-1)*s<=0&&(s=0);var y=(n-2*g-(a-1)*s)/a;y>1&&(y>>=0);var b=fe(i)?Math.min(y,i):y;l=r.reduce((_,w,S)=>[..._,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+s)*S+(y-b)/2,size:b}}],u)}return l}}var Hee=(e,t,n,r,i,o,a)=>{var s=ft(a)?t:a,l=qee(n,r,i!==o?i:o,e,s);return i!==o&&l!=null&&(l=l.map(u=>$c($c({},u),{},{position:$c($c({},u.position),{},{offset:u.position.offset-i/2})}))),l},Gee=(e,t)=>{var n=Ab(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},jee=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Vee(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&fe(e.zIndex)?e.zIndex:t}var Fee=e=>{var{chartData:t}=e,n=je(),r=wn();return E.useEffect(()=>r?()=>{}:(n(hx(t)),()=>{n(hx(void 0))}),[t,n,r]),null},Yx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TD=Zt({name:"brush",initialState:Yx,reducers:{setBrushSettings(e,t){return t.payload==null?Yx:t.payload}}}),{setBrushSettings:Oie}=TD.actions,Kee=TD.reducer;function Yee(e){return(e%180+180)%180}var Jee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Yee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Wee={dots:[],areas:[],lines:[]},AD=Zt({name:"referenceElements",initialState:Wee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=nr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=nr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=nr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Rie,removeDot:Iie,addArea:Mie,removeArea:Pie,addLine:Nie,removeLine:kie}=AD.actions,Xee=AD.reducer,Qee=E.createContext(void 0),Zee=e=>{var{children:t}=e,[n]=E.useState("".concat(ru("recharts"),"-clip")),r=ED();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return E.createElement(Qee.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function xD(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ete(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Jee(r,n)}function tte(e,t,n){var r=n==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function gu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function nte(e,t){return xD(e,t+1)}function rte(e,t,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=t,l=0,u=1,c=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:xD(r,u)};var g=l,y,b=()=>(y===void 0&&(y=n(v,g)),y),_=v.coordinate,w=l===0||gu(e,_,b,c,s);w||(l=0,c=a,u+=1),w&&(c=_+e*(b()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function ite(e,t,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:s,end:l}=t,u=1;u<=a;u++){for(var c=(a-1)%u,f=s,h=!0,m=function(){var S=r[g];if(S==null)return 0;var A=g,T,x=()=>(T===void 0&&(T=n(S,A)),T),R=S.coordinate,O=g===c||gu(e,R,x,f,l);if(!O)return h=!1,1;O&&(f=R+e*(x()/2+i))},v,g=c;g<a&&(v=m(),!(v!==0&&v===1));g+=u);if(h){for(var y=[],b=c;b<a;b+=u){var _=r[b];_!=null&&y.push(_)}return y}}return[]}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(h){var m=o[h];if(m==null)return 1;var v=m,g,y=()=>(g===void 0&&(g=n(m,h)),g);if(h===a-1){var b=e*(v.coordinate+e*y()/2-l);o[h]=v=Rt(Rt({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else o[h]=v=Rt(Rt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=gu(e,v.tickCoord,y,s,l);_&&(l=v.tickCoord-e*(y()/2+i),o[h]=Rt(Rt({},v),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function ute(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1];if(c!=null){var f=n(c,s-1),h=e*(c.coordinate+e*f/2-u);if(a[s-1]=c=Rt(Rt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=gu(e,c.tickCoord,()=>f,l,u);m&&(u=c.tickCoord-e*(f/2+i),a[s-1]=Rt(Rt({},c),{},{isShow:!0}))}}}for(var v=o?s-1:s,g=function(_){var w=a[_];if(w==null)return 1;var S=w,A,T=()=>(A===void 0&&(A=n(w,_)),A);if(_===0){var x=e*(S.coordinate-e*T()/2-l);a[_]=S=Rt(Rt({},S),{},{tickCoord:x<0?S.coordinate-x*e:S.coordinate})}else a[_]=S=Rt(Rt({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var R=gu(e,S.tickCoord,T,l,u);R&&(l=S.tickCoord+e*(T()/2+i),a[_]=Rt(Rt({},S),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return a}function cte(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(F(l)||jh.isSsr){var h;return(h=nte(i,F(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",g=c&&v==="width"?kl(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(A,T)=>{var x=typeof u=="function"?u(A.value,T):A.value;return v==="width"?ete(kl(x,{fontSize:t,letterSpacing:n}),g,f):kl(x,{fontSize:t,letterSpacing:n})[v]},b=i[0],_=i[1],w=i.length>=2&&b!=null&&_!=null?fn(_.coordinate-b.coordinate):1,S=tte(o,w,v);return l==="equidistantPreserveStart"?rte(w,S,y,i,a):l==="equidistantPreserveEnd"?ite(w,S,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=ute(w,S,y,i,a,l==="preserveStartEnd"):m=lte(w,S,y,i,a),m.filter(A=>A.isShow))}var fte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>a&&(a=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},dte=["axisLine","width","height","className","hide","ticks","axisType"];function hte(e,t){if(e==null)return{};var n,r,i=pte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(null,arguments)}function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(n),!0).forEach(function(r){mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jt.axis};function yte(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=$e($e($e({},l),Ji(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=$e($e({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(o==="left"&&!a||o==="right"&&a);u=$e($e({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return E.createElement("line",Vo({},u,{className:Me("recharts-cartesian-axis-line",us(s,"className"))}))}function bte(e,t,n,r,i,o,a,s,l){var u,c,f,h,m,v,g=s?-1:1,y=e.tickSize||a,b=F(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!s*i,f=h-g*y,v=f-g*l,m=b;break;case"left":f=h=e.coordinate,c=t+ +!s*r,u=c-g*y,m=u-g*l,v=b;break;case"right":f=h=e.coordinate,c=t+ +s*r,u=c+g*y,m=u+g*l,v=b;break;default:u=c=e.coordinate,h=n+ +s*i,f=h+g*y,v=f+g*l,m=b;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:m,y:v}}}function _te(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ste(e){var{option:t,tickProps:n,value:r}=e,i,o=Me(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,$e($e({},n),{},{className:o}));else if(typeof t=="function")i=t($e($e({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Me(a,qZ(t))),i=E.createElement(Kb,Vo({},n,{className:a}),r)}return i}var Ete=E.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:f,x:h,y:m,width:v,height:g,tickSize:y,tickMargin:b,fontSize:_,letterSpacing:w,getTicksConfig:S,events:A,axisType:T}=e,x=cte($e($e({},S),{},{ticks:n}),_,w),R=_te(c,f),O=wte(c,f),I=Ji(S),N=y0(r),P={};typeof i=="object"&&(P=i);var G=$e($e({},I),{},{fill:"none"},P),q=x.map($=>$e({entry:$},bte($,h,m,v,g,c,y,f,b))),Z=q.map($=>{var{entry:B,line:V}=$;return E.createElement(Wr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},i&&E.createElement("line",Vo({},G,V,{className:Me("recharts-cartesian-axis-tick-line",us(i,"className"))})))}),D=q.map(($,B)=>{var V,X,{entry:De,tick:Ve}=$,It=$e($e($e($e({verticalAnchor:O},I),{},{textAnchor:R,stroke:"none",fill:o},Ve),{},{index:B,payload:De,visibleTicksCount:x.length,tickFormatter:a,padding:l},u),{},{angle:(V=(X=u==null?void 0:u.angle)!==null&&X!==void 0?X:I.angle)!==null&&V!==void 0?V:0}),Ue=$e($e({},It),N);return E.createElement(Wr,Vo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(De.value,"-").concat(De.coordinate,"-").concat(De.tickCoord)},E0(A,De,B)),r&&E.createElement(Ste,{option:r,tickProps:Ue,value:"".concat(typeof a=="function"?a(De.value,B):De.value).concat(s||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},D.length>0&&E.createElement(ro,{zIndex:Jt.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},D)),Z.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},Z))}),Tte=E.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=hte(e,dte),[c,f]=E.useState(""),[h,m]=E.useState(""),v=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return fte({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=E.useCallback(y=>{if(y){var b=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var _=b[0];if(_){var w=window.getComputedStyle(_),S=w.fontSize,A=w.letterSpacing;(S!==c||A!==h)&&(f(S),m(A))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(ro,{zIndex:e.zIndex},E.createElement(Wr,{className:Me("recharts-cartesian-axis",o)},E.createElement(yte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ji(e)}),E.createElement(Ete,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),E.createElement(yZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},E.createElement(OZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Xb=E.forwardRef((e,t)=>{var n=Gn(e,No);return E.createElement(Tte,Vo({},n,{ref:t}))});Xb.displayName="CartesianAxis";var Ate={},CD=Zt({name:"errorBars",initialState:Ate,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Die,replaceErrorBar:Uie,removeErrorBar:Lie}=CD.actions,xte=CD.reducer,Cte=["children"];function Ote(e,t){if(e==null)return{};var n,r,i=Rte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ite={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Mte=E.createContext(Ite);function Pte(e){var{children:t}=e,n=Ote(e,Cte);return E.createElement(Mte.Provider,{value:n},t)}function OD(e,t){var n,r,i=Y(u=>di(u,e)),o=Y(u=>hi(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:it.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function Nte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=ED(),{needClipX:o,needClipY:a,needClip:s}=OD(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:f}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:o?l:l-c/2,y:a?u:u-f/2,width:o?c:c*2,height:a?f:f*2}))}var kte={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=E;function Dte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ute=typeof Object.is=="function"?Object.is:Dte,Lte=Yu.useSyncExternalStore,Bte=Yu.useRef,$te=Yu.useEffect,zte=Yu.useMemo,qte=Yu.useDebugValue;kte.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Bte(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=zte(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&a.hasValue){var v=a.value;if(i(v,m))return f=v}return f=m}if(v=f,Ute(c,m))return v;var g=r(m);return i!==void 0&&i(v,g)?(c=m,v):(c=m,f=g)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=Lte(e,o[0],o[1]);return $te(function(){a.hasValue=!0,a.value=s},[s]),qte(s),s};function Hte(e){e()}function Gte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Hte(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Xx={notify(){},get:()=>[]};function jte(e,t){let n,r=Xx,i=0,o=!1;function a(g){c();const y=r.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),f())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Gte())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Xx)}function h(){o||(o=!0,c())}function m(){o&&(o=!1,f())}const v={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return v}var Vte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fte=Vte(),Kte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Yte=Kte(),Jte=()=>Fte||Yte?E.useLayoutEffect:E.useEffect,Wte=Jte();function Qx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xte(e,t){if(Qx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Qx(e[n[i]],t[n[i]]))return!1;return!0}var Dm=Symbol.for("react-redux-context"),Um=typeof globalThis<"u"?globalThis:{};function Qte(){if(!E.createContext)return{};const e=Um[Dm]??(Um[Dm]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Zte=Qte();function ene(e){const{children:t,context:n,serverState:r,store:i}=e,o=E.useMemo(()=>{const l=jte(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);Wte(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||Zte;return E.createElement(s.Provider,{value:o},t)}var tne=ene,nne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function rne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Qb(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(nne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Xte(e[r],t[r]))return!1}else if(!rne(e[r],t[r]))return!1;return!0}function ea(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:wD}function ta(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:wD}var ine="Invariant failed";function one(e,t){throw new Error(ine)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(null,arguments)}function Bd(e){return E.createElement(lee,Jg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ane=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(F(t))return t;var o=F(r)||ft(r);return o?t(r,i):(o||one(),n)}},sne=(e,t,n)=>n,lne=(e,t)=>t,Ju=M([Cb,lne],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),une=M([Ju],e=>e==null?void 0:e.maxBarSize),cne=(e,t,n,r)=>r,fne=M([_e,Cb,ea,ta,sne],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),dne=(e,t,n)=>{var r=_e(e),i=ea(e,t),o=ta(e,t);if(!(i==null||o==null))return r==="horizontal"?Gg(e,"yAxis",o,n):Gg(e,"xAxis",i,n)},hne=(e,t)=>{var n=_e(e),r=ea(e,t),i=ta(e,t);if(!(r==null||i==null))return n==="horizontal"?nx(e,"xAxis",r):nx(e,"yAxis",i)},pne=M([fne,dJ,hne],Lee),mne=(e,t,n)=>{var r,i,o=Ju(e,t);if(o==null)return 0;var a=ea(e,t),s=ta(e,t);if(a==null||s==null)return 0;var l=_e(e),u=RN(e),{maxBarSize:c}=o,f=ft(c)?u:c,h,m;return l==="horizontal"?(h=gs(e,"xAxis",a,n),m=vs(e,"xAxis",a,n)):(h=gs(e,"yAxis",s,n),m=vs(e,"yAxis",s,n)),(r=(i=fd(h,m,!0))!==null&&i!==void 0?i:f)!==null&&r!==void 0?r:0},RD=(e,t,n)=>{var r=_e(e),i=ea(e,t),o=ta(e,t);if(!(i==null||o==null)){var a,s;return r==="horizontal"?(a=gs(e,"xAxis",i,n),s=vs(e,"xAxis",i,n)):(a=gs(e,"yAxis",o,n),s=vs(e,"yAxis",o,n)),fd(a,s)}},vne=M([pne,RN,fJ,IN,mne,RD,une],Hee),gne=(e,t,n)=>{var r=ea(e,t);if(r!=null)return gs(e,"xAxis",r,n)},yne=(e,t,n)=>{var r=ta(e,t);if(r!=null)return gs(e,"yAxis",r,n)},bne=(e,t,n)=>{var r=ea(e,t);if(r!=null)return vs(e,"xAxis",r,n)},_ne=(e,t,n)=>{var r=ta(e,t);if(r!=null)return vs(e,"yAxis",r,n)},wne=M([vne,Ju],jee),Sne=M([dne,Ju],Gee),Ene=M([ht,q0,gne,yne,bne,_ne,wne,_e,rJ,RD,Sne,Ju,cne],(e,t,n,r,i,o,a,s,l,u,c,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:g}=l;if(!(f==null||a==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||o==null||u==null)){var{data:y}=f,b;if(y!=null&&y.length>0?b=y:b=m==null?void 0:m.slice(v,g+1),b!=null)return Xne({layout:s,barSettings:f,pos:a,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:c,displayedData:b,offset:e,cells:h,dataStartIndex:v})}}),Tne=["index"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(null,arguments)}function Ane(e,t){if(e==null)return{};var n,r,i=xne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ID=E.createContext(void 0),Cne=e=>{var t=E.useContext(ID);if(t!=null)return t.stackId;if(e!=null)return c8(e)},One=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Rne=e=>{var t=E.useContext(ID);if(t!=null){var{stackId:n}=t;return"url(#".concat(One(n,e),")")}},MD=e=>{var{index:t}=e,n=Ane(e,Tne),r=Rne(t);return E.createElement(Wr,Wg({className:"recharts-bar-stack-layer",clipPath:r},n))},Ine=["onMouseEnter","onMouseLeave","onClick"],Mne=["value","background","tooltipPosition"],Pne=["id"],Nne=["onMouseEnter","onClick","onMouseLeave"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(null,arguments)}function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $d(e,t){if(e==null)return{};var n,r,i=Lne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:aP(n,t),payload:e}]},$ne=E.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:Ms,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:aP(o,t),hide:a,type:l,color:i,unit:s,graphicalItemId:u}};return E.createElement(uee,{tooltipEntrySettings:c})});function zne(e){var t=Y(ys),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,u=$d(o,Ine),c=gD(a,r,o.id),f=yD(s),h=bD(l,r,o.id);if(!i||n==null)return null;var m=y0(i);return E.createElement(ro,{zIndex:Vee(i,Jt.barBackground)},n.map((v,g)=>{var{value:y,background:b,tooltipPosition:_}=v,w=$d(v,Mne);if(!b)return null;var S=c(v,g),A=f(v,g),T=h(v,g),x=Nt(Nt(Nt(Nt(Nt({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},b),m),E0(u,v,g)),{},{onMouseEnter:S,onMouseLeave:A,onClick:T,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return E.createElement(Bd,ri({key:"background-bar-".concat(g)},x))}))}function qne(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Nt(Nt({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return E.createElement(DZ,{value:t?i:void 0},n)}function Hne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=e,s=Y(ys),l=Y(qk),u=n&&String(o)===s&&(l==null||a===l),c=u?n:t;return u?E.createElement(ro,{zIndex:Jt.activeBar},E.createElement(MD,{index:o},E.createElement(Bd,ri({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a})))):E.createElement(Bd,ri({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a}))}function Gne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return E.createElement(Bd,ri({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function jne(e){var t,{data:n,props:r}=e,i=(t=Ji(r))!==null&&t!==void 0?t:{},{id:o}=i,a=$d(i,Pne),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:f,onMouseLeave:h}=r,m=$d(r,Nne),v=gD(c,l,o),g=yD(h),y=bD(f,l,o);return n?E.createElement(E.Fragment,null,n.map((b,_)=>E.createElement(MD,ri({index:_,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(_),className:"recharts-bar-rectangle"},E0(m,b,_),{onMouseEnter:v(b,_),onMouseLeave:g(b,_),onClick:y(b,_)}),u?E.createElement(Hne,{shape:s,activeBar:u,baseProps:a,entry:b,index:_,dataKey:l}):E.createElement(Gne,{shape:s,baseProps:a,entry:b,index:_,dataKey:l})))):null}function Vne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=n.current,h=K0(t,"recharts-bar-"),[m,v]=E.useState(!1),g=!m,y=E.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=E.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return E.createElement(qne,{showLabels:g,rects:r},E.createElement(F0,{animationId:h,begin:a,duration:s,isActive:o,easing:l,onAnimationEnd:y,onAnimationStart:b,key:h},_=>{var w=_===1?r:r==null?void 0:r.map((S,A)=>{var T=f&&f[A];if(T)return Nt(Nt({},S),{},{x:St(T.x,S.x,_),y:St(T.y,S.y,_),width:St(T.width,S.width,_),height:St(T.height,S.height,_)});if(i==="horizontal"){var x=St(0,S.height,_),R=St(S.stackedBarStart,S.y,_);return Nt(Nt({},S),{},{y:R,height:x})}var O=St(0,S.width,_),I=St(S.stackedBarStart,S.x,_);return Nt(Nt({},S),{},{width:O,x:I})});return _>0&&(n.current=w??null),w==null?null:E.createElement(Wr,null,E.createElement(jne,{props:t,data:w}))}),E.createElement(BZ,{label:t.label}),t.children)}function Fne(e){var t=E.useRef(null);return E.createElement(Vne,{previousRectanglesRef:t,props:e})}var PD=0,Kne=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ot(e,t)}};class Yne extends E.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:u}=this.props;if(t||n==null)return null;var c=Me("recharts-bar",i),f=u;return E.createElement(Wr,{className:c,id:u},s&&E.createElement("defs",null,E.createElement(Nte,{clipPathId:f,xAxisId:o,yAxisId:a})),E.createElement(Wr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},E.createElement(zne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),E.createElement(Fne,this.props)))}}var Jne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:PD,xAxisId:0,yAxisId:0,zIndex:Jt.bar};function Wne(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=OD(t,n),h=Ps(),m=wn(),v=VZ(e.children,Fb),g=Y(_=>Ene(_,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,E.createElement(Pte,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:Kne,errorBarOffset:y},E.createElement(Yne,ri({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Xne(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:g}=e,y=t==="horizontal"?s:a,b=c?y.scale.domain():null,_=f8({numericAxis:y}),w=y.scale.map(_);return f.map((S,A)=>{var T,x,R,O,I,N;if(c){var P=c[A+g];if(P==null)return null;T=o8(P,b)}else T=Ot(S,n),Array.isArray(T)||(T=[_,T]);var G=ane(r,PD)(T[1],A);if(t==="horizontal"){var q,Z=s.scale.map(T[0]),D=s.scale.map(T[1]);if(Z==null||D==null)return null;x=cT({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:S,index:A}),R=(q=D??Z)!==null&&q!==void 0?q:void 0,O=i.size;var $=Z-D;if(I=_r($)?0:$,N={x,y:h.top,width:O,height:h.height},Math.abs(G)>0&&Math.abs(I)<Math.abs(G)){var B=fn(I||G)*(Math.abs(G)-Math.abs(I));R-=B,I+=B}}else{var V=a.scale.map(T[0]),X=a.scale.map(T[1]);if(V==null||X==null)return null;if(x=V,R=cT({axis:s,ticks:u,bandSize:o,offset:i.offset,entry:S,index:A}),O=X-V,I=i.size,N={x:h.left,y:R,width:h.width,height:I},Math.abs(G)>0&&Math.abs(O)<Math.abs(G)){var De=fn(O||G)*(Math.abs(G)-Math.abs(O));O+=De}}if(x==null||R==null||O==null||I==null)return null;var Ve=Nt(Nt({},S),{},{stackedBarStart:w,x,y:R,width:O,height:I,value:c?T:T[1],payload:S,background:N,tooltipPosition:{x:x+O/2,y:R+I/2},parentViewBox:v},m&&m[A]&&m[A].props);return Ve}).filter(Boolean)}function Qne(e){var t=Gn(e,Jne),n=Cne(t.stackId),r=wn();return E.createElement(mee,{id:t.id,type:"bar"},i=>E.createElement(E.Fragment,null,E.createElement(cee,{legendPayload:Bne(t)}),E.createElement($ne,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),E.createElement(See,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),E.createElement(ro,{zIndex:t.zIndex},E.createElement(Wne,ri({},t,{id:i})))))}var ND=E.memo(Qne,Qb);ND.displayName="Bar";var Zne=["domain","range"],ere=["domain","range"];function eC(e,t){if(e==null)return{};var n,r,i=tre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kD(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=eC(e,Zne),{domain:o,range:a}=t,s=eC(t,ere);return!tC(n,o)||!tC(r,a)?!1:Qb(i,s)}var nre=["type"],rre=["dangerouslySetInnerHTML","ticks","scale"],ire=["id","scale"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function are(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qg(e,t){if(e==null)return{};var n,r,i=lre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ure(e){var t=je(),n=E.useRef(null),r=pP(),{type:i}=e,o=Qg(e,nre),a=Zh(r,"xAxis",i),s=E.useMemo(()=>{if(a!=null)return rC(rC({},o),{},{type:a})},[o,a]);return E.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Cee(s)):n.current!==s&&t(Oee({prev:n.current,next:s})),n.current=s)},[s,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Ree(n.current)),n.current=null)},[t]),null}var cre=e=>{var{xAxisId:t,className:n}=e,r=Y(q0),i=wn(),o="xAxis",a=Y(b=>_k(b,o,t,i)),s=Y(b=>vk(b,t)),l=Y(b=>hW(b,t)),u=Y(b=>$N(b,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:h}=e,m=Qg(e,rre),{id:v,scale:g}=u,y=Qg(u,ire);return E.createElement(Xb,Xg({},m,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:Me("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},fre={allowDataOverflow:it.allowDataOverflow,allowDecimals:it.allowDecimals,allowDuplicatedCategory:it.allowDuplicatedCategory,angle:it.angle,axisLine:No.axisLine,height:it.height,hide:!1,includeHidden:it.includeHidden,interval:it.interval,label:!1,minTickGap:it.minTickGap,mirror:it.mirror,orientation:it.orientation,padding:it.padding,reversed:it.reversed,scale:it.scale,tick:it.tick,tickCount:it.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:it.type,xAxisId:0},dre=e=>{var t=Gn(e,fre);return E.createElement(E.Fragment,null,E.createElement(ure,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),E.createElement(cre,t))},DD=E.memo(dre,kD);DD.displayName="XAxis";var hre=["type"],pre=["dangerouslySetInnerHTML","ticks","scale"],mre=["id","scale"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(null,arguments)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vre(e,t,n){return(t=gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(e,t){if(e==null)return{};var n,r,i=bre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _re(e){var t=je(),n=E.useRef(null),r=pP(),{type:i}=e,o=ey(e,hre),a=Zh(r,"yAxis",i),s=E.useMemo(()=>{if(a!=null)return oC(oC({},o),{},{type:a})},[a,o]);return E.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Iee(s)):n.current!==s&&t(Mee({prev:n.current,next:s})),n.current=s)},[s,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}function wre(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=E.useRef(null),a=E.useRef(null),s=Y(q0),l=wn(),u=je(),c="yAxis",f=Y(T=>gk(T,t)),h=Y(T=>mW(T,t)),m=Y(T=>_k(T,c,t,l)),v=Y(T=>zN(T,t));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!f||Yb(i)||E.isValidElement(i)||v==null)){var T=o.current;if(T){var x=T.getCalculatedWidth();Math.round(f.width)!==Math.round(x)&&u(Nee({id:t,width:x}))}}},[m,f,u,i,t,r,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:b}=e,_=ey(e,pre),{id:w,scale:S}=v,A=ey(v,mre);return E.createElement(Xb,Zg({},_,A,{ref:o,labelRef:a,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Me("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:m,axisType:c}))}var Sre={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:No.axisLine,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,label:!1,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:ot.type,width:ot.width,yAxisId:0},Ere=e=>{var t=Gn(e,Sre);return E.createElement(E.Fragment,null,E.createElement(_re,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),E.createElement(wre,t))},UD=E.memo(Ere,kD);UD.displayName="YAxis";var Tre=(e,t)=>t,Zb=M([Tre,_e,LN,vt,Lk,pi,RX,ht],UX),e_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},LD=qn("mouseClick"),BD=ku();BD.startListening({actionCreator:LD,effect:(e,t)=>{var n=e.payload,r=Zb(t.getState(),e_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(RW({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ty=qn("mouseMove"),$D=ku(),zc=null;$D.startListening({actionCreator:ty,effect:(e,t)=>{var n=e.payload;zc!==null&&cancelAnimationFrame(zc);var r=e_(n);zc=requestAnimationFrame(()=>{var i=t.getState(),o=Ub(i,i.tooltip.settings.shared);if(o==="axis"){var a=Zb(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(Ok({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Ck())}zc=null})}});function Are(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},zD=Zt({name:"rootProps",initialState:aC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:aC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xre=zD.reducer,{updateOptions:Cre}=zD.actions,Ore=null,Rre={updatePolarOptions:(e,t)=>t.payload},qD=Zt({name:"polarOptions",initialState:Ore,reducers:Rre}),{updatePolarOptions:Bie}=qD.actions,Ire=qD.reducer,HD=qn("keyDown"),GD=qn("focus"),t_=ku();t_.startListening({actionCreator:HD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Lb(i,qs(n),ju(n),Fu(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=pi(n);if(o==="Enter"){var u=kd(n,"axis","hover",String(i.index));t.dispatch(Vg({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=bW(n),f=c==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,m=s+h*f;if(!(l==null||m>=l.length||m<0)){var v=kd(n,"axis","hover",String(m));t.dispatch(Vg({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});t_.startListening({actionCreator:GD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=kd(n,"axis","hover",String(o));t.dispatch(Vg({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var An=qn("externalEvent"),jD=ku(),Lm=new Map;jD.startListening({actionCreator:An,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Lm.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:pX(s),activeDataKey:qk(s),activeIndex:ys(s),activeLabel:zk(s),activeTooltipIndex:ys(s),isTooltipActive:mX(s)};n(l,r)}finally{Lm.delete(i)}});Lm.set(i,a)}}});var Mre=M([$s],e=>e.tooltipItemPayloads),Pre=M([Mre,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),VD=qn("touchMove"),FD=ku();FD.startListening({actionCreator:VD,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Ub(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=Zb(r,e_({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ok({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(y8),f=(s=u.getAttribute(b8))!==null&&s!==void 0?s:void 0,h=zs(r).find(g=>g.id===f);if(c==null||h==null||f==null)return;var{dataKey:m}=h,v=Pre(r,c,f);t.dispatch(xk({activeDataKey:m,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var Nre=MM({brush:Kee,cartesianAxis:kee,chartData:hQ,errorBars:xte,graphicalItems:_ee,layout:e8,legend:cK,options:lQ,polarAxis:zZ,polarOptions:Ire,referenceElements:Xee,rootProps:xre,tooltip:IW,zIndex:WX}),kre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return AF({reducer:Nre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([BD.middleware,$D.middleware,t_.middleware,jD.middleware,FD.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(FM({type:"raf"}))},devTools:{serialize:{replacer:Are},name:"recharts-".concat(n)}})};function Dre(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=wn(),o=E.useRef(null);if(i)return n;o.current==null&&(o.current=kre(t,r));var a=P0;return E.createElement(tne,{context:a,store:o.current},n)}function Ure(e){var{layout:t,margin:n}=e,r=je(),i=wn();return E.useEffect(()=>{i||(r(XF(t)),r(WF(n)))},[r,i,t,n]),null}var Lre=E.memo(Ure,Qb);function Bre(e){var t=je();return E.useEffect(()=>{t(Cre(e))},[t,e]),null}function sC(e){var{zIndex:t,isPanorama:n}=e,r=E.useRef(null),i=je();return E.useLayoutEffect(()=>(r.current&&i(YX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(JX({zIndex:t,isPanorama:n}))}),[i,t,n]),E.createElement("g",{tabIndex:-1,ref:r})}function lC(e){var{children:t,isPanorama:n}=e,r=Y(BX);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(sC,{key:a,zIndex:a,isPanorama:n})),t,o.map(a=>E.createElement(sC,{key:a,zIndex:a,isPanorama:n})))}var $re=["children"];function zre(e,t){if(e==null)return{};var n,r,i=qre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(null,arguments)}var Hre={width:"100%",height:"100%",display:"block"},Gre=E.forwardRef((e,t)=>{var n=F8(),r=K8(),i=EP();if(!Wi(n)||!Wi(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),E.createElement(PI,zd({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Hre,ref:t}),o)}),jre=e=>{var{children:t}=e,n=Y($h);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return E.createElement(PI,{width:r,height:i,x:a,y:o},t)},uC=E.forwardRef((e,t)=>{var{children:n}=e,r=zre(e,$re),i=wn();return i?E.createElement(jre,null,E.createElement(lC,{isPanorama:!0},n)):E.createElement(Gre,zd({ref:t},r),E.createElement(lC,{isPanorama:!1},n))});function Vre(){var e=je(),[t,n]=E.useState(null),r=Y(g8);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;fe(o)&&o!==r&&e(ZF(o))}},[t,e,r]),n}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){Kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kre(e,t,n){return(t=Yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(null,arguments)}var Wre=()=>(SQ(),null);function qd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Xre=E.forwardRef((e,t)=>{var n,r,i=E.useRef(null),[o,a]=E.useState({containerWidth:qd((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:qd((r=e.style)===null||r===void 0?void 0:r.height)}),s=E.useCallback((u,c)=>{a(f=>{var h=Math.round(u),m=Math.round(c);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();s(c,f);var h=v=>{var g=v[0];if(g!=null){var{width:y,height:b}=g.contentRect;s(y,b)}},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,s]);return E.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),E.createElement(E.Fragment,null,E.createElement(Uu,{width:o.containerWidth,height:o.containerHeight}),E.createElement("div",ji({ref:l},e)))}),Qre=E.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=E.useState({containerWidth:qd(n),containerHeight:qd(r)}),a=E.useCallback((l,u)=>{o(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),s=E.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[t,a]);return E.createElement(E.Fragment,null,E.createElement(Uu,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",ji({ref:s},e)))}),Zre=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement("div",ji({ref:t},e)))}),eie=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?E.createElement(Qre,ji({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?E.createElement(Zre,ji({},e,{width:n,height:r,ref:t})):E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement("div",ji({ref:t},e)))});function tie(e){return e?Xre:eie}var nie=E.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:y,width:b,responsive:_,dispatchTouchEvents:w=!0}=e,S=E.useRef(null),A=je(),[T,x]=E.useState(null),[R,O]=E.useState(null),I=Vre(),N=H0(),P=(N==null?void 0:N.width)>0?N.width:b,G=(N==null?void 0:N.height)>0?N.height:i,q=E.useCallback(U=>{I(U),typeof t=="function"&&t(U),x(U),O(U),U!=null&&(S.current=U)},[I,t,x,O]),Z=E.useCallback(U=>{A(LD(U)),A(An({handler:o,reactEvent:U}))},[A,o]),D=E.useCallback(U=>{A(ty(U)),A(An({handler:u,reactEvent:U}))},[A,u]),$=E.useCallback(U=>{A(Ck()),A(An({handler:c,reactEvent:U}))},[A,c]),B=E.useCallback(U=>{A(ty(U)),A(An({handler:f,reactEvent:U}))},[A,f]),V=E.useCallback(()=>{A(GD())},[A]),X=E.useCallback(U=>{A(HD(U.key))},[A]),De=E.useCallback(U=>{A(An({handler:a,reactEvent:U}))},[A,a]),Ve=E.useCallback(U=>{A(An({handler:s,reactEvent:U}))},[A,s]),It=E.useCallback(U=>{A(An({handler:l,reactEvent:U}))},[A,l]),Ue=E.useCallback(U=>{A(An({handler:h,reactEvent:U}))},[A,h]),Sn=E.useCallback(U=>{A(An({handler:g,reactEvent:U}))},[A,g]),Hs=E.useCallback(U=>{w&&A(VD(U)),A(An({handler:v,reactEvent:U}))},[A,w,v]),zt=E.useCallback(U=>{A(An({handler:m,reactEvent:U}))},[A,m]),bp=tie(_);return E.createElement(Yk.Provider,{value:T},E.createElement(g6.Provider,{value:R},E.createElement(bp,{width:P??(y==null?void 0:y.width),height:G??(y==null?void 0:y.height),className:Me("recharts-wrapper",r),style:Fre({position:"relative",cursor:"default",width:P,height:G},y),onClick:Z,onContextMenu:De,onDoubleClick:Ve,onFocus:V,onKeyDown:X,onMouseDown:It,onMouseEnter:D,onMouseLeave:$,onMouseMove:B,onMouseUp:Ue,onTouchEnd:zt,onTouchMove:Hs,onTouchStart:Sn,ref:q},E.createElement(Wre,null),n)))}),rie=["width","height","responsive","children","className","style","compact","title","desc"];function iie(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aie=E.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,f=iie(e,rie),h=Ji(f);return l?E.createElement(E.Fragment,null,E.createElement(Uu,{width:n,height:r}),E.createElement(uC,{otherAttributes:h,title:u,desc:c},o)):E.createElement(nie,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(uC,{otherAttributes:h,title:u,desc:c,ref:t},E.createElement(Zee,null,o)))});function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}var sie={top:5,right:5,bottom:5,left:5},lie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:sie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},uie=E.forwardRef(function(t,n){var r,i=Gn(t.categoricalChartProps,lie),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return E.createElement(Dre,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},E.createElement(Fee,{chartData:u.data}),E.createElement(Lre,{layout:i.layout,margin:i.margin}),E.createElement(Bre,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(aie,ny({},i,{ref:n})))}),cie=["axis","item"],fie=E.forwardRef((e,t)=>E.createElement(uie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cie,tooltipPayloadSearcher:aQ,categoricalChartProps:e,ref:t}));const die=()=>{const[e,t]=E.useState(null),[n,r]=E.useState([]),[i,o]=E.useState([]),[a,s]=E.useState("dashboard"),[l,u]=E.useState(null),[c,f]=E.useState(void 0),[h,m]=E.useState(!0),[v,g]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const O=localStorage.getItem("au_user");let I=null;O&&(I=JSON.parse(O),t(I),(I==null?void 0:I.role)===Cn.ADMIN&&s("admin"));const[N,P]=await Promise.all([xi.getQuizzes(),xi.getAttempts((I==null?void 0:I.role)===Cn.STUDENT?I.id:void 0)]);r(N.length?N:JL),o(P);const G=localStorage.getItem("au_ai_enabled");G!==null&&g(G==="true")}catch(O){console.error("DB Sync Failure",O)}finally{m(!1)}})()},[]);const y=()=>{t(null),localStorage.removeItem("au_user"),s("dashboard")},b=R=>{t(R),localStorage.setItem("au_user",JSON.stringify(R)),s(R.role===Cn.ADMIN?"admin":"dashboard")},_=async R=>{m(!0);try{await xi.saveAttempt(R),o(O=>[...O,R]),u(null),s("stats")}catch{alert("Database error saving results.")}finally{m(!1)}},w=async R=>{m(!0);try{await xi.saveQuiz(R),r(O=>O.find(N=>N.id===R.id)?O.map(N=>N.id===R.id?R:N):[R,...O]),s("admin")}catch{alert("Error saving curriculum.")}finally{m(!1)}},S=()=>{const R=!v;g(R),localStorage.setItem("au_ai_enabled",String(R))};if(!e)return C.jsx(Iz,{onLogin:b});if(h)return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),C.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:"Verifying Academic Session..."})]})});const A=e.role===Cn.ADMIN,T=i.filter(R=>R.studentId===e.id),x=n.map(R=>{const O=T.filter(N=>N.quizId===R.id),I=O.length?Math.max(...O.map(N=>N.score/N.totalQuestions*100)):0;return{name:R.title.substring(0,10),score:Math.round(I)}}).filter(R=>R.score>0);return C.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[C.jsxs("nav",{className:"w-full md:w-72 glass border-r border-slate-200 p-8 flex flex-col gap-8 sticky top-0 md:h-screen z-50",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center font-bold text-white",children:"A"}),C.jsxs("div",{children:[C.jsx("span",{className:"font-extrabold text-lg tracking-tight block",children:"Aditya Univ"}),C.jsxs("span",{className:"text-[9px] uppercase font-black text-blue-600 tracking-widest",children:[e.role," PORTAL"]})]})]}),C.jsxs("div",{className:"flex flex-col gap-2",children:[A?C.jsxs("button",{onClick:()=>s("admin"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="admin"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[C.jsx(pR,{className:"w-5 h-5"})," Faculty Console"]}):C.jsxs("button",{onClick:()=>s("dashboard"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="dashboard"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[C.jsx(WL,{className:"w-5 h-5"})," Student Hub"]}),C.jsxs("button",{onClick:()=>s("library"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="library"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[C.jsx(Pw,{className:"w-5 h-5"})," Library"]}),C.jsxs("button",{onClick:()=>s("stats"),className:`flex items-center gap-4 p-4 rounded-2xl font-bold transition-all ${a==="stats"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"}`,children:[C.jsx(XL,{className:"w-5 h-5"})," Analytics"]})]}),C.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[C.jsxs("div",{className:"mb-4 flex items-center gap-3 p-3 bg-slate-50 rounded-2xl",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center font-bold text-blue-600 text-xs",children:e.name[0]}),C.jsxs("div",{className:"overflow-hidden",children:[C.jsx("p",{className:"text-xs font-bold truncate",children:e.name}),C.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:A?"Faculty":"Student"})]})]}),C.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-red-50 text-red-600 font-bold hover:bg-red-600 hover:text-white transition-all",children:[C.jsx(QL,{className:"w-4 h-4"})," Sign Out"]})]})]}),C.jsxs("main",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:[a==="dashboard"&&C.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[C.jsx("h1",{className:"text-5xl font-black mb-4 tracking-tighter text-slate-900",children:"Academic Assessments"}),C.jsxs("p",{className:"text-slate-500 mb-12 font-medium",children:["Hello ",e.name.split(" ")[0],", select a module to start your test."]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map(R=>C.jsxs("div",{className:"glass p-10 rounded-[3rem] border border-slate-100 hover:border-blue-400 transition-all flex flex-col group relative bg-white/80",children:[C.jsx("div",{className:"absolute top-8 right-8 text-[10px] font-black uppercase text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:R.category}),C.jsx("h3",{className:"text-2xl font-black mb-4 group-hover:text-blue-600 transition-colors",children:R.title}),C.jsx("p",{className:"text-slate-500 text-sm mb-8 leading-relaxed line-clamp-2",children:R.description}),C.jsx("button",{onClick:()=>{u(R),s("quiz")},className:"mt-auto w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-600 transition-all shadow-xl shadow-slate-100",children:"Launch Module"})]},R.id))})]}),a==="admin"&&A&&C.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[C.jsxs("div",{className:"flex justify-between items-center mb-12",children:[C.jsx("h1",{className:"text-5xl font-black tracking-tighter",children:"Faculty Console"}),C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("button",{onClick:S,className:`px-6 py-4 rounded-2xl font-bold text-[10px] uppercase tracking-widest transition-all border ${v?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:["AI Status: ",v?"Active":"Offline"]}),C.jsx("button",{onClick:()=>{f(void 0),s("editor")},className:"px-8 py-4 bg-blue-600 text-white font-black text-xs uppercase tracking-widest rounded-2xl shadow-xl shadow-blue-100 hover:bg-blue-700 transition-all",children:"Create New Quiz"})]})]}),C.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:C.jsxs("div",{className:"p-8 bg-blue-600 rounded-[2.5rem] text-white shadow-2xl shadow-blue-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-2xl font-black mb-2",children:"Academic Control Panel"}),C.jsx("p",{className:"opacity-80 text-sm font-medium",children:"Protect your API and manage curriculum from here."})]}),C.jsxs("div",{className:"flex items-center gap-4 bg-white/10 p-4 rounded-2xl border border-white/20",children:[C.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Privacy Guard"}),C.jsx("div",{onClick:S,className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${v?"bg-green-400":"bg-slate-400"}`,children:C.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${v?"translate-x-6":"translate-x-0"}`})})]})]})}),C.jsx("div",{className:"glass rounded-[2.5rem] overflow-hidden border border-slate-200 bg-white/50",children:C.jsxs("table",{className:"w-full text-left",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[C.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-400",children:"Curriculum Module"}),C.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-400 text-right",children:"Database Control"})]})}),C.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(R=>C.jsxs("tr",{className:"hover:bg-blue-50/20 transition-colors",children:[C.jsxs("td",{className:"p-6",children:[C.jsx("span",{className:"font-black text-slate-800 text-lg",children:R.title}),C.jsx("br",{}),C.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[R.questions.length," Questions  ",R.duration," Mins"]})]}),C.jsxs("td",{className:"p-6 text-right",children:[C.jsx("button",{onClick:()=>{f(R),s("editor")},className:"text-blue-600 font-black text-xs uppercase px-4 py-2 hover:bg-blue-50 rounded-xl transition-all",children:"Edit"}),C.jsx("button",{onClick:()=>xi.deleteQuiz(R.id).then(()=>r(n.filter(O=>O.id!==R.id))),className:"text-red-500 font-black text-xs uppercase px-4 py-2 hover:bg-red-50 rounded-xl transition-all ml-2",children:"Delete"})]})]},R.id))})]})})]}),a==="stats"&&C.jsxs("div",{className:"max-w-5xl mx-auto animate-slideUp",children:[C.jsx("h1",{className:"text-5xl font-black mb-12 tracking-tighter text-slate-900",children:"Performance Analysis"}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[C.jsxs("div",{className:"lg:col-span-2 glass p-10 rounded-[3rem] border border-slate-200 min-h-[400px] bg-white/80",children:[C.jsx("h3",{className:"text-xl font-black mb-8 text-slate-800",children:"Mastery Distribution"}),C.jsx(G8,{width:"100%",height:300,children:C.jsxs(fie,{data:x,children:[C.jsx(DD,{dataKey:"name",hide:!0}),C.jsx(UD,{hide:!0,domain:[0,100]}),C.jsx(IQ,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"}}),C.jsx(ND,{dataKey:"score",radius:[12,12,12,12],barSize:45,children:x.map((R,O)=>C.jsx(Fb,{fill:O%2===0?"#3b82f6":"#8b5cf6"},O))})]})})]}),C.jsxs("div",{className:"glass p-10 rounded-[3rem] bg-blue-600 text-white flex flex-col justify-center shadow-2xl shadow-blue-200",children:[C.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-2",children:"Aggregate Proficiency"}),C.jsxs("h2",{className:"text-8xl font-black",children:[x.length?Math.round(x.reduce((R,O)=>R+O.score,0)/x.length):0,"%"]}),C.jsx("p",{className:"text-sm mt-6 opacity-80 leading-relaxed font-medium",children:"Your current standing across all verified Aditya University modules."})]})]})]}),a==="quiz"&&l&&C.jsx(Mz,{quiz:l,userId:e.id,onComplete:_,onCancel:()=>s(A?"admin":"dashboard")}),a==="editor"&&A&&C.jsx(a6,{quiz:c,onSave:w,onCancel:()=>s("admin")}),a==="library"&&C.jsxs("div",{className:"max-w-5xl mx-auto text-center py-32 animate-slideUp",children:[C.jsx("div",{className:"w-24 h-24 bg-blue-50 text-blue-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-blue-50",children:C.jsx(Pw,{className:"w-12 h-12"})}),C.jsx("h1",{className:"text-4xl font-black mb-4",children:"Faculty Resource Library"}),C.jsx("p",{className:"text-slate-500 max-w-md mx-auto leading-relaxed",children:"Study guides and lecture materials are managed via the Secure College Database."})]})]}),v&&C.jsx(s6,{})]})},KD=document.getElementById("root");if(!KD)throw new Error("Could not find root element to mount to");const hie=YL.createRoot(KD);hie.render(C.jsx(_C.StrictMode,{children:C.jsx(die,{})}));
